{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/spine/loader.py", "data": {"functions": 6, "total_complexity": 15, "avg_complexity": 2.5, "max_complexity": 4, "p95_complexity": 4.0, "by_function": [{"name": "CapabilitiesLoader._load_yaml", "lineno": 37, "complexity": 4, "nested": false}, {"name": "CapabilitiesLoader._resolve_target", "lineno": 51, "complexity": 4, "nested": false}, {"name": "CapabilitiesLoader.load", "lineno": 62, "complexity": 4, "nested": false}, {"name": "CapabilitiesLoader.__init__", "lineno": 34, "complexity": 1, "nested": false}, {"name": "capability_run", "lineno": 83, "complexity": 1, "nested": false}, {"name": "get_registry", "lineno": 92, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:2704df11f2b994e822b8e5a148163f9769a26476308809af684fc552da09680c"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/spine/middleware.py", "data": {"functions": 5, "total_complexity": 17, "avg_complexity": 3.4, "max_complexity": 10, "p95_complexity": 10.0, "by_function": [{"name": "RetriesMiddleware.__call__", "lineno": 106, "complexity": 10, "nested": false}, {"name": "TimingMiddleware.__call__", "lineno": 66, "complexity": 3, "nested": false}, {"name": "GuardMiddleware.__call__", "lineno": 31, "complexity": 2, "nested": false}, {"name": "TimingMiddleware.__init__", "lineno": 63, "complexity": 1, "nested": false}, {"name": "RetriesMiddleware.__init__", "lineno": 102, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:85f1c81fc0fe165a07c6dbc5cf22be28ee6a81bc47d8f5b0fd8428b2ad5b514b"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/spine/providers/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:470a0afd5928496e455aea83b38afe47088a93daa184cb244aeb43abc8cc8b33"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/spine/providers/packager_bundle_inject_prompt.py", "data": {"functions": 3, "total_complexity": 24, "avg_complexity": 8.0, "max_complexity": 15, "p95_complexity": 15.0, "by_function": [{"name": "run_v1", "lineno": 48, "complexity": 15, "nested": false}, {"name": "_try_invoke_code_bundles", "lineno": 16, "complexity": 8, "nested": false}, {"name": "_write_json", "lineno": 11, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:ff5fc226932b09b6f6881a23483d7b210ec37d44d1aecb2e580d081c93560f37"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/spine/providers/packager_bundle_make.py", "data": {"functions": 10, "total_complexity": 55, "avg_complexity": 5.5, "max_complexity": 24, "p95_complexity": 24.0, "by_function": [{"name": "run_v1", "lineno": 135, "complexity": 24, "nested": false}, {"name": "_first_artifact", "lineno": 37, "complexity": 7, "nested": false}, {"name": "_write_manifest_chunked", "lineno": 76, "complexity": 6, "nested": false}, {"name": "_as_bool", "lineno": 29, "complexity": 5, "nested": false}, {"name": "_call_provider", "lineno": 49, "complexity": 3, "nested": false}, {"name": "_write_manifest_monolith", "lineno": 60, "complexity": 3, "nested": false}, {"name": "flush_part", "lineno": 96, "complexity": 3, "nested": true}, {"name": "_ng", "lineno": 24, "complexity": 2, "nested": false}, {"name": "_ok", "lineno": 21, "complexity": 1, "nested": false}, {"name": "_Shim.__init__", "lineno": 51, "complexity": 1, "nested": true}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:dd19e3a018e2c31139924c2cfb86f38dfcc93a01f1912bba98e8c63832513323"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/spine/providers/packager_bundle_unpack.py", "data": {"functions": 4, "total_complexity": 35, "avg_complexity": 8.75, "max_complexity": 26, "p95_complexity": 26.0, "by_function": [{"name": "run_v1", "lineno": 88, "complexity": 26, "nested": false}, {"name": "_iter_jsonl", "lineno": 72, "complexity": 5, "nested": false}, {"name": "_safe_join", "lineno": 57, "complexity": 3, "nested": false}, {"name": "_sha256_bytes", "lineno": 53, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:e0e1fb7e21b74973544721877f5556ba960a84ddac505284ea0330fd6bf26524"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/spine/providers/packager_pack_run.py", "data": {"functions": 5, "total_complexity": 33, "avg_complexity": 6.6, "max_complexity": 20, "p95_complexity": 20.0, "by_function": [{"name": "run_v1", "lineno": 96, "complexity": 20, "nested": false}, {"name": "_project_root", "lineno": 50, "complexity": 4, "nested": false}, {"name": "_bool", "lineno": 85, "complexity": 4, "nested": false}, {"name": "_find_packager_src", "lineno": 61, "complexity": 3, "nested": false}, {"name": "_ensure_on_syspath", "lineno": 79, "complexity": 2, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:208edc57535309278c3cf2ea0b9a31353a8a295edc91ec4cdcc1c9677a07d762"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/spine/providers/utils_code_index.py", "data": {"functions": 7, "total_complexity": 54, "avg_complexity": 7.714, "max_complexity": 21, "p95_complexity": 21.0, "by_function": [{"name": "run_v1", "lineno": 167, "complexity": 21, "nested": false}, {"name": "_normalize_rows", "lineno": 100, "complexity": 9, "nested": false}, {"name": "_write_rows", "lineno": 130, "complexity": 9, "nested": false}, {"name": "_detect_format", "lineno": 70, "complexity": 6, "nested": false}, {"name": "_as_bool", "lineno": 60, "complexity": 4, "nested": false}, {"name": "_choose_callable", "lineno": 84, "complexity": 3, "nested": false}, {"name": "_filter_kwargs", "lineno": 94, "complexity": 2, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:c04b335f7304397b673be29eec557f8f680991d00ae95eb050ce632b03ee2cf3"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/spine/providers/utils_db_init_sqlite_dev.py", "data": {"functions": 6, "total_complexity": 28, "avg_complexity": 4.667, "max_complexity": 14, "p95_complexity": 14.0, "by_function": [{"name": "run_v1", "lineno": 123, "complexity": 14, "nested": false}, {"name": "_as_bool", "lineno": 56, "complexity": 4, "nested": false}, {"name": "_summarize_sqlite", "lineno": 86, "complexity": 4, "nested": false}, {"name": "_choose_callable", "lineno": 70, "complexity": 3, "nested": false}, {"name": "_filter_kwargs", "lineno": 79, "complexity": 2, "nested": false}, {"name": "_ensure_parent", "lineno": 66, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:9134b20d32afd189219b4305aa8c8f600bea6d39f0c419f0d3a51c87ad2df4d6"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/spine/providers/utils_db_load_sqlite_vec.py", "data": {"functions": 6, "total_complexity": 33, "avg_complexity": 5.5, "max_complexity": 16, "p95_complexity": 16.0, "by_function": [{"name": "run_v1", "lineno": 108, "complexity": 16, "nested": false}, {"name": "_summarize_db", "lineno": 63, "complexity": 6, "nested": false}, {"name": "_as_bool", "lineno": 49, "complexity": 4, "nested": false}, {"name": "_sqlite_version", "lineno": 86, "complexity": 3, "nested": false}, {"name": "_validate_plugin_file", "lineno": 96, "complexity": 3, "nested": false}, {"name": "_ensure_parent", "lineno": 59, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:6e4fef6c0f6734aef935fe28618fc91dfa8911821f35172ea567dbded809c987"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/spine/providers/utils_download_models.py", "data": {"functions": 6, "total_complexity": 36, "avg_complexity": 6.0, "max_complexity": 19, "p95_complexity": 19.0, "by_function": [{"name": "run_v1", "lineno": 108, "complexity": 19, "nested": false}, {"name": "_as_bool", "lineno": 48, "complexity": 4, "nested": false}, {"name": "_iter_files", "lineno": 76, "complexity": 4, "nested": false}, {"name": "_summarize_dirs", "lineno": 85, "complexity": 4, "nested": false}, {"name": "_project_root", "lineno": 58, "complexity": 3, "nested": false}, {"name": "_ensure_on_syspath", "lineno": 70, "complexity": 2, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:bf1cbfeda6fae33a04d11ab3dc115cc0e8ca805e02a91adb143ddcb9289523a5"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/spine/providers/utils_io_zip.py", "data": {"functions": 5, "total_complexity": 28, "avg_complexity": 5.6, "max_complexity": 14, "p95_complexity": 14.0, "by_function": [{"name": "run_v1", "lineno": 88, "complexity": 14, "nested": false}, {"name": "_summarize_zip", "lineno": 78, "complexity": 5, "nested": false}, {"name": "_as_bool", "lineno": 51, "complexity": 4, "nested": false}, {"name": "_choose_callable", "lineno": 61, "complexity": 3, "nested": false}, {"name": "_filter_kwargs", "lineno": 72, "complexity": 2, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:d2c54b965c2fb35324a240ba27fa5520955bba07e5628dc631ebf506fcf8f159"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/spine/registry.py", "data": {"functions": 17, "total_complexity": 84, "avg_complexity": 4.941, "max_complexity": 32, "p95_complexity": 32.0, "by_function": [{"name": "CapabilityRegistry.run", "lineno": 222, "complexity": 32, "nested": false}, {"name": "CapabilityRegistry._normalize_to_artifacts", "lineno": 154, "complexity": 20, "nested": false}, {"name": "_make_problem", "lineno": 69, "complexity": 6, "nested": false}, {"name": "CapabilityRegistry._resolve", "lineno": 130, "complexity": 6, "nested": false}, {"name": "CapabilityRegistry.bulk_register", "lineno": 121, "complexity": 4, "nested": false}, {"name": "CapabilityRegistry.register", "lineno": 106, "complexity": 3, "nested": false}, {"name": "_sha256", "lineno": 45, "complexity": 2, "nested": false}, {"name": "_jsonable", "lineno": 47, "complexity": 2, "nested": true}, {"name": "Artifact.to_dict", "lineno": 41, "complexity": 1, "nested": false}, {"name": "_make_result", "lineno": 64, "complexity": 1, "nested": false}, {"name": "CapabilityRegistry.__init__", "lineno": 100, "complexity": 1, "nested": false}, {"name": "CapabilityRegistry.has", "lineno": 146, "complexity": 1, "nested": false}, {"name": "CapabilityRegistry.names", "lineno": 149, "complexity": 1, "nested": false}, {"name": "CapabilityRegistry._TaskLike.__init__", "lineno": 242, "complexity": 1, "nested": true}, {"name": "CapabilityRegistry._call_with", "lineno": 256, "complexity": 1, "nested": true}, {"name": "run", "lineno": 341, "complexity": 1, "nested": false}, {"name": "run_capability", "lineno": 345, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:65345cffc2b0790367c7e42941ee191f1d00e55a1cfdcf0595d827b80086be0e"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/spine/validation.py", "data": {"functions": 17, "total_complexity": 46, "avg_complexity": 2.706, "max_complexity": 12, "p95_complexity": 12.0, "by_function": [{"name": "_validate", "lineno": 104, "complexity": 12, "nested": true}, {"name": "_validate", "lineno": 137, "complexity": 6, "nested": true}, {"name": "ValidatorRegistry._run_all", "lineno": 74, "complexity": 5, "nested": false}, {"name": "ValidatorRegistry._collect", "lineno": 65, "complexity": 3, "nested": false}, {"name": "optional_fields", "lineno": 126, "complexity": 3, "nested": false}, {"name": "ValidatorRegistry.register_input", "lineno": 40, "complexity": 2, "nested": false}, {"name": "ValidatorRegistry.register_output", "lineno": 46, "complexity": 2, "nested": false}, {"name": "_v", "lineno": 151, "complexity": 2, "nested": true}, {"name": "_v", "lineno": 158, "complexity": 2, "nested": true}, {"name": "_v", "lineno": 165, "complexity": 2, "nested": true}, {"name": "ValidatorRegistry.__init__", "lineno": 34, "complexity": 1, "nested": false}, {"name": "ValidatorRegistry.validate_input", "lineno": 54, "complexity": 1, "nested": false}, {"name": "ValidatorRegistry.validate_output", "lineno": 58, "complexity": 1, "nested": false}, {"name": "require_fields", "lineno": 92, "complexity": 1, "nested": false}, {"name": "is_dict", "lineno": 150, "complexity": 1, "nested": false}, {"name": "is_list", "lineno": 157, "complexity": 1, "nested": false}, {"name": "is_instance", "lineno": 164, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:d3f109d608b1bcc9d0ca93ff8634106dd60bdfffa86e03d42c90f4df45a273bd"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/tasks/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:b6f00fee8a0636f8828d58002d1547ce2f23655e1b363cb1c95dd00dca871366"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/tasks/adapter.py", "data": {"functions": 2, "total_complexity": 9, "avg_complexity": 4.5, "max_complexity": 6, "p95_complexity": 6.0, "by_function": [{"name": "_unwrap_meta", "lineno": 17, "complexity": 6, "nested": false}, {"name": "GenericSanitizerAdapter.sanitize", "lineno": 38, "complexity": 3, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:94c8539a157526bc5399f79f997a85eff160b94e674cdd3a66a01c7774ff37b8"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/tasks/base.py", "data": {"functions": 5, "total_complexity": 5, "avg_complexity": 1.0, "max_complexity": 1, "p95_complexity": 1.0, "by_function": [{"name": "TaskAdapter.sanitize", "lineno": 24, "complexity": 1, "nested": false}, {"name": "TaskAdapter.apply", "lineno": 32, "complexity": 1, "nested": false}, {"name": "TaskAdapter.verify", "lineno": 39, "complexity": 1, "nested": false}, {"name": "TaskAdapter.build_items", "lineno": 47, "complexity": 1, "nested": false}, {"name": "TaskAdapter.parse_response", "lineno": 51, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:1ed1c9e151d626db51802dc6ebc732c7e4f6333cd2bed793f2a8ee1b18d6cb21"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/tasks/providers.py", "data": {"functions": 3, "total_complexity": 15, "avg_complexity": 5.0, "max_complexity": 12, "p95_complexity": 12.0, "by_function": [{"name": "verify_v1", "lineno": 48, "complexity": 12, "nested": false}, {"name": "_err", "lineno": 37, "complexity": 2, "nested": false}, {"name": "_ok", "lineno": 33, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:a3e248166ddac27793ee885153c591869011f103da655e51a8d2d2282b034e08"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/tasks/registry.py", "data": {"functions": 1, "total_complexity": 5, "avg_complexity": 5.0, "max_complexity": 5, "p95_complexity": 5.0, "by_function": [{"name": "select_task_adapter", "lineno": 8, "complexity": 5, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:ea13d6b9cc9fe254d0b045428b8eff9d7c6a3f3421024b47d18236aa234b5fb3"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/types/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:62221ba0223a7ba0fd7adab74cc04637190e78258f67eff3d371093295b5a732"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/types/types.py", "data": {"functions": 3, "total_complexity": 7, "avg_complexity": 2.333, "max_complexity": 5, "p95_complexity": 5.0, "by_function": [{"name": "AskSpec.validate", "lineno": 77, "complexity": 5, "nested": false}, {"name": "AskSpec.for_docstrings", "lineno": 88, "complexity": 1, "nested": false}, {"name": "AskSpec.for_qa", "lineno": 99, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:1a75a22e5ef1690a3376757f06bb2b7da2e35bb7e9af3c0abc087b3a1f36f0c0"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:f9bc0b8ee4f16c413ba9855f42c769a7fe6d829daf0614d1fa59214a87ceb50c"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:1d93d9f5a97f3f40d9bd00c723f733bcc513b9a8b9abc8a35587fc9b60f04b80"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:a88163df07f6d0e229d257ae27530bdb8712ebcd5fc6968721535807a1bec0c7"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/bundle_io.py", "data": {"functions": 13, "total_complexity": 52, "avg_complexity": 4.0, "max_complexity": 10, "p95_complexity": 10.0, "by_function": [{"name": "rewrite_manifest_paths", "lineno": 146, "complexity": 10, "nested": false}, {"name": "emit_standard_artifacts", "lineno": 86, "complexity": 9, "nested": false}, {"name": "emit_transport_parts", "lineno": 119, "complexity": 7, "nested": false}, {"name": "ManifestAppender.ensure_header", "lineno": 31, "complexity": 5, "nested": false}, {"name": "ManifestAppender._read_lines", "lineno": 19, "complexity": 3, "nested": false}, {"name": "ManifestAppender._is_header", "lineno": 39, "complexity": 3, "nested": true}, {"name": "_artifact_record", "lineno": 74, "complexity": 3, "nested": false}, {"name": "_map", "lineno": 155, "complexity": 3, "nested": true}, {"name": "write_sha256sums_for_file", "lineno": 188, "complexity": 3, "nested": false}, {"name": "ManifestAppender.__init__", "lineno": 13, "complexity": 2, "nested": false}, {"name": "ManifestAppender.append_many", "lineno": 64, "complexity": 2, "nested": false}, {"name": "ManifestAppender._write_lines", "lineno": 27, "complexity": 1, "nested": false}, {"name": "ManifestAppender.append_record", "lineno": 59, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:a7e60be5e261477efcd7b1bfa161f77ced3ad72780f8eba164ffc0277198dd09"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/contracts.py", "data": {"functions": 6, "total_complexity": 15, "avg_complexity": 2.5, "max_complexity": 5, "p95_complexity": 5.0, "by_function": [{"name": "build_manifest_header", "lineno": 9, "complexity": 5, "nested": false}, {"name": "build_bundle_summary", "lineno": 42, "complexity": 3, "nested": false}, {"name": "ast_symbol", "lineno": 56, "complexity": 2, "nested": false}, {"name": "ast_xref", "lineno": 82, "complexity": 2, "nested": false}, {"name": "build_quality_metric", "lineno": 95, "complexity": 2, "nested": false}, {"name": "ast_call", "lineno": 70, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:5f563522b703dcff1074c5eba54ae410f03ad902deb0bd0e7be63ff2c911fa6b"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/execute/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:0b0f0b3bf3e876d5b4bd2d534eab6283f3ccade261ed0b1f8a7ea931c7f22a2b"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/execute/config.py", "data": {"functions": 3, "total_complexity": 28, "avg_complexity": 9.333, "max_complexity": 21, "p95_complexity": 21.0, "by_function": [{"name": "build_cfg", "lineno": 49, "complexity": 21, "nested": false}, {"name": "_load_packager_config", "lineno": 26, "complexity": 4, "nested": false}, {"name": "_load_packager_transport", "lineno": 37, "complexity": 3, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:a97c603406e47e0c0d231d874c8b11804757b41024362ec02a3006839504ef50"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/execute/executor.py", "data": {"functions": 3, "total_complexity": 49, "avg_complexity": 16.333, "max_complexity": 43, "p95_complexity": 43.0, "by_function": [{"name": "main", "lineno": 81, "complexity": 43, "nested": false}, {"name": "_load_analysis_emitter", "lineno": 11, "complexity": 5, "nested": false}, {"name": "_rewrite_to_mode", "lineno": 204, "complexity": 1, "nested": true}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:56126f9055e11857a5a230c9d93ce8806c85635300e50930878f3c838d7fdc1c"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/execute/fs.py", "data": {"functions": 4, "total_complexity": 27, "avg_complexity": 6.75, "max_complexity": 17, "p95_complexity": 17.0, "by_function": [{"name": "write_sha256sums_for_parts", "lineno": 73, "complexity": 17, "nested": false}, {"name": "write_parts_from_jsonl", "lineno": 8, "complexity": 6, "nested": false}, {"name": "make_name", "lineno": 34, "complexity": 2, "nested": true}, {"name": "flush", "lineno": 42, "complexity": 2, "nested": true}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:79aa003508a4da27d954375bb9e92082dba046ebab39266575b4d2a19dffb2fb"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/execute/funcs.py", "data": {"functions": 10, "total_complexity": 61, "avg_complexity": 6.1, "max_complexity": 12, "p95_complexity": 12.0, "by_function": [{"name": "discover_repo_paths", "lineno": 112, "complexity": 12, "nested": false}, {"name": "map_record_paths_inplace", "lineno": 100, "complexity": 8, "nested": false}, {"name": "clear_dir_contents", "lineno": 43, "complexity": 7, "nested": false}, {"name": "match_any", "lineno": 18, "complexity": 6, "nested": false}, {"name": "seg_excluded", "lineno": 30, "complexity": 6, "nested": false}, {"name": "is_managed_path", "lineno": 73, "complexity": 6, "nested": false}, {"name": "read_root_publish_analysis", "lineno": 152, "complexity": 5, "nested": false}, {"name": "tool_versions", "lineno": 92, "complexity": 4, "nested": false}, {"name": "read_root_emit_ast", "lineno": 170, "complexity": 4, "nested": false}, {"name": "copy_snapshot", "lineno": 58, "complexity": 3, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:56132079cd05a6f6ad90227f9cab41dad7ab9b6014a439a08262ae33b85f21d4"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/execute/github.py", "data": {"functions": 16, "total_complexity": 108, "avg_complexity": 6.75, "max_complexity": 27, "p95_complexity": 27.0, "by_function": [{"name": "publish_to_github", "lineno": 176, "complexity": 27, "nested": false}, {"name": "prune_remote_code_delta", "lineno": 285, "complexity": 16, "nested": false}, {"name": "publish_github_design_manifest_memory", "lineno": 397, "complexity": 14, "nested": false}, {"name": "prune_remote_artifacts_delta", "lineno": 346, "complexity": 12, "nested": false}, {"name": "gh_walk_files", "lineno": 102, "complexity": 9, "nested": false}, {"name": "github_clean_remote_repo", "lineno": 127, "complexity": 9, "nested": false}, {"name": "gh_list_dir", "lineno": 81, "complexity": 4, "nested": false}, {"name": "_cfg_req", "lineno": 23, "complexity": 3, "nested": false}, {"name": "print_full_raw_links", "lineno": 163, "complexity": 3, "nested": false}, {"name": "_req", "lineno": 515, "complexity": 3, "nested": true}, {"name": "_cfg_get", "lineno": 32, "complexity": 2, "nested": false}, {"name": "_flush", "lineno": 462, "complexity": 2, "nested": true}, {"name": "gh_headers", "lineno": 51, "complexity": 1, "nested": false}, {"name": "gh_json", "lineno": 59, "complexity": 1, "nested": false}, {"name": "gh_delete_file", "lineno": 65, "complexity": 1, "nested": false}, {"name": "_api_headers", "lineno": 507, "complexity": 1, "nested": true}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:dfe7a9ee5d625eebb9a5f00811cef4a5e90224fa2674fbaab6e20d11ba788b27"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/execute/loader.py", "data": {"functions": 6, "total_complexity": 54, "avg_complexity": 9.0, "max_complexity": 22, "p95_complexity": 22.0, "by_function": [{"name": "get_packager", "lineno": 95, "complexity": 22, "nested": false}, {"name": "get_secrets", "lineno": 165, "complexity": 18, "nested": false}, {"name": "ConfigPaths.detect", "lineno": 43, "complexity": 6, "nested": false}, {"name": "_read_yaml", "lineno": 82, "complexity": 4, "nested": false}, {"name": "_validate_non_empty_string", "lineno": 159, "complexity": 3, "nested": false}, {"name": "get_repo_root", "lineno": 75, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:b986f7bc787d4c70f1551a3917e6a91cae40dc21507c95100d7a8e2cd0e4ac11"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/execute/manifest.py", "data": {"functions": 5, "total_complexity": 22, "avg_complexity": 4.4, "max_complexity": 13, "p95_complexity": 13.0, "by_function": [{"name": "maybe_chunk_manifest_and_update", "lineno": 73, "complexity": 13, "nested": false}, {"name": "_t_as_dict", "lineno": 30, "complexity": 3, "nested": false}, {"name": "should_chunk", "lineno": 46, "complexity": 3, "nested": false}, {"name": "_t_get", "lineno": 37, "complexity": 2, "nested": false}, {"name": "append_parts_artifacts_into_manifest", "lineno": 54, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:216caf5e96ee7bb7e6d9afa775ea7325ac8431e23ce53ca88ba71966e6152e0e"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/execute/plugins.py", "data": {"functions": 1, "total_complexity": 17, "avg_complexity": 17.0, "max_complexity": 17, "p95_complexity": 17.0, "by_function": [{"name": "run_plugins_and_write_artifacts", "lineno": 18, "complexity": 17, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:739348ea8355e5c9ac0031704da5274b8a77d1e592939d68cedb5360f0b526b7"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/execute/read_scanners.py", "data": {"functions": 16, "total_complexity": 85, "avg_complexity": 5.312, "max_complexity": 26, "p95_complexity": 26.0, "by_function": [{"name": "augment_manifest", "lineno": 138, "complexity": 26, "nested": false}, {"name": "augment_manifest_memory", "lineno": 374, "complexity": 24, "nested": false}, {"name": "append_records", "lineno": 109, "complexity": 7, "nested": false}, {"name": "_producer_from_callable", "lineno": 168, "complexity": 3, "nested": true}, {"name": "map_path", "lineno": 175, "complexity": 3, "nested": true}, {"name": "_take_list", "lineno": 243, "complexity": 3, "nested": true}, {"name": "run_scanner", "lineno": 291, "complexity": 3, "nested": true}, {"name": "_producer_from_callable", "lineno": 409, "complexity": 3, "nested": true}, {"name": "_take_list", "lineno": 477, "complexity": 3, "nested": true}, {"name": "run_scanner", "lineno": 522, "complexity": 3, "nested": true}, {"name": "MemoryAppender.ensure_header", "lineno": 91, "complexity": 2, "nested": false}, {"name": "MemoryAppender.__init__", "lineno": 87, "complexity": 1, "nested": false}, {"name": "MemoryAppender.append_record", "lineno": 96, "complexity": 1, "nested": false}, {"name": "MemoryAppender.to_jsonl_bytes", "lineno": 99, "complexity": 1, "nested": false}, {"name": "RecordAppender.append_record", "lineno": 106, "complexity": 1, "nested": false}, {"name": "map_path", "lineno": 414, "complexity": 1, "nested": true}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:a64bf1bc67807c027e40bfe40277c1adf4ce53af60ca17eecd352931b21a1d5b"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/graphs.py", "data": {"functions": 2, "total_complexity": 11, "avg_complexity": 5.5, "max_complexity": 7, "p95_complexity": 7.0, "by_function": [{"name": "_edge_key", "lineno": 8, "complexity": 7, "nested": false}, {"name": "coalesce_edges", "lineno": 17, "complexity": 4, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:1598fddf270aefbda3440147f29c93b455f57ca906be648a48859a8cbadd7d24"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/lineage/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:d987e344b71ec13950f3cf5bbf476bb7134fa2c5e16e277e75c74d45ff5c7b38"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/normalize.py", "data": {"functions": 6, "total_complexity": 14, "avg_complexity": 2.333, "max_complexity": 7, "p95_complexity": 7.0, "by_function": [{"name": "Normalizer.apply", "lineno": 45, "complexity": 7, "nested": false}, {"name": "Normalizer._from_text", "lineno": 77, "complexity": 3, "nested": false}, {"name": "Normalizer.__init__", "lineno": 40, "complexity": 1, "nested": false}, {"name": "Normalizer._should_skip", "lineno": 70, "complexity": 1, "nested": false}, {"name": "Normalizer._to_text", "lineno": 74, "complexity": 1, "nested": false}, {"name": "apply_normalization", "lineno": 88, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:e811a8f88a23081aa5b9d0b99d7856380dcd7ef3fbfb7af201f97b2dd9afcc3c"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/patch_pack.py", "data": {"functions": 5, "total_complexity": 12, "avg_complexity": 2.4, "max_complexity": 4, "p95_complexity": 4.0, "by_function": [{"name": "PatchPack.build_rag_chunks", "lineno": 72, "complexity": 4, "nested": false}, {"name": "PatchPack._hash_to_vec", "lineno": 140, "complexity": 3, "nested": false}, {"name": "PatchPack.empty_patch_pack", "lineno": 52, "complexity": 2, "nested": false}, {"name": "PatchPack.build_embedding_index", "lineno": 120, "complexity": 2, "nested": false}, {"name": "_Chunk.as_dict", "lineno": 23, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:8aed867f32dd15a90c7feb0723723d71ae1a77733ea094815fd02fb5934f6bfa"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/python_api.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:6b40b8521c573462e22d01690ef852c87ac0cb126554dac55de95d8b36b363d2"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/quality.py", "data": {"functions": 4, "total_complexity": 26, "avg_complexity": 6.5, "max_complexity": 11, "p95_complexity": 11.0, "by_function": [{"name": "quality_for_python", "lineno": 84, "complexity": 11, "nested": false}, {"name": "_function_spans", "lineno": 70, "complexity": 8, "nested": false}, {"name": "_text_loc_sloc", "lineno": 27, "complexity": 4, "nested": false}, {"name": "_cyclomatic_complexity", "lineno": 59, "complexity": 3, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:d6db4b2e2e5438033abd8c815d492df5d30b009d6341b631320942bea609a79e"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/spine_targets.py", "data": {"functions": 3, "total_complexity": 14, "avg_complexity": 4.667, "max_complexity": 11, "p95_complexity": 11.0, "by_function": [{"name": "inject_prompts_v1", "lineno": 63, "complexity": 11, "nested": false}, {"name": "_err", "lineno": 45, "complexity": 2, "nested": false}, {"name": "_ok", "lineno": 34, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:3c71abb1eb1f09d998002b9480eb09999c2b187b302c9a9ea16058a0745f8e12"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:a863da0f8e0e6f76c31edbd31ccfc58d69f6c47592138be659aa0e358b0ecd9f"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:a0564987206301bd214d06b1651ab96e2e2a3a7097af47ddfb16b088f3702a1f"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/analysis_emitter.py", "data": {"functions": 16, "total_complexity": 79, "avg_complexity": 4.938, "max_complexity": 16, "p95_complexity": 16.0, "by_function": [{"name": "_sanitize_item", "lineno": 190, "complexity": 16, "nested": false}, {"name": "_emit_analysis_sidecars", "lineno": 249, "complexity": 14, "nested": false}, {"name": "_resolve_modes_from_cfg", "lineno": 146, "complexity": 11, "nested": false}, {"name": "emit_all", "lineno": 335, "complexity": 10, "nested": false}, {"name": "_manifest_dir_from_cfg", "lineno": 93, "complexity": 4, "nested": false}, {"name": "_resolve_manifest_dir", "lineno": 111, "complexity": 4, "nested": false}, {"name": "_key", "lineno": 226, "complexity": 4, "nested": true}, {"name": "_get", "lineno": 64, "complexity": 3, "nested": false}, {"name": "_summary_filename_for_family", "lineno": 78, "complexity": 3, "nested": false}, {"name": "emit_from_config", "lineno": 396, "complexity": 3, "nested": false}, {"name": "_is_verbose", "lineno": 73, "complexity": 2, "nested": false}, {"name": "_pfx", "lineno": 52, "complexity": 1, "nested": false}, {"name": "_ensure_dir", "lineno": 55, "complexity": 1, "nested": false}, {"name": "write_json_atomic", "lineno": 58, "complexity": 1, "nested": false}, {"name": "_filename_for_family", "lineno": 179, "complexity": 1, "nested": false}, {"name": "_reduce_family", "lineno": 217, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:7c25b0285b467d49c4e1a4f9f77ca91c0fc6fecb1909c2c0583511f04935a59f"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/core/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:419a202644210b206e78e3804bca43512558f2d93cbb81d6b5b96f2166df6d6b"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/core/discovery.py", "data": {"functions": 6, "total_complexity": 21, "avg_complexity": 3.5, "max_complexity": 12, "p95_complexity": 12.0, "by_function": [{"name": "DiscoveryEngine.discover", "lineno": 65, "complexity": 12, "nested": false}, {"name": "DiscoveryEngine._seg_excluded", "lineno": 52, "complexity": 3, "nested": false}, {"name": "_cf", "lineno": 14, "complexity": 2, "nested": false}, {"name": "_match_glob", "lineno": 24, "complexity": 2, "nested": false}, {"name": "_norm_glob", "lineno": 19, "complexity": 1, "nested": false}, {"name": "DiscoveryEngine.__init__", "lineno": 49, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:032d298856f3aa532a5ab6e92a772e1393dd8de8567d60901c5733854f892fff"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/core/errors.py", "data": {"functions": 2, "total_complexity": 7, "avg_complexity": 3.5, "max_complexity": 5, "p95_complexity": 5.0, "by_function": [{"name": "PackagerError.__str__", "lineno": 41, "complexity": 5, "nested": false}, {"name": "PackagerError.__init__", "lineno": 27, "complexity": 2, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:841dc178d0b74dec4edf26a97ea0b0afd71f1f4528f62eca9926636f1ad224a9"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/core/integrity.py", "data": {"functions": 2, "total_complexity": 4, "avg_complexity": 2.0, "max_complexity": 3, "p95_complexity": 3.0, "by_function": [{"name": "Integrity.sha256_file", "lineno": 12, "complexity": 3, "nested": false}, {"name": "Integrity.sha256_bytes", "lineno": 8, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:1af2336415fcc285c64af0194140cbfaa286556e0e744bbc59dcd48dec58e9fd"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/core/loader.py", "data": {"functions": 10, "total_complexity": 44, "avg_complexity": 4.4, "max_complexity": 13, "p95_complexity": 13.0, "by_function": [{"name": "load_packager_config", "lineno": 145, "complexity": 13, "nested": false}, {"name": "_resolve_emitter_policy", "lineno": 96, "complexity": 7, "nested": false}, {"name": "as_set", "lineno": 113, "complexity": 7, "nested": true}, {"name": "_family_canon_map", "lineno": 61, "complexity": 5, "nested": false}, {"name": "_load_yaml", "lineno": 42, "complexity": 3, "nested": false}, {"name": "_req_str", "lineno": 49, "complexity": 3, "nested": false}, {"name": "_canon_family", "lineno": 89, "complexity": 2, "nested": false}, {"name": "_resolve_under_root", "lineno": 174, "complexity": 2, "nested": true}, {"name": "_get_bool", "lineno": 56, "complexity": 1, "nested": false}, {"name": "_norm", "lineno": 68, "complexity": 1, "nested": true}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:465148343c2c0ae88842ec2728f1ad377b71f98c541d9f4ea374da8a2ba06714"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/core/orchestrator.py", "data": {"functions": 4, "total_complexity": 21, "avg_complexity": 5.25, "max_complexity": 17, "p95_complexity": 17.0, "by_function": [{"name": "Packager.run", "lineno": 52, "complexity": 17, "nested": false}, {"name": "_posix_rel", "lineno": 18, "complexity": 2, "nested": false}, {"name": "_iso_now", "lineno": 14, "complexity": 1, "nested": false}, {"name": "Packager.__init__", "lineno": 47, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:359d2b8afd7bc3bcc95523dd7654bea58b4dfb1bcfbbc0c7228d96e58bd3cedd"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/core/paths.py", "data": {"functions": 2, "total_complexity": 2, "avg_complexity": 1.0, "max_complexity": 1, "p95_complexity": 1.0, "by_function": [{"name": "ensure_dir", "lineno": 6, "complexity": 1, "nested": false}, {"name": "analysis_out_dir", "lineno": 10, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:34421150bf0a6da9eef435808502c61c37c26fe744a2f1a92f7fd9d7be9b739c"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/core/record_adapter.py", "data": {"functions": 11, "total_complexity": 112, "avg_complexity": 10.182, "max_complexity": 53, "p95_complexity": 53.0, "by_function": [{"name": "wrap_record", "lineno": 209, "complexity": 53, "nested": false}, {"name": "load_wrapper_policy", "lineno": 161, "complexity": 11, "nested": false}, {"name": "validate_v1", "lineno": 134, "complexity": 10, "nested": false}, {"name": "_infer_scope", "lineno": 110, "complexity": 8, "nested": false}, {"name": "_compute_fp", "lineno": 121, "complexity": 7, "nested": false}, {"name": "_extract_loc", "lineno": 84, "complexity": 6, "nested": false}, {"name": "_normalize_kind", "lineno": 64, "complexity": 5, "nested": false}, {"name": "_gi", "lineno": 85, "complexity": 5, "nested": true}, {"name": "_guess_path", "lineno": 76, "complexity": 4, "nested": false}, {"name": "_load_yaml", "lineno": 156, "complexity": 2, "nested": false}, {"name": "_utc_now_iso", "lineno": 60, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:0ef14c3fafe76d0fa2d737ba19b87b474e643e593ed08ea26a3dd23b240e008f"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/core/writer.py", "data": {"functions": 3, "total_complexity": 6, "avg_complexity": 2.0, "max_complexity": 4, "p95_complexity": 4.0, "by_function": [{"name": "write_json_atomic", "lineno": 16, "complexity": 4, "nested": false}, {"name": "ensure_dir", "lineno": 9, "complexity": 1, "nested": false}, {"name": "write_index", "lineno": 51, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:105cb563074c92ef21081dab918aeb458f4fdb86c4fe840001a84a21943f69b8"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/core/xxx_config.py", "data": {"functions": 5, "total_complexity": 5, "avg_complexity": 1.0, "max_complexity": 1, "p95_complexity": 1.0, "by_function": [{"name": "Limits.__getattr__", "lineno": 91, "complexity": 1, "nested": false}, {"name": "SandboxConstraints.__getattr__", "lineno": 115, "complexity": 1, "nested": false}, {"name": "Policy.sandbox_constraints", "lineno": 134, "complexity": 1, "nested": false}, {"name": "Policy.secrets_policy", "lineno": 138, "complexity": 1, "nested": false}, {"name": "Policy.phases", "lineno": 142, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:14487576cbbf84152b5ca626e4ee50a37a2237b007f7a608381d99a01bb74ffa"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/emitters/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:9b6c8db68018c15fbedfd8494c8ca731ebaec100c083e2bed0c813dadfab328a"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/emitters/backfill.py", "data": {"functions": 5, "total_complexity": 74, "avg_complexity": 14.8, "max_complexity": 67, "p95_complexity": 67.0, "by_function": [{"name": "emit_analysis_sidecars", "lineno": 91, "complexity": 67, "nested": false}, {"name": "_norm_mode", "lineno": 63, "complexity": 4, "nested": false}, {"name": "_pfx", "lineno": 59, "complexity": 1, "nested": false}, {"name": "_should_write", "lineno": 79, "complexity": 1, "nested": false}, {"name": "_ensure_dir", "lineno": 83, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:546e9df73c6568999e6d92258070c38a8eda93291de83eed0d95937998d7ec5a"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/emitters/registry.py", "data": {"functions": 25, "total_complexity": 139, "avg_complexity": 5.56, "max_complexity": 14, "p95_complexity": 14.0, "by_function": [{"name": "_reduce_quality", "lineno": 134, "complexity": 14, "nested": false}, {"name": "_reduce_entrypoints", "lineno": 322, "complexity": 14, "nested": false}, {"name": "_reduce_ast_docstring", "lineno": 256, "complexity": 11, "nested": false}, {"name": "_reduce_license", "lineno": 346, "complexity": 9, "nested": false}, {"name": "_reduce_ast_calls", "lineno": 225, "complexity": 8, "nested": false}, {"name": "_reduce_env", "lineno": 172, "complexity": 7, "nested": false}, {"name": "_reduce_deps", "lineno": 193, "complexity": 7, "nested": false}, {"name": "_reduce_ast_imports", "lineno": 207, "complexity": 7, "nested": false}, {"name": "_reduce_io_core", "lineno": 291, "complexity": 7, "nested": false}, {"name": "_reduce_generic_counter", "lineno": 122, "complexity": 6, "nested": false}, {"name": "_reduce_quality_metric", "lineno": 158, "complexity": 6, "nested": false}, {"name": "_reduce_docs", "lineno": 243, "complexity": 6, "nested": false}, {"name": "_load_reducers_from_config", "lineno": 382, "complexity": 6, "nested": false}, {"name": "_top_n", "lineno": 109, "complexity": 5, "nested": false}, {"name": "_load_aliases_from_config", "lineno": 52, "complexity": 4, "nested": false}, {"name": "_as_dict", "lineno": 64, "complexity": 4, "nested": true}, {"name": "_reduce_git", "lineno": 312, "complexity": 4, "nested": false}, {"name": "_bind", "lineno": 407, "complexity": 4, "nested": true}, {"name": "_norm", "lineno": 45, "complexity": 3, "nested": false}, {"name": "_reduce_static", "lineno": 284, "complexity": 2, "nested": false}, {"name": "canonicalize_family", "lineno": 92, "complexity": 1, "nested": false}, {"name": "_zero_summary_base", "lineno": 104, "complexity": 1, "nested": false}, {"name": "_reduce_license_header", "lineno": 374, "complexity": 1, "nested": false}, {"name": "get_reducer", "lineno": 438, "complexity": 1, "nested": false}, {"name": "zero_summary_for", "lineno": 444, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:f963b571d8d1f863d760ca4dfd618ca27ec46984859e55b5f18e3cb492a0c7d4"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/io/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:7231812cbc81ff0a62a2539150896efaffc7615a6636873b02d1c5ca0eccf2a9"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/io/guide_writer.py", "data": {"functions": 13, "total_complexity": 135, "avg_complexity": 10.385, "max_complexity": 91, "p95_complexity": 91.0, "by_function": [{"name": "GuideWriter.build", "lineno": 137, "complexity": 91, "nested": false}, {"name": "_coerce_str", "lineno": 50, "complexity": 10, "nested": false}, {"name": "_coerce_int", "lineno": 79, "complexity": 9, "nested": false}, {"name": "_coerce_bool", "lineno": 99, "complexity": 7, "nested": false}, {"name": "_posix_rel", "lineno": 14, "complexity": 4, "nested": false}, {"name": "_get", "lineno": 41, "complexity": 3, "nested": false}, {"name": "_read_json", "lineno": 30, "complexity": 2, "nested": false}, {"name": "_take", "lineno": 37, "complexity": 2, "nested": false}, {"name": "_req_str", "lineno": 72, "complexity": 2, "nested": false}, {"name": "GuideWriter._card", "lineno": 307, "complexity": 2, "nested": true}, {"name": "_iso_now", "lineno": 9, "complexity": 1, "nested": false}, {"name": "GuideWriter.__init__", "lineno": 128, "complexity": 1, "nested": false}, {"name": "GuideWriter.write", "lineno": 131, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:594871c228937dd5f01b18c0cf2e21225a217e56dcd5d2da2d82ebf09e32e199"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/io/manifest_writer.py", "data": {"functions": 8, "total_complexity": 13, "avg_complexity": 1.625, "max_complexity": 3, "p95_complexity": 3.0, "by_function": [{"name": "write_sha256sums", "lineno": 123, "complexity": 3, "nested": false}, {"name": "BundleWriter.write", "lineno": 63, "complexity": 2, "nested": false}, {"name": "BundleWriter.write_sums", "lineno": 82, "complexity": 2, "nested": false}, {"name": "write_artifacts_bundle", "lineno": 114, "complexity": 2, "nested": false}, {"name": "PathOps.ensure_dir", "lineno": 27, "complexity": 1, "nested": false}, {"name": "Integrity.sha256_bytes", "lineno": 35, "complexity": 1, "nested": false}, {"name": "BundleWriter.__init__", "lineno": 58, "complexity": 1, "nested": false}, {"name": "BundleWriter._ensure_parent", "lineno": 108, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:a9a333d87b7919a309845a9e53043fb51b42596d03ae086f1b1ee739403ab2f5"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/io/publisher.py", "data": {"functions": 9, "total_complexity": 20, "avg_complexity": 2.222, "max_complexity": 5, "p95_complexity": 5.0, "by_function": [{"name": "_get_sha", "lineno": 35, "complexity": 5, "nested": false}, {"name": "GitHubPublisher.publish_many_files", "lineno": 96, "complexity": 4, "nested": false}, {"name": "_join_paths", "lineno": 61, "complexity": 3, "nested": false}, {"name": "_put_file", "lineno": 51, "complexity": 2, "nested": false}, {"name": "GitHubPublisher.__init__", "lineno": 74, "complexity": 2, "nested": false}, {"name": "_headers", "lineno": 21, "complexity": 1, "nested": false}, {"name": "_api_url", "lineno": 30, "complexity": 1, "nested": false}, {"name": "GitHubPublisher.publish_bytes", "lineno": 80, "complexity": 1, "nested": false}, {"name": "GitHubPublisher.publish_file", "lineno": 89, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:5746439d636f8416930498d9d08e7f64d58360d41c1645e9a74c623f2d1e7775"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/io/runspec_writer.py", "data": {"functions": 8, "total_complexity": 53, "avg_complexity": 6.625, "max_complexity": 41, "p95_complexity": 41.0, "by_function": [{"name": "RunSpecWriter.build_snapshot", "lineno": 64, "complexity": 41, "nested": false}, {"name": "_serialize_transport", "lineno": 30, "complexity": 4, "nested": false}, {"name": "_posix_rel", "lineno": 13, "complexity": 2, "nested": false}, {"name": "_as_path", "lineno": 26, "complexity": 2, "nested": false}, {"name": "_iso_now", "lineno": 9, "complexity": 1, "nested": false}, {"name": "_log", "lineno": 22, "complexity": 1, "nested": false}, {"name": "RunSpecWriter.__init__", "lineno": 54, "complexity": 1, "nested": false}, {"name": "RunSpecWriter.write", "lineno": 57, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:69d611c5ddfc4c5a76778f15b32ba59118c08526888b528a0fa8313e471218d6"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/languages/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:96a8422c699ff98533d9f13032f90c59a4925c6c43e0e83a7dcbd7ddd286b708"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/languages/base.py", "data": {"functions": 6, "total_complexity": 34, "avg_complexity": 5.667, "max_complexity": 9, "p95_complexity": 9.0, "by_function": [{"name": "_module_for_language", "lineno": 50, "complexity": 9, "nested": false}, {"name": "discover_language_plugins", "lineno": 112, "complexity": 8, "nested": false}, {"name": "_find_languages_dir", "lineno": 33, "complexity": 6, "nested": false}, {"name": "_wrap_legacy", "lineno": 81, "complexity": 5, "nested": false}, {"name": "_load_from_module", "lineno": 100, "complexity": 5, "nested": false}, {"name": "analyze", "lineno": 93, "complexity": 1, "nested": true}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:6a298e9bda3092a7b2cdb6b34f91d893d16ab47af8e714e3c623149595170488"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/languages/cpp/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:6c4e3f0890865e3c2cf5967b35bc198269ca5e51fdb406ab2845d2c830e38c1f"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/languages/cpp/plugin.py", "data": {"functions": 1, "total_complexity": 5, "avg_complexity": 5.0, "max_complexity": 5, "p95_complexity": 5.0, "by_function": [{"name": "_CppPlugin.analyze", "lineno": 34, "complexity": 5, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:57f2d72adbf7537be6aa289fd3df095adb64c4d67e62cdb61cdddb4b9372becf"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/languages/csharp/plugin.py", "data": {"functions": 1, "total_complexity": 5, "avg_complexity": 5.0, "max_complexity": 5, "p95_complexity": 5.0, "by_function": [{"name": "_CsPlugin.analyze", "lineno": 28, "complexity": 5, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:2ca33f3c0022b139f008bb0173faa8c3b6361475f34d63504f2493646ac24e81"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/languages/html/plugin.py", "data": {"functions": 3, "total_complexity": 12, "avg_complexity": 4.0, "max_complexity": 7, "p95_complexity": 7.0, "by_function": [{"name": "_Collector.handle_starttag", "lineno": 25, "complexity": 7, "nested": false}, {"name": "_HtmlPlugin.analyze", "lineno": 45, "complexity": 4, "nested": false}, {"name": "_Collector.__init__", "lineno": 19, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:7bc057d85cbde404ea92ba1c394663892383a698baf245f38a1013c635e4c907"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/languages/javascript/plugin.py", "data": {"functions": 1, "total_complexity": 5, "avg_complexity": 5.0, "max_complexity": 5, "p95_complexity": 5.0, "by_function": [{"name": "_JsPlugin.analyze", "lineno": 43, "complexity": 5, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:29b2411d90323e8e867e98889ec335aa143ddc1223ec90f5ed59ba99ac1a31d5"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/languages/python/plugin.py", "data": {"functions": 5, "total_complexity": 34, "avg_complexity": 6.8, "max_complexity": 14, "p95_complexity": 14.0, "by_function": [{"name": "_analyze_one", "lineno": 78, "complexity": 14, "nested": false}, {"name": "_coerce_files", "lineno": 36, "complexity": 12, "nested": false}, {"name": "_PythonPlugin.analyze", "lineno": 129, "complexity": 5, "nested": false}, {"name": "_safe_decode", "lineno": 71, "complexity": 2, "nested": false}, {"name": "_is_py", "lineno": 31, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:ea1612b8bd1d5a95134d99713f1b82593f0960b26b3730a1878a5d9504ba6f66"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/languages/sql/plugin.py", "data": {"functions": 4, "total_complexity": 22, "avg_complexity": 5.5, "max_complexity": 12, "p95_complexity": 12.0, "by_function": [{"name": "_dialect_hint", "lineno": 34, "complexity": 12, "nested": false}, {"name": "_SqlPlugin.analyze", "lineno": 59, "complexity": 5, "nested": false}, {"name": "_extract_refs", "lineno": 48, "complexity": 3, "nested": false}, {"name": "_split_statements", "lineno": 43, "complexity": 2, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:c9dcd490f536593c28ee9c50e00aaaafba69514114cf214c242da00feb8a282f"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/languages/typescript/plugin.py", "data": {"functions": 1, "total_complexity": 5, "avg_complexity": 5.0, "max_complexity": 5, "p95_complexity": 5.0, "by_function": [{"name": "_TsPlugin.analyze", "lineno": 44, "complexity": 5, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:4706e706f6d283a181b774803b79c559ee480cebb650ed0c5277ad60f111b2f7"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/manifest/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:9633b5b6ac0c797430d5b2da2f7abc31b1ad79e32893cafdeaea866b29638dab"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/manifest/reader.py", "data": {"functions": 12, "total_complexity": 61, "avg_complexity": 5.083, "max_complexity": 15, "p95_complexity": 15.0, "by_function": [{"name": "ManifestReader._resolve_part_files", "lineno": 175, "complexity": 15, "nested": false}, {"name": "ManifestReader._iter_part_file", "lineno": 211, "complexity": 14, "nested": false}, {"name": "_load_reader_aliases", "lineno": 79, "complexity": 6, "nested": false}, {"name": "ManifestReader._extract_family", "lineno": 264, "complexity": 5, "nested": false}, {"name": "_resolve_cfg_path", "lineno": 41, "complexity": 4, "nested": false}, {"name": "_load_yaml", "lineno": 60, "complexity": 4, "nested": false}, {"name": "_normalize_family_key", "lineno": 70, "complexity": 3, "nested": false}, {"name": "ManifestReader.__init__", "lineno": 131, "complexity": 3, "nested": false}, {"name": "ManifestReader.iter_manifest", "lineno": 156, "complexity": 2, "nested": false}, {"name": "ManifestReader._normalize_record", "lineno": 255, "complexity": 2, "nested": false}, {"name": "ManifestReader._canon", "lineno": 280, "complexity": 2, "nested": false}, {"name": "ManifestReader.iter_items", "lineno": 168, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:08c0f024a15f6b58efa4e32227306ce2c8c3cf59cc2528f6e21ca23ddfc80abf"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/manifest/registry.py", "data": {"functions": 17, "total_complexity": 45, "avg_complexity": 2.647, "max_complexity": 11, "p95_complexity": 11.0, "by_function": [{"name": "_load_registry_from_yaml", "lineno": 153, "complexity": 11, "nested": false}, {"name": "_build_reducers_from_tokens", "lineno": 136, "complexity": 8, "nested": false}, {"name": "_load_yaml", "lineno": 120, "complexity": 5, "nested": false}, {"name": "_docs_reducer", "lineno": 58, "complexity": 3, "nested": false}, {"name": "_quality_reducer", "lineno": 68, "complexity": 3, "nested": false}, {"name": "canonicalize_family", "lineno": 205, "complexity": 3, "nested": false}, {"name": "get_reducer", "lineno": 214, "complexity": 2, "nested": false}, {"name": "_generic_counter", "lineno": 25, "complexity": 1, "nested": false}, {"name": "_ast_symbols_reducer", "lineno": 33, "complexity": 1, "nested": false}, {"name": "_ast_imports_reducer", "lineno": 38, "complexity": 1, "nested": false}, {"name": "_ast_calls_reducer", "lineno": 43, "complexity": 1, "nested": false}, {"name": "_deps_reducer", "lineno": 48, "complexity": 1, "nested": false}, {"name": "_entrypoints_reducer", "lineno": 53, "complexity": 1, "nested": false}, {"name": "_sql_reducer", "lineno": 78, "complexity": 1, "nested": false}, {"name": "_static_reducer", "lineno": 83, "complexity": 1, "nested": false}, {"name": "_norm", "lineno": 132, "complexity": 1, "nested": false}, {"name": "zero_summary_for", "lineno": 219, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:781c0852bd99bd2f3c2225aa929461c96acd51ba94979958ed6bd05d6d00e3b4"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/scanners/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:7ccc6ab9d2645fcb22d017ddad1812adc6437a6ef90620df6c4e1fbbbd183872"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/scanners/general/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:baec679f050646153380788a7bacc6954efa7a04f9b584cec8551a7b96ab1cbc"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/scanners/general/assets_index.py", "data": {"functions": 16, "total_complexity": 100, "avg_complexity": 6.25, "max_complexity": 22, "p95_complexity": 22.0, "by_function": [{"name": "scan", "lineno": 286, "complexity": 22, "nested": false}, {"name": "categorize", "lineno": 252, "complexity": 14, "nested": false}, {"name": "_jpeg_size", "lineno": 158, "complexity": 13, "nested": false}, {"name": "_svg_size", "lineno": 212, "complexity": 9, "nested": false}, {"name": "_webp_size", "lineno": 196, "complexity": 7, "nested": false}, {"name": "sniff_image_info", "lineno": 235, "complexity": 6, "nested": false}, {"name": "_sha256_file", "lineno": 87, "complexity": 5, "nested": false}, {"name": "_count_lines", "lineno": 116, "complexity": 4, "nested": false}, {"name": "_png_size", "lineno": 139, "complexity": 4, "nested": false}, {"name": "_safe_read_text", "lineno": 107, "complexity": 3, "nested": false}, {"name": "_gif_size", "lineno": 145, "complexity": 3, "nested": false}, {"name": "_bmp_size", "lineno": 151, "complexity": 3, "nested": false}, {"name": "_num", "lineno": 217, "complexity": 3, "nested": true}, {"name": "_read_head", "lineno": 132, "complexity": 2, "nested": false}, {"name": "_guess_mime", "lineno": 100, "complexity": 1, "nested": false}, {"name": "_is_text_ext", "lineno": 104, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:ac31b5011cc7ed51a179b920620a2322d149548fd546243097007f17b052f81c"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/scanners/general/entrypoints.py", "data": {"functions": 9, "total_complexity": 67, "avg_complexity": 7.444, "max_complexity": 16, "p95_complexity": 16.0, "by_function": [{"name": "_parse_pyproject", "lineno": 85, "complexity": 16, "nested": false}, {"name": "scan", "lineno": 238, "complexity": 15, "nested": false}, {"name": "_parse_setup_cfg", "lineno": 129, "complexity": 12, "nested": false}, {"name": "_parse_package_json", "lineno": 168, "complexity": 7, "nested": false}, {"name": "_is_shell_script", "lineno": 201, "complexity": 4, "nested": false}, {"name": "_python_entrypoint_record", "lineno": 207, "complexity": 4, "nested": false}, {"name": "_shell_entrypoint_record", "lineno": 221, "complexity": 4, "nested": false}, {"name": "_dotted_module", "lineno": 68, "complexity": 3, "nested": false}, {"name": "_read_text_head", "lineno": 61, "complexity": 2, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:0b2e67e81fa001fc40ebc73b3bf9ced16443c1db2fecc9a4ef35cfd86d57025a"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/scanners/general/env_index.py", "data": {"functions": 22, "total_complexity": 108, "avg_complexity": 4.909, "max_complexity": 14, "p95_complexity": 11.0, "by_function": [{"name": "_PyEnvVisitor.visit_Call", "lineno": 308, "complexity": 14, "nested": false}, {"name": "scan", "lineno": 376, "complexity": 11, "nested": false}, {"name": "_scan_python_env_usage", "lineno": 337, "complexity": 7, "nested": false}, {"name": "_strip_inline_comment", "lineno": 112, "complexity": 6, "nested": false}, {"name": "walk", "lineno": 201, "complexity": 6, "nested": true}, {"name": "walk", "lineno": 222, "complexity": 6, "nested": true}, {"name": "_PyEnvVisitor.visit_ImportFrom", "lineno": 259, "complexity": 6, "nested": false}, {"name": "_parse_env_vars", "lineno": 160, "complexity": 5, "nested": false}, {"name": "_PyEnvVisitor._is_os_environ_attr", "lineno": 275, "complexity": 5, "nested": false}, {"name": "_PyEnvVisitor._is_os_getenv_attr", "lineno": 286, "complexity": 5, "nested": false}, {"name": "_PyEnvVisitor.visit_Subscript", "lineno": 294, "complexity": 5, "nested": false}, {"name": "_is_env_like", "lineno": 143, "complexity": 4, "nested": false}, {"name": "_is_template_env", "lineno": 152, "complexity": 4, "nested": false}, {"name": "_PyEnvVisitor.visit_Import", "lineno": 254, "complexity": 4, "nested": false}, {"name": "_read_text_limited", "lineno": 102, "complexity": 3, "nested": false}, {"name": "_extract_placeholders_from_text", "lineno": 186, "complexity": 3, "nested": false}, {"name": "_extract_placeholders_from_toml", "lineno": 213, "complexity": 3, "nested": false}, {"name": "_PyEnvVisitor._const_str", "lineno": 270, "complexity": 3, "nested": false}, {"name": "_scan_js_env_usage_text", "lineno": 364, "complexity": 3, "nested": false}, {"name": "_extract_placeholders_from_json", "lineno": 194, "complexity": 2, "nested": false}, {"name": "_PyEnvVisitor._is_environ_name", "lineno": 282, "complexity": 2, "nested": false}, {"name": "_PyEnvVisitor.__init__", "lineno": 247, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:ee21ca7a92d1cc1684ffa6383acf105aa039ab4829636e80701f7d9c164c1b40"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/scanners/general/git_info.py", "data": {"functions": 7, "total_complexity": 50, "avg_complexity": 7.143, "max_complexity": 25, "p95_complexity": 25.0, "by_function": [{"name": "_collect_repo_info", "lineno": 84, "complexity": 25, "nested": false}, {"name": "_collect_gitignores", "lineno": 186, "complexity": 7, "nested": false}, {"name": "_collect_submodules", "lineno": 213, "complexity": 6, "nested": false}, {"name": "scan", "lineno": 251, "complexity": 5, "nested": false}, {"name": "_run_git", "lineno": 49, "complexity": 3, "nested": false}, {"name": "_has_git", "lineno": 70, "complexity": 2, "nested": false}, {"name": "_is_repo", "lineno": 75, "complexity": 2, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:cbb9267153a844a409257fb7a9bc4d6528343fa8ac211469c0d7b9edffbaba79"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/scanners/general/license_scan.py", "data": {"functions": 7, "total_complexity": 37, "avg_complexity": 5.286, "max_complexity": 10, "p95_complexity": 10.0, "by_function": [{"name": "scan", "lineno": 181, "complexity": 10, "nested": false}, {"name": "_scan_license_files", "lineno": 144, "complexity": 8, "nested": false}, {"name": "_scan_spdx_headers", "lineno": 105, "complexity": 5, "nested": false}, {"name": "_guess_id_from_text", "lineno": 133, "complexity": 5, "nested": false}, {"name": "_sha256_file", "lineno": 77, "complexity": 4, "nested": false}, {"name": "_read_text_limited", "lineno": 87, "complexity": 3, "nested": false}, {"name": "_is_text_like", "lineno": 96, "complexity": 2, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:ac08d874757829ce61cfd756da9f43a594902722a06fd6e22d2381cac93bf3ce"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/scanners/general/owners_index.py", "data": {"functions": 7, "total_complexity": 54, "avg_complexity": 7.714, "max_complexity": 14, "p95_complexity": 14.0, "by_function": [{"name": "_find_codeowners_files", "lineno": 139, "complexity": 14, "nested": false}, {"name": "scan", "lineno": 246, "complexity": 11, "nested": false}, {"name": "_matches", "lineno": 190, "complexity": 10, "nested": false}, {"name": "_parse_codeowners_file", "lineno": 103, "complexity": 8, "nested": false}, {"name": "_strip_inline_comment", "lineno": 80, "complexity": 5, "nested": false}, {"name": "_summarize_unassigned", "lineno": 227, "complexity": 5, "nested": false}, {"name": "_norm_pattern", "lineno": 181, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:3c38dfc38fe4eb4df86926eaa86f08db6944cab0da71b7702b0ee496a5d5309a"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/scanners/general/secrets_scan.py", "data": {"functions": 10, "total_complexity": 46, "avg_complexity": 4.6, "max_complexity": 17, "p95_complexity": 17.0, "by_function": [{"name": "_gather_findings", "lineno": 198, "complexity": 17, "nested": false}, {"name": "scan", "lineno": 267, "complexity": 7, "nested": false}, {"name": "_scan_file", "lineno": 249, "complexity": 5, "nested": false}, {"name": "_is_probably_binary_bytes", "lineno": 80, "complexity": 4, "nested": false}, {"name": "_should_skip_file", "lineno": 91, "complexity": 3, "nested": false}, {"name": "_read_text_limited", "lineno": 103, "complexity": 3, "nested": false}, {"name": "_redact", "lineno": 119, "complexity": 3, "nested": false}, {"name": "_entropy_shannon", "lineno": 112, "complexity": 2, "nested": false}, {"name": "_line_col_from_offset", "lineno": 126, "complexity": 1, "nested": false}, {"name": "_line_has_ignore_marker", "lineno": 133, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:f4408936fd961bb3bd1935d83fbf361e70e2aeb15dd39c3927a7b7a6039c82cc"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/scanners/html/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:fb3b78d09a167f98490eaf86c11ca95f584efce9d1b14047f25d78d1572b1091"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/scanners/html/html_index.py", "data": {"functions": 12, "total_complexity": 71, "avg_complexity": 5.917, "max_complexity": 36, "p95_complexity": 36.0, "by_function": [{"name": "_HTMLScanner.handle_starttag", "lineno": 105, "complexity": 36, "nested": false}, {"name": "scan", "lineno": 208, "complexity": 7, "nested": false}, {"name": "_sha256_file", "lineno": 54, "complexity": 5, "nested": false}, {"name": "_HTMLScanner.handle_data", "lineno": 177, "complexity": 5, "nested": false}, {"name": "_analyze_html_text", "lineno": 193, "complexity": 5, "nested": false}, {"name": "_read_text_limited", "lineno": 45, "complexity": 3, "nested": false}, {"name": "_HTMLScanner.handle_decl", "lineno": 101, "complexity": 2, "nested": false}, {"name": "_HTMLScanner.handle_endtag", "lineno": 173, "complexity": 2, "nested": false}, {"name": "_HTMLScanner._add_hint", "lineno": 185, "complexity": 2, "nested": false}, {"name": "_top", "lineno": 259, "complexity": 2, "nested": true}, {"name": "_is_html_path", "lineno": 42, "complexity": 1, "nested": false}, {"name": "_HTMLScanner.__init__", "lineno": 94, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:1b1bdd199fe8cc01cf658f86b8aed2c30fcc1a9f08ada29975a9777086b2fb26"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/scanners/javascript/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:880156f6b1b86118565b0f672de3d28c4d3aff2760265aca3274f68fe1466ca5"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/scanners/javascript/js_ts_index.py", "data": {"functions": 9, "total_complexity": 82, "avg_complexity": 9.111, "max_complexity": 29, "p95_complexity": 29.0, "by_function": [{"name": "_strip_js_comments", "lineno": 82, "complexity": 29, "nested": false}, {"name": "scan", "lineno": 371, "complexity": 15, "nested": false}, {"name": "_framework_hints", "lineno": 269, "complexity": 12, "nested": false}, {"name": "_collect_named_from_list", "lineno": 244, "complexity": 7, "nested": false}, {"name": "analyze_file", "lineno": 294, "complexity": 7, "nested": false}, {"name": "_is_package", "lineno": 240, "complexity": 4, "nested": false}, {"name": "_read_text_limited", "lineno": 67, "complexity": 3, "nested": false}, {"name": "_line_stats", "lineno": 191, "complexity": 3, "nested": false}, {"name": "_avg", "lineno": 419, "complexity": 2, "nested": true}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:40aee1e3a7e3158d9a0a9e5558857c77892461cb2cc21e3e49253857b270d275"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/scanners/python/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:7d6037b796fc55b80241cf32409fde6ebf133a11e13d16fc5e9b4918af162a2f"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/scanners/python/complexity.py", "data": {"functions": 27, "total_complexity": 63, "avg_complexity": 2.333, "max_complexity": 8, "p95_complexity": 7.0, "by_function": [{"name": "scan", "lineno": 306, "complexity": 8, "nested": false}, {"name": "analyze_file", "lineno": 256, "complexity": 7, "nested": false}, {"name": "_FuncComplexityVisitor.visit_ListComp", "lineno": 116, "complexity": 3, "nested": false}, {"name": "_FuncComplexityVisitor.visit_SetComp", "lineno": 121, "complexity": 3, "nested": false}, {"name": "_FuncComplexityVisitor.visit_DictComp", "lineno": 126, "complexity": 3, "nested": false}, {"name": "_FuncComplexityVisitor.visit_GeneratorExp", "lineno": 131, "complexity": 3, "nested": false}, {"name": "_FuncComplexityVisitor.generic_visit_no_defs", "lineno": 148, "complexity": 3, "nested": false}, {"name": "_FunctionCollector.visit_FunctionDef", "lineno": 195, "complexity": 3, "nested": false}, {"name": "_FunctionCollector.visit_AsyncFunctionDef", "lineno": 208, "complexity": 3, "nested": false}, {"name": "_safe_parse", "lineno": 226, "complexity": 3, "nested": false}, {"name": "_percentile", "lineno": 236, "complexity": 3, "nested": false}, {"name": "_FuncComplexityVisitor.visit_Try", "lineno": 111, "complexity": 2, "nested": false}, {"name": "_FuncComplexityVisitor.visit_Match", "lineno": 137, "complexity": 2, "nested": false}, {"name": "_FunctionCollector._qualname", "lineno": 173, "complexity": 2, "nested": false}, {"name": "_FunctionCollector.visit_ClassDef", "lineno": 186, "complexity": 2, "nested": false}, {"name": "_round3", "lineno": 248, "complexity": 2, "nested": false}, {"name": "_FuncComplexityVisitor.__init__", "lineno": 75, "complexity": 1, "nested": false}, {"name": "_FuncComplexityVisitor.visit_If", "lineno": 79, "complexity": 1, "nested": false}, {"name": "_FuncComplexityVisitor.visit_For", "lineno": 83, "complexity": 1, "nested": false}, {"name": "_FuncComplexityVisitor.visit_AsyncFor", "lineno": 87, "complexity": 1, "nested": false}, {"name": "_FuncComplexityVisitor.visit_While", "lineno": 91, "complexity": 1, "nested": false}, {"name": "_FuncComplexityVisitor.visit_IfExp", "lineno": 95, "complexity": 1, "nested": false}, {"name": "_FuncComplexityVisitor.visit_Assert", "lineno": 99, "complexity": 1, "nested": false}, {"name": "_FuncComplexityVisitor.visit_BoolOp", "lineno": 104, "complexity": 1, "nested": false}, {"name": "_FuncComplexityVisitor.visit_Lambda", "lineno": 143, "complexity": 1, "nested": false}, {"name": "_FunctionCollector.__init__", "lineno": 168, "complexity": 1, "nested": false}, {"name": "_FunctionCollector._compute_complexity", "lineno": 180, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:91ad3f948bcb0325851b8abacbb361f4fcba5f9d78fa5a8a4383cef0ee0fec06"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/scanners/python/deps_scan.py", "data": {"functions": 16, "total_complexity": 149, "avg_complexity": 9.312, "max_complexity": 33, "p95_complexity": 33.0, "by_function": [{"name": "scan_dependencies", "lineno": 78, "complexity": 33, "nested": false}, {"name": "_parse_pyproject", "lineno": 372, "complexity": 29, "nested": false}, {"name": "_parse_poetry_lock", "lineno": 287, "complexity": 14, "nested": false}, {"name": "_DepMerger.add", "lineno": 457, "complexity": 13, "nested": false}, {"name": "_find_python_dep_files", "lineno": 246, "complexity": 12, "nested": false}, {"name": "_parse_requirements", "lineno": 347, "complexity": 10, "nested": false}, {"name": "_parse_setup_cfg", "lineno": 417, "complexity": 9, "nested": false}, {"name": "_extract_name_version_from_poetry_entry", "lineno": 564, "complexity": 6, "nested": false}, {"name": "_dig", "lineno": 524, "complexity": 4, "nested": false}, {"name": "_split_cfg_list", "lineno": 537, "complexity": 4, "nested": false}, {"name": "_extract_name_version_from_spec", "lineno": 548, "complexity": 4, "nested": false}, {"name": "_is_requirements_file", "lineno": 276, "complexity": 3, "nested": false}, {"name": "_DepMerger.iter_sorted", "lineno": 505, "complexity": 3, "nested": false}, {"name": "_relposix", "lineno": 514, "complexity": 3, "nested": false}, {"name": "_DepMerger.__init__", "lineno": 452, "complexity": 1, "nested": false}, {"name": "_DepMerger._rank", "lineno": 502, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:9ea880cc4bca6cb042a855f48e82e46700831bdb2a29d2909de118c63f72c9f5"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/scanners/python/doc_coverage.py", "data": {"functions": 6, "total_complexity": 27, "avg_complexity": 4.5, "max_complexity": 13, "p95_complexity": 13.0, "by_function": [{"name": "analyze_file", "lineno": 87, "complexity": 13, "nested": false}, {"name": "scan", "lineno": 156, "complexity": 5, "nested": false}, {"name": "_safe_parse", "lineno": 72, "complexity": 3, "nested": false}, {"name": "Counts.coverage", "lineno": 60, "complexity": 2, "nested": false}, {"name": "_has_doc", "lineno": 65, "complexity": 2, "nested": false}, {"name": "cov", "lineno": 208, "complexity": 2, "nested": true}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:213465461a7be7b58ee8a4ab96106a9b4a7d53603d8bbebe00faffea13f8d336"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/scanners/python/python_index.py", "data": {"functions": 15, "total_complexity": 58, "avg_complexity": 3.867, "max_complexity": 9, "p95_complexity": 9.0, "by_function": [{"name": "_expr_to_name", "lineno": 50, "complexity": 9, "nested": false}, {"name": "Visitor._visit_funclike", "lineno": 239, "complexity": 9, "nested": true}, {"name": "Visitor.visit_ImportFrom", "lineno": 163, "complexity": 8, "nested": true}, {"name": "index_python_file", "lineno": 80, "complexity": 5, "nested": false}, {"name": "_mod_name_from_rel", "lineno": 24, "complexity": 4, "nested": false}, {"name": "_qualify", "lineno": 43, "complexity": 4, "nested": false}, {"name": "Visitor.visit_ClassDef", "lineno": 196, "complexity": 4, "nested": true}, {"name": "_decorator_names", "lineno": 66, "complexity": 3, "nested": false}, {"name": "Visitor.visit_Import", "lineno": 135, "complexity": 3, "nested": true}, {"name": "Visitor.visit_Call", "lineno": 296, "complexity": 3, "nested": true}, {"name": "_read_text", "lineno": 16, "complexity": 2, "nested": false}, {"name": "_end_lineno", "lineno": 73, "complexity": 1, "nested": false}, {"name": "Visitor.generic_visit", "lineno": 131, "complexity": 1, "nested": true}, {"name": "Visitor.visit_FunctionDef", "lineno": 233, "complexity": 1, "nested": true}, {"name": "Visitor.visit_AsyncFunctionDef", "lineno": 236, "complexity": 1, "nested": true}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:c40c7c47bb838125b7a5333159b40bf1cc9549dc029884142345db9ba330f720"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/scanners/python/static_check.py", "data": {"functions": 13, "total_complexity": 37, "avg_complexity": 2.846, "max_complexity": 8, "p95_complexity": 8.0, "by_function": [{"name": "_scan_lines", "lineno": 77, "complexity": 8, "nested": false}, {"name": "_ASTVisitor.visit_Call", "lineno": 142, "complexity": 6, "nested": false}, {"name": "Issue.to_record", "lineno": 32, "complexity": 4, "nested": false}, {"name": "static_check_scan", "lineno": 206, "complexity": 4, "nested": false}, {"name": "_ASTVisitor.visit_FunctionDef", "lineno": 176, "complexity": 3, "nested": false}, {"name": "_rel_posix", "lineno": 60, "complexity": 2, "nested": false}, {"name": "_ASTVisitor.visit_ExceptHandler", "lineno": 122, "complexity": 2, "nested": false}, {"name": "_ASTVisitor.visit_ImportFrom", "lineno": 132, "complexity": 2, "nested": false}, {"name": "_scan_ast", "lineno": 192, "complexity": 2, "nested": false}, {"name": "_read_text", "lineno": 66, "complexity": 1, "nested": false}, {"name": "_ASTVisitor.__init__", "lineno": 118, "complexity": 1, "nested": false}, {"name": "_ASTVisitor.visit_Global", "lineno": 168, "complexity": 1, "nested": false}, {"name": "_ASTVisitor.visit_AsyncFunctionDef", "lineno": 188, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:e89c764a10f26c9fa9e90b13207de9a9cca19b409cd6cd194402719b74668d4e"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/scanners/sql/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:a91e31b3a0eb2b5deea7c1a5b331b5bd0f65858e8c16a569a52498e4953c9b5a"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/src/packager/scanners/sql/sql_index.py", "data": {"functions": 13, "total_complexity": 129, "avg_complexity": 9.923, "max_complexity": 37, "p95_complexity": 37.0, "by_function": [{"name": "_strip_sql_comments", "lineno": 88, "complexity": 37, "nested": false}, {"name": "_classify_stmt", "lineno": 345, "complexity": 22, "nested": false}, {"name": "_split_sql_statements", "lineno": 195, "complexity": 20, "nested": false}, {"name": "scan", "lineno": 564, "complexity": 11, "nested": false}, {"name": "_clean_ident", "lineno": 299, "complexity": 8, "nested": false}, {"name": "_collect_tables_from_stmt", "lineno": 312, "complexity": 8, "nested": false}, {"name": "_danger_flags", "lineno": 437, "complexity": 6, "nested": false}, {"name": "_dialect_hints", "lineno": 382, "complexity": 4, "nested": false}, {"name": "_functions_in_stmt", "lineno": 412, "complexity": 4, "nested": false}, {"name": "analyze_file", "lineno": 451, "complexity": 4, "nested": false}, {"name": "_read_text_limited", "lineno": 73, "complexity": 3, "nested": false}, {"name": "_params_in_stmt", "lineno": 392, "complexity": 1, "nested": false}, {"name": "_constraints_in_stmt", "lineno": 403, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:45b0431875c2fa483a0c49e8df72c91d3596f199b8c880fcccb6f9d686f50565"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/superbundle_pack.py", "data": {"functions": 3, "total_complexity": 8, "avg_complexity": 2.667, "max_complexity": 4, "p95_complexity": 4.0, "by_function": [{"name": "SuperbundlePack.write_sha256sums", "lineno": 59, "complexity": 4, "nested": false}, {"name": "SuperbundlePack.write_artifacts_bundle", "lineno": 28, "complexity": 3, "nested": false}, {"name": "SuperbundlePack._ensure_parent", "lineno": 24, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:352a79c336fbc8ab7a1bc154e6204eee76e87c1dc0f662dca9af8c82bfd58b89"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/telemetry/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:41956d4541c4d0a95deebab16b1d3f8d83718f2cf0f6b017d37eb064cd67520b"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/code_bundles/telemetry/runtime_flow.py", "data": {"functions": 32, "total_complexity": 84, "avg_complexity": 2.625, "max_complexity": 8, "p95_complexity": 8.0, "by_function": [{"name": "_find_repo_root", "lineno": 93, "complexity": 8, "nested": false}, {"name": "_manifest_root_via_build_cfg", "lineno": 154, "complexity": 8, "nested": false}, {"name": "_manifest_root_from_data", "lineno": 133, "complexity": 7, "nested": false}, {"name": "_log_path_from_cfg", "lineno": 178, "complexity": 5, "nested": false}, {"name": "_PhaseCtx.__exit__", "lineno": 329, "complexity": 5, "nested": false}, {"name": "sha256_file", "lineno": 42, "complexity": 4, "nested": false}, {"name": "canonical", "lineno": 58, "complexity": 4, "nested": true}, {"name": "detect_git", "lineno": 70, "complexity": 4, "nested": false}, {"name": "_read_yaml", "lineno": 121, "complexity": 4, "nested": false}, {"name": "FlowLogger.__init__", "lineno": 224, "complexity": 4, "nested": false}, {"name": "_PhaseCtx.outputs", "lineno": 309, "complexity": 4, "nested": false}, {"name": "_to_jsonable", "lineno": 24, "complexity": 2, "nested": false}, {"name": "FlowLogger._write", "lineno": 241, "complexity": 2, "nested": false}, {"name": "FlowLogger.begin_run", "lineno": 253, "complexity": 2, "nested": false}, {"name": "FlowLogger.end_run", "lineno": 256, "complexity": 2, "nested": false}, {"name": "_PhaseCtx.__init__", "lineno": 295, "complexity": 2, "nested": false}, {"name": "_PhaseCtx.artifacts", "lineno": 319, "complexity": 2, "nested": false}, {"name": "_utc_iso", "lineno": 20, "complexity": 1, "nested": false}, {"name": "_json_dumps", "lineno": 30, "complexity": 1, "nested": false}, {"name": "_ensure_parent", "lineno": 34, "complexity": 1, "nested": false}, {"name": "_sha256_bytes", "lineno": 38, "complexity": 1, "nested": false}, {"name": "sha256_config_dict", "lineno": 53, "complexity": 1, "nested": false}, {"name": "run", "lineno": 76, "complexity": 1, "nested": true}, {"name": "FlowLogger._emit", "lineno": 249, "complexity": 1, "nested": false}, {"name": "FlowLogger.note", "lineno": 259, "complexity": 1, "nested": false}, {"name": "FlowLogger.artifact", "lineno": 262, "complexity": 1, "nested": false}, {"name": "FlowLogger.phase", "lineno": 266, "complexity": 1, "nested": false}, {"name": "FlowLogger.phase_decorator", "lineno": 278, "complexity": 1, "nested": false}, {"name": "FlowLogger.deco", "lineno": 279, "complexity": 1, "nested": true}, {"name": "FlowLogger.wrapper", "lineno": 280, "complexity": 1, "nested": true}, {"name": "FlowLogger.default", "lineno": 289, "complexity": 1, "nested": false}, {"name": "_PhaseCtx.__enter__", "lineno": 304, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:25d105246a2fa0ae7a1ffb32a4d94a19c0c43dce7796b24f446962cf70876dcc"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/packers/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:d6f8d7763bc5bc627168b2a81f130086b4d372d7ec858b142c230e96aa0938f8"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/packers/make_code_bundle.py", "data": {"functions": 2, "total_complexity": 9, "avg_complexity": 4.5, "max_complexity": 8, "p95_complexity": 8.0, "by_function": [{"name": "main", "lineno": 19, "complexity": 8, "nested": false}, {"name": "sha256_bytes", "lineno": 16, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:a45c1119283bae39315a78eff2154f45c6ea0d90b6c06301149090351eb9417d"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_bundles/packers/unpack_code_bundle.py", "data": {"functions": 6, "total_complexity": 46, "avg_complexity": 7.667, "max_complexity": 21, "p95_complexity": 21.0, "by_function": [{"name": "unpack", "lineno": 63, "complexity": 21, "nested": false}, {"name": "iter_json_objects", "lineno": 32, "complexity": 13, "nested": false}, {"name": "ensure_relative_safe", "lineno": 15, "complexity": 5, "nested": false}, {"name": "detect_bundle_type", "lineno": 22, "complexity": 4, "nested": false}, {"name": "main", "lineno": 144, "complexity": 2, "nested": false}, {"name": "sha256_bytes", "lineno": 12, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:e3aeec9ae79fc1d515ca4f72d2ad27e6e9bf5348c7856ee600bb224465d64aff"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_fixers/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:d48cbb4a025c764945520dfb65ad8e684ba63f5c6c3da920c7de886051aa0a21"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/code_fixers/change_imports.py", "data": {"functions": 16, "total_complexity": 66, "avg_complexity": 4.125, "max_complexity": 17, "p95_complexity": 17.0, "by_function": [{"name": "ImportRefactor._refactor_file", "lineno": 136, "complexity": 17, "nested": false}, {"name": "ImportRefactor._rewrite_importfrom", "lineno": 212, "complexity": 15, "nested": false}, {"name": "ImportRefactor._rewrite_import", "lineno": 184, "complexity": 7, "nested": false}, {"name": "ImportRefactor._iter_files", "lineno": 123, "complexity": 5, "nested": false}, {"name": "ImportRefactor._map_qualname", "lineno": 269, "complexity": 5, "nested": false}, {"name": "ImportRefactor.run", "lineno": 110, "complexity": 4, "nested": false}, {"name": "ImportRefactor.__init__", "lineno": 75, "complexity": 3, "nested": false}, {"name": "ImportRefactor._line_offsets", "lineno": 284, "complexity": 2, "nested": false}, {"name": "Change.__str__", "lineno": 48, "complexity": 1, "nested": false}, {"name": "Report.add_change", "lineno": 58, "complexity": 1, "nested": false}, {"name": "Report.add_error", "lineno": 61, "complexity": 1, "nested": false}, {"name": "Report.add_skipped", "lineno": 64, "complexity": 1, "nested": false}, {"name": "Report.summary", "lineno": 67, "complexity": 1, "nested": false}, {"name": "ImportRefactor.is_excluded", "lineno": 128, "complexity": 1, "nested": true}, {"name": "ImportRefactor._abs_span", "lineno": 293, "complexity": 1, "nested": false}, {"name": "ImportRefactor._slice", "lineno": 299, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:6cb4eacd25ff053bb398a182bac601b02247934f02b3fb6bb02d5a2b90d0467f"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/db/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:d133ace314037843f159ed49a2f95ba64eb116044fd8519c81458b16227a5a2f"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/db/init_sqlite_dev.py", "data": {"functions": 10, "total_complexity": 23, "avg_complexity": 2.3, "max_complexity": 11, "p95_complexity": 11.0, "by_function": [{"name": "init_database", "lineno": 88, "complexity": 11, "nested": false}, {"name": "_is_sqlite_url", "lineno": 27, "complexity": 2, "nested": false}, {"name": "_list_sql_files", "lineno": 41, "complexity": 2, "nested": false}, {"name": "_parse_primary_table_name", "lineno": 46, "complexity": 2, "nested": false}, {"name": "_sqlite_path_from_url", "lineno": 31, "complexity": 1, "nested": false}, {"name": "_ensure_parent", "lineno": 37, "complexity": 1, "nested": false}, {"name": "_strip_manual_tx", "lineno": 64, "complexity": 1, "nested": false}, {"name": "_db_exists", "lineno": 71, "complexity": 1, "nested": false}, {"name": "_table_exists", "lineno": 75, "complexity": 1, "nested": false}, {"name": "_apply_sql_file", "lineno": 82, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:be9e7fa04fb97190f9cc94b543759bcc762694730e48897a7d8f4a06efe45b4a"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/db/load_sqlite_vector_plugin.py", "data": {"functions": 17, "total_complexity": 99, "avg_complexity": 5.824, "max_complexity": 19, "p95_complexity": 19.0, "by_function": [{"name": "install", "lineno": 229, "complexity": 19, "nested": false}, {"name": "_score_win_asset", "lineno": 70, "complexity": 17, "nested": false}, {"name": "_extract_dll_from_archive", "lineno": 89, "complexity": 14, "nested": false}, {"name": "_abs_repo", "lineno": 17, "complexity": 7, "nested": false}, {"name": "_download_extension", "lineno": 113, "complexity": 7, "nested": false}, {"name": "_connect_sqlite", "lineno": 173, "complexity": 5, "nested": false}, {"name": "_pick_win_asset", "lineno": 83, "complexity": 4, "nested": false}, {"name": "_get_sqlite3", "lineno": 146, "complexity": 4, "nested": false}, {"name": "_check_vec", "lineno": 190, "complexity": 4, "nested": false}, {"name": "_check_vss", "lineno": 202, "complexity": 4, "nested": false}, {"name": "_apply_migrations", "lineno": 215, "complexity": 4, "nested": false}, {"name": "_latest_assets", "lineno": 63, "complexity": 3, "nested": false}, {"name": "_pip_install", "lineno": 140, "complexity": 2, "nested": false}, {"name": "_pragma_modules", "lineno": 183, "complexity": 2, "nested": false}, {"name": "_ensure_dir", "lineno": 50, "complexity": 1, "nested": false}, {"name": "_http_json", "lineno": 53, "complexity": 1, "nested": false}, {"name": "_http_bytes", "lineno": 58, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:fe76656dacea91488665c47a063401fd63acda3f44582bcdc83a6b79c0367764"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/db/sqlite_viewer.py", "data": {"functions": 6, "total_complexity": 13, "avg_complexity": 2.167, "max_complexity": 3, "p95_complexity": 3.0, "by_function": [{"name": "SQLiteWebWrapperGUI.launch_sqlite_web", "lineno": 61, "complexity": 3, "nested": false}, {"name": "SQLiteWebWrapperGUI.__init__", "lineno": 10, "complexity": 2, "nested": false}, {"name": "SQLiteWebWrapperGUI.list_tables", "lineno": 20, "complexity": 2, "nested": false}, {"name": "SQLiteWebWrapperGUI.prompt_table_selection", "lineno": 33, "complexity": 2, "nested": false}, {"name": "SQLiteWebWrapperGUI.on_submit", "lineno": 37, "complexity": 2, "nested": true}, {"name": "SQLiteWebWrapperGUI.run", "lineno": 73, "complexity": 2, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:0726d2fe8ea4a5f627097a03fcefb23b5a2fce9659528bbacfe2ee5b250d281f"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/downloaders/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:71bc9b0a8259df366698df435d953cb872c13bbde6ebe584eb3c2e0946a0f437"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/downloaders/download_ai_models.py", "data": {"functions": 3, "total_complexity": 10, "avg_complexity": 3.333, "max_complexity": 4, "p95_complexity": 4.0, "by_function": [{"name": "main", "lineno": 183, "complexity": 4, "nested": false}, {"name": "ensure_dir_with_gitignore", "lineno": 150, "complexity": 3, "nested": false}, {"name": "download_file", "lineno": 162, "complexity": 3, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:e5c910f4e98a651e36894c70dbcde46ee6d7e1616f8e56359fc3ae5f59b2e890"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/io/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:05364ab1d589b7f9d2102d33c896a90afe04bee0bd7c381861fb81e560052f48"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/io/file_ops.py", "data": {"functions": 4, "total_complexity": 9, "avg_complexity": 2.25, "max_complexity": 4, "p95_complexity": 4.0, "by_function": [{"name": "FileOps.write_text", "lineno": 18, "complexity": 4, "nested": false}, {"name": "FileOps.__init__", "lineno": 11, "complexity": 2, "nested": false}, {"name": "FileOps._norm", "lineno": 33, "complexity": 2, "nested": false}, {"name": "FileOps.read_text", "lineno": 14, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:ff5f5359cf0e5b5a1735b2e176f574958f3bdd7ab0a952d7f53a8e3dfb4730b1"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/io/output_writer.py", "data": {"functions": 4, "total_complexity": 7, "avg_complexity": 1.75, "max_complexity": 2, "p95_complexity": 2.0, "by_function": [{"name": "OutputWriter.__post_init__", "lineno": 11, "complexity": 2, "nested": false}, {"name": "OutputWriter.append_batch", "lineno": 24, "complexity": 2, "nested": false}, {"name": "OutputWriter.append_summary", "lineno": 30, "complexity": 2, "nested": false}, {"name": "OutputWriter.write_item", "lineno": 20, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:222ba25e7984b8108102e79f2ee70f5d586b2b41ba25bf517014b7b9e61466ac"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/io/recursively_zip_directory.py", "data": {"functions": 1, "total_complexity": 3, "avg_complexity": 3.0, "max_complexity": 3, "p95_complexity": 3.0, "by_function": [{"name": "zip_directory", "lineno": 10, "complexity": 3, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:72d347e9df8757ef357b0f9038ec0d7eff6d585e91bab3985eaafe16f43c6100"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/io/run_dir.py", "data": {"functions": 2, "total_complexity": 4, "avg_complexity": 2.0, "max_complexity": 2, "p95_complexity": 2.0, "by_function": [{"name": "RunDirs.make_run_id", "lineno": 14, "complexity": 2, "nested": false}, {"name": "RunDirs.ensure", "lineno": 18, "complexity": 2, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:2466ff99da48ecefeaed4a1e5ac4b8eece66b1b5235093024e7faad2c758d391"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/logging/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:acd626c92ea91d9f9122b5f9538489f4727d366fd6846a1512e6a16850ddbf0f"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/logging/logging.py", "data": {"functions": 6, "total_complexity": 8, "avg_complexity": 1.333, "max_complexity": 3, "p95_complexity": 3.0, "by_function": [{"name": "_one_line", "lineno": 3, "complexity": 3, "nested": false}, {"name": "ConsoleLog.__init__", "lineno": 8, "complexity": 1, "nested": false}, {"name": "ConsoleLog.info", "lineno": 11, "complexity": 1, "nested": false}, {"name": "ConsoleLog.warn", "lineno": 14, "complexity": 1, "nested": false}, {"name": "ConsoleLog.error", "lineno": 17, "complexity": 1, "nested": false}, {"name": "ConsoleLog.stage", "lineno": 20, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:be7815c5bd5bec7870fe0dd12a7854423f1a306272b6f2dac5bcd212722f170c"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/scanners/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:19abeb8af278ef1198321a72bd96b886478bbacfd5707a6b4f92360395deee8f"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/scanners/code_indexer.py", "data": {"functions": 28, "total_complexity": 129, "avg_complexity": 4.607, "max_complexity": 25, "p95_complexity": 12.0, "by_function": [{"name": "index_sh_file", "lineno": 436, "complexity": 25, "nested": false}, {"name": "PyModuleVisitor._resolve_call_target", "lineno": 262, "complexity": 12, "nested": false}, {"name": "build_index", "lineno": 535, "complexity": 12, "nested": false}, {"name": "_canon_sql_name", "lineno": 307, "complexity": 8, "nested": false}, {"name": "index_sql_file", "lineno": 347, "complexity": 8, "nested": false}, {"name": "fmt_signature", "lineno": 73, "complexity": 7, "nested": false}, {"name": "scan_files", "lineno": 99, "complexity": 7, "nested": false}, {"name": "_tokenize_sh_commands", "lineno": 419, "complexity": 6, "nested": false}, {"name": "get_attr_name", "lineno": 60, "complexity": 5, "nested": false}, {"name": "PyModuleVisitor.visit_ImportFrom", "lineno": 182, "complexity": 4, "nested": false}, {"name": "write_chunks_single_file", "lineno": 614, "complexity": 4, "nested": false}, {"name": "sha256_file", "lineno": 43, "complexity": 3, "nested": false}, {"name": "PyModuleVisitor.visit_Import", "lineno": 176, "complexity": 3, "nested": false}, {"name": "PyModuleVisitor.visit_ClassDef", "lineno": 189, "complexity": 3, "nested": false}, {"name": "PyModuleVisitor._make_func", "lineno": 211, "complexity": 3, "nested": false}, {"name": "first_line", "lineno": 55, "complexity": 2, "nested": false}, {"name": "count_loc", "lineno": 92, "complexity": 2, "nested": false}, {"name": "PyModuleVisitor._handle_function_like", "lineno": 233, "complexity": 2, "nested": false}, {"name": "PyModuleVisitor.visit_Call", "lineno": 251, "complexity": 2, "nested": false}, {"name": "index_python_file", "lineno": 514, "complexity": 2, "nested": false}, {"name": "run", "lineno": 645, "complexity": 2, "nested": false}, {"name": "sha256_bytes", "lineno": 40, "complexity": 1, "nested": false}, {"name": "rel_module_name", "lineno": 50, "complexity": 1, "nested": false}, {"name": "PyModuleVisitor.__init__", "lineno": 164, "complexity": 1, "nested": false}, {"name": "PyModuleVisitor.visit_FunctionDef", "lineno": 227, "complexity": 1, "nested": false}, {"name": "PyModuleVisitor.visit_AsyncFunctionDef", "lineno": 230, "complexity": 1, "nested": false}, {"name": "PyModuleVisitor.Resolved.__init__", "lineno": 264, "complexity": 1, "nested": true}, {"name": "_strip_sql_comments", "lineno": 302, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:03e005496dcb628adf5f64dca3b629bf0cb76ebd87756a1383ec8edb2396216d"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/scanners/code_length.py", "data": {"functions": 1, "total_complexity": 1, "avg_complexity": 1.0, "max_complexity": 1, "p95_complexity": 1.0, "by_function": [{"name": "is_script_file", "lineno": 15, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:1b4ac65e0134c9e9d6b7739ae7d7243fcd9e2a16627dd9380224d947d54a02cd"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/backend/core/utils/scanners/dir_crawler.py", "data": {"functions": 2, "total_complexity": 9, "avg_complexity": 4.5, "max_complexity": 5, "p95_complexity": 5.0, "by_function": [{"name": "crawl_directory", "lineno": 7, "complexity": 5, "nested": false}, {"name": "print_yaml_like", "lineno": 21, "complexity": 4, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:2816d06db42e6f33e09633c2a339b8bd2ffdda33463d3f7609c7f7273d7f1fe9"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/cli/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:c55347a133a0cf62db69021bec41f5bbee2e3af5643ea7e75f9e1ccf71461131"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/cli/docstring.py", "data": {"functions": 7, "total_complexity": 25, "avg_complexity": 3.571, "max_complexity": 12, "p95_complexity": 12.0, "by_function": [{"name": "main", "lineno": 78, "complexity": 12, "nested": false}, {"name": "_artifact_problem_summary", "lineno": 59, "complexity": 5, "nested": false}, {"name": "_extract_result", "lineno": 68, "complexity": 4, "nested": false}, {"name": "_init_db_at_writer_path", "lineno": 22, "complexity": 1, "nested": false}, {"name": "_ensure_env_for_scanner", "lineno": 41, "complexity": 1, "nested": false}, {"name": "_sqlite_url_from_dbpath", "lineno": 45, "complexity": 1, "nested": false}, {"name": "_default_caps_path", "lineno": 54, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:d8149e51f2bc2194cd0955f11bf02891ac684599297c9332a6abf4a6de400ab4"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/models/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:4527a4e1b1cd0cf28bcea2de85a020aae1d77e702da0119bd137e34f10788ac1"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/models/agent_insights.py", "data": {"functions": 3, "total_complexity": 9, "avg_complexity": 3.0, "max_complexity": 4, "p95_complexity": 4.0, "by_function": [{"name": "AgentInsightIn._coerce_mdata", "lineno": 141, "complexity": 4, "nested": false}, {"name": "AgentInsight.mdata_obj", "lineno": 98, "complexity": 3, "nested": false}, {"name": "AgentInsight.mdata_obj", "lineno": 105, "complexity": 2, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:369acec005c84859c8b4a5c9da3894d41c0272eefabcdf19ca70d84868ba3bef"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/models/introspection_embeddings.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:e6c7321fefdee20b22a0e3870055223492c5d4ba62b1a04c7483ae62b6f879de"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/models/introspection_index.py", "data": {"functions": 3, "total_complexity": 9, "avg_complexity": 3.0, "max_complexity": 4, "p95_complexity": 4.0, "by_function": [{"name": "IntrospectionIndexIn._coerce_mdata", "lineno": 140, "complexity": 4, "nested": false}, {"name": "IntrospectionIndex.mdata_obj", "lineno": 95, "complexity": 3, "nested": false}, {"name": "IntrospectionIndex.mdata_obj", "lineno": 102, "complexity": 2, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:4eaec2e47c2ce0394942ea1f8924b10c7850af348b70994edf2213131c20d099"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/models/introspection_index_OLD.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:2f7e15a6363a8cb581008ac0c1b000136652967ca14c28846517f365429ac616"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/patches/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:0e9cd75c4678e7647311f05d80bb247eeb83272569a1f38ee8f3988cbeaa99eb"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/patches/core/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:43fa3af127daed4fc2a866fdc39effed4a8fbbe7e798a205f9488bde15634fd6"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/patches/core/patch_ops.py", "data": {"functions": 4, "total_complexity": 8, "avg_complexity": 2.0, "max_complexity": 3, "p95_complexity": 3.0, "by_function": [{"name": "PatchOps.write_patch", "lineno": 57, "complexity": 3, "nested": false}, {"name": "PatchOps._patch_path", "lineno": 17, "complexity": 2, "nested": false}, {"name": "PatchOps._unified_diff", "lineno": 27, "complexity": 2, "nested": false}, {"name": "PatchOps.apply_to_sandbox", "lineno": 88, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:263e7a19912acd882b205775b38a9759ffc4da72e788a285fc36e2c07d8a1214"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/patches/core/rewrite.py", "data": {"functions": 10, "total_complexity": 53, "avg_complexity": 5.3, "max_complexity": 17, "p95_complexity": 17.0, "by_function": [{"name": "_find_orphan_module_string_span", "lineno": 117, "complexity": 17, "nested": false}, {"name": "apply_docstring_update", "lineno": 154, "complexity": 10, "nested": false}, {"name": "_find_existing_docstring_span", "lineno": 74, "complexity": 7, "nested": false}, {"name": "_insert_module_docstring", "lineno": 94, "complexity": 6, "nested": false}, {"name": "_render_docstring_block", "lineno": 38, "complexity": 5, "nested": false}, {"name": "_guess_body_indent", "lineno": 24, "complexity": 4, "nested": false}, {"name": "_split_lines", "lineno": 12, "complexity": 1, "nested": false}, {"name": "_indent_of", "lineno": 20, "complexity": 1, "nested": false}, {"name": "_replace_span", "lineno": 107, "complexity": 1, "nested": false}, {"name": "_insert_after_line", "lineno": 111, "complexity": 1, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:c2102e1c439b106b4315df247497d8447eb13c15781f847549c2f500d818c2dc"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/patches/executor/__init__.py", "data": {"functions": 0, "total_complexity": 0, "avg_complexity": null, "max_complexity": null, "p95_complexity": null, "by_function": []}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:d83d727757e8c51e1563974d06c6a069735c3f836292a9870d3c325288097def"}
{"schema": "scanner.record.v1", "kind": "quality.complexity", "scope": "file", "path": "v2/patches/executor/run_patch_loop.py", "data": {"functions": 8, "total_complexity": 85, "avg_complexity": 10.625, "max_complexity": 19, "p95_complexity": 19.0, "by_function": [{"name": "main", "lineno": 232, "complexity": 19, "nested": false}, {"name": "_extract_openai_key", "lineno": 60, "complexity": 14, "nested": false}, {"name": "_load_openai_api_key_from_loader", "lineno": 92, "complexity": 14, "nested": false}, {"name": "_load_openai_api_key_from_yaml", "lineno": 133, "complexity": 14, "nested": false}, {"name": "_build_ask_spec", "lineno": 199, "complexity": 9, "nested": false}, {"name": "_resolve_openai_api_key", "lineno": 177, "complexity": 7, "nested": false}, {"name": "_default_project_root", "lineno": 46, "complexity": 5, "nested": false}, {"name": "_find_repo_root", "lineno": 37, "complexity": 3, "nested": false}]}, "scanner": {"name": "v2.backend.core.utils.code_bundles.code_bundles.src.packager.scanners.python.complexity.scan", "version": "unknown"}, "detected_at": "2025-09-07T23:39:33.826258+00:00", "status": {"ok": true, "parse_error": false, "suppressed": false, "reason": null}, "fp": "sha256:339349c7e76c09effeb6593066c61526d372725921e5cce3eb4050fdc684079e"}
