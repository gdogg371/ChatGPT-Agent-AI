{"callee":"print","caller_name":"cold_start.bootstrap_check.main","end_lineno":68,"lineno":68,"module":"cold_start.bootstrap_check","path":"cold_start/bootstrap_check.py","record_type":"ast.call"}
{"callee":"issues.append","caller_name":"cold_start.bootstrap_check.main","end_lineno":69,"lineno":69,"module":"cold_start.bootstrap_check","path":"cold_start/bootstrap_check.py","record_type":"ast.call"}
{"callee":"check_exists","caller_name":"cold_start.bootstrap_check.main","end_lineno":72,"lineno":72,"module":"cold_start.bootstrap_check","path":"cold_start/bootstrap_check.py","record_type":"ast.call"}
{"callee":"print","caller_name":"cold_start.bootstrap_check.main","end_lineno":73,"lineno":73,"module":"cold_start.bootstrap_check","path":"cold_start/bootstrap_check.py","record_type":"ast.call"}
{"callee":"print","caller_name":"cold_start.bootstrap_check.main","end_lineno":75,"lineno":75,"module":"cold_start.bootstrap_check","path":"cold_start/bootstrap_check.py","record_type":"ast.call"}
{"callee":"issues.append","caller_name":"cold_start.bootstrap_check.main","end_lineno":76,"lineno":76,"module":"cold_start.bootstrap_check","path":"cold_start/bootstrap_check.py","record_type":"ast.call"}
{"callee":"print","caller_name":"cold_start.bootstrap_check.main","end_lineno":79,"lineno":79,"module":"cold_start.bootstrap_check","path":"cold_start/bootstrap_check.py","record_type":"ast.call"}
{"callee":"print","caller_name":"cold_start.bootstrap_check.main","end_lineno":81,"lineno":81,"module":"cold_start.bootstrap_check","path":"cold_start/bootstrap_check.py","record_type":"ast.call"}
{"callee":"sys.exit","caller_name":"cold_start.bootstrap_check.main","end_lineno":82,"lineno":82,"module":"cold_start.bootstrap_check","path":"cold_start/bootstrap_check.py","record_type":"ast.call"}
{"callee":"print","caller_name":"cold_start.bootstrap_check.main","end_lineno":84,"lineno":84,"module":"cold_start.bootstrap_check","path":"cold_start/bootstrap_check.py","record_type":"ast.call"}
{"callee":"print","caller_name":"cold_start.bootstrap_check.main","end_lineno":87,"lineno":87,"module":"cold_start.bootstrap_check","path":"cold_start/bootstrap_check.py","record_type":"ast.call"}
{"callee":"sys.exit","caller_name":"cold_start.bootstrap_check.main","end_lineno":88,"lineno":88,"module":"cold_start.bootstrap_check","path":"cold_start/bootstrap_check.py","record_type":"ast.call"}
{"callee":"locals","caller_name":"cold_start.bootstrap_check.main","end_lineno":91,"lineno":91,"module":"cold_start.bootstrap_check","path":"cold_start/bootstrap_check.py","record_type":"ast.call"}
{"callee":"conn.close","caller_name":"cold_start.bootstrap_check.main","end_lineno":92,"lineno":92,"module":"cold_start.bootstrap_check","path":"cold_start/bootstrap_check.py","record_type":"ast.call"}
{"callee":"main","caller_name":"cold_start.bootstrap_check","end_lineno":95,"lineno":95,"module":"cold_start.bootstrap_check","path":"cold_start/bootstrap_check.py","record_type":"ast.call"}
{"arg_count":1,"is_async":false,"loc":7,"module":"cold_start.bootstrap_check","name":"cold_start.bootstrap_check.check_locks","path":"cold_start/bootstrap_check.py","record_type":"ast.symbol_metrics"}
{"arg_count":4,"is_async":false,"loc":7,"module":"cold_start.bootstrap_check","name":"cold_start.bootstrap_check.check_exists","path":"cold_start/bootstrap_check.py","record_type":"ast.symbol_metrics"}
{"arg_count":0,"is_async":false,"loc":59,"module":"cold_start.bootstrap_check","name":"cold_start.bootstrap_check.main","path":"cold_start/bootstrap_check.py","record_type":"ast.symbol_metrics"}
{"classes":[],"functions":["cold_start.cleanup_locks.cleanup_locks"],"imports":["backend.core.locks.locks","datetime","sys"],"language":"python","module":"cold_start.cleanup_locks","path":"cold_start/cleanup_locks.py","record_type":"module_index"}
{"decorators":[],"end_lineno":34,"kind":"function","lineno":16,"module":"cold_start.cleanup_locks","name":"cold_start.cleanup_locks.cleanup_locks","path":"cold_start/cleanup_locks.py","record_type":"ast.symbol"}
{"asname":null,"end_lineno":6,"from_module":"backend.core.locks.locks","kind":"import_from","level":0,"lineno":6,"module":"cold_start.cleanup_locks","name":"release_lock","path":"cold_start/cleanup_locks.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":7,"kind":"import","lineno":7,"module":"cold_start.cleanup_locks","name":"sys","path":"cold_start/cleanup_locks.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":8,"from_module":"datetime","kind":"import_from","level":0,"lineno":8,"module":"cold_start.cleanup_locks","name":"datetime","path":"cold_start/cleanup_locks.py","record_type":"ast.xref"}
{"callee":"print","caller_name":"cold_start.cleanup_locks.cleanup_locks","end_lineno":17,"lineno":17,"module":"cold_start.cleanup_locks","path":"cold_start/cleanup_locks.py","record_type":"ast.call"}
{"callee":"datetime.utcnow.isoformat","caller_name":"cold_start.cleanup_locks.cleanup_locks","end_lineno":17,"lineno":17,"module":"cold_start.cleanup_locks","path":"cold_start/cleanup_locks.py","record_type":"ast.call"}
{"callee":"datetime.utcnow","caller_name":"cold_start.cleanup_locks.cleanup_locks","end_lineno":17,"lineno":17,"module":"cold_start.cleanup_locks","path":"cold_start/cleanup_locks.py","record_type":"ast.call"}
{"callee":"release_lock","caller_name":"cold_start.cleanup_locks.cleanup_locks","end_lineno":22,"lineno":22,"module":"cold_start.cleanup_locks","path":"cold_start/cleanup_locks.py","record_type":"ast.call"}
{"callee":"print","caller_name":"cold_start.cleanup_locks.cleanup_locks","end_lineno":23,"lineno":23,"module":"cold_start.cleanup_locks","path":"cold_start/cleanup_locks.py","record_type":"ast.call"}
{"callee":"print","caller_name":"cold_start.cleanup_locks.cleanup_locks","end_lineno":25,"lineno":25,"module":"cold_start.cleanup_locks","path":"cold_start/cleanup_locks.py","record_type":"ast.call"}
{"callee":"failures.append","caller_name":"cold_start.cleanup_locks.cleanup_locks","end_lineno":26,"lineno":26,"module":"cold_start.cleanup_locks","path":"cold_start/cleanup_locks.py","record_type":"ast.call"}
{"callee":"print","caller_name":"cold_start.cleanup_locks.cleanup_locks","end_lineno":29,"lineno":29,"module":"cold_start.cleanup_locks","path":"cold_start/cleanup_locks.py","record_type":"ast.call"}
{"callee":"print","caller_name":"cold_start.cleanup_locks.cleanup_locks","end_lineno":31,"lineno":31,"module":"cold_start.cleanup_locks","path":"cold_start/cleanup_locks.py","record_type":"ast.call"}
{"callee":"sys.exit","caller_name":"cold_start.cleanup_locks.cleanup_locks","end_lineno":32,"lineno":32,"module":"cold_start.cleanup_locks","path":"cold_start/cleanup_locks.py","record_type":"ast.call"}
{"callee":"print","caller_name":"cold_start.cleanup_locks.cleanup_locks","end_lineno":34,"lineno":34,"module":"cold_start.cleanup_locks","path":"cold_start/cleanup_locks.py","record_type":"ast.call"}
{"callee":"cleanup_locks","caller_name":"cold_start.cleanup_locks","end_lineno":37,"lineno":37,"module":"cold_start.cleanup_locks","path":"cold_start/cleanup_locks.py","record_type":"ast.call"}
{"arg_count":0,"is_async":false,"loc":19,"module":"cold_start.cleanup_locks","name":"cold_start.cleanup_locks.cleanup_locks","path":"cold_start/cleanup_locks.py","record_type":"ast.symbol_metrics"}
{"classes":[],"functions":[],"imports":[],"language":"python","module":"v2","path":"v2/__init__.py","record_type":"module_index"}
{"classes":[],"functions":[],"imports":[],"language":"python","module":"v2.backend","path":"v2/backend/__init__.py","record_type":"module_index"}
{"classes":[],"functions":[],"imports":[],"language":"python","module":"v2.backend.core","path":"v2/backend/core/__init__.py","record_type":"module_index"}
{"doc":"Core primitives: errors, types, budget, logs.","end_lineno":1,"lineno":1,"module":"v2.backend.core","owner":"v2.backend.core","owner_kind":"module","path":"v2/backend/core/__init__.py","record_type":"ast.docstring"}
{"classes":[],"functions":[],"imports":[],"language":"python","module":"v2.backend.core.configuration","path":"v2/backend/core/configuration/__init__.py","record_type":"module_index"}
{"doc":"Core primitives: errors, types, budget, logs.","end_lineno":1,"lineno":1,"module":"v2.backend.core.configuration","owner":"v2.backend.core.configuration","owner_kind":"module","path":"v2/backend/core/configuration/__init__.py","record_type":"ast.docstring"}
{"classes":[],"functions":[],"imports":["__future__","typing","v2.backend.core.configuration.loader"],"language":"python","module":"v2.backend.core.configuration.config","path":"v2/backend/core/configuration/config.py","record_type":"module_index"}
{"asname":null,"end_lineno":15,"from_module":"__future__","kind":"import_from","level":0,"lineno":15,"module":"v2.backend.core.configuration.config","name":"annotations","path":"v2/backend/core/configuration/config.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":17,"from_module":"typing","kind":"import_from","level":0,"lineno":17,"module":"v2.backend.core.configuration.config","name":"Tuple","path":"v2/backend/core/configuration/config.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":24,"from_module":"v2.backend.core.configuration.loader","kind":"import_from","level":0,"lineno":19,"module":"v2.backend.core.configuration.config","name":"get_spine","path":"v2/backend/core/configuration/config.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":24,"from_module":"v2.backend.core.configuration.loader","kind":"import_from","level":0,"lineno":19,"module":"v2.backend.core.configuration.config","name":"get_packager","path":"v2/backend/core/configuration/config.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":24,"from_module":"v2.backend.core.configuration.loader","kind":"import_from","level":0,"lineno":19,"module":"v2.backend.core.configuration.config","name":"get_db","path":"v2/backend/core/configuration/config.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":24,"from_module":"v2.backend.core.configuration.loader","kind":"import_from","level":0,"lineno":19,"module":"v2.backend.core.configuration.config","name":"get_llm","path":"v2/backend/core/configuration/config.py","record_type":"ast.xref"}
{"callee":"get_spine","caller_name":"v2.backend.core.configuration.config","end_lineno":27,"lineno":27,"module":"v2.backend.core.configuration.config","path":"v2/backend/core/configuration/config.py","record_type":"ast.call"}
{"callee":"str","caller_name":"v2.backend.core.configuration.config","end_lineno":28,"lineno":28,"module":"v2.backend.core.configuration.config","path":"v2/backend/core/configuration/config.py","record_type":"ast.call"}
{"callee":"str","caller_name":"v2.backend.core.configuration.config","end_lineno":29,"lineno":29,"module":"v2.backend.core.configuration.config","path":"v2/backend/core/configuration/config.py","record_type":"ast.call"}
{"callee":"get_packager","caller_name":"v2.backend.core.configuration.config","end_lineno":33,"lineno":33,"module":"v2.backend.core.configuration.config","path":"v2/backend/core/configuration/config.py","record_type":"ast.call"}
{"callee":"tuple","caller_name":"v2.backend.core.configuration.config","end_lineno":35,"lineno":35,"module":"v2.backend.core.configuration.config","path":"v2/backend/core/configuration/config.py","record_type":"ast.call"}
{"callee":"tuple","caller_name":"v2.backend.core.configuration.config","end_lineno":36,"lineno":36,"module":"v2.backend.core.configuration.config","path":"v2/backend/core/configuration/config.py","record_type":"ast.call"}
{"callee":"tuple","caller_name":"v2.backend.core.configuration.config","end_lineno":37,"lineno":37,"module":"v2.backend.core.configuration.config","path":"v2/backend/core/configuration/config.py","record_type":"ast.call"}
{"callee":"get_db","caller_name":"v2.backend.core.configuration.config","end_lineno":40,"lineno":40,"module":"v2.backend.core.configuration.config","path":"v2/backend/core/configuration/config.py","record_type":"ast.call"}
{"callee":"get_llm","caller_name":"v2.backend.core.configuration.config","end_lineno":44,"lineno":44,"module":"v2.backend.core.configuration.config","path":"v2/backend/core/configuration/config.py","record_type":"ast.call"}
{"doc":"\nCompatibility shim for legacy constants.\n\nPurpose:\n- Preserve imports like `from v2.backend.core.configuration.config import SPINE_CAPS_PATH`\n  while the codebase transitions to the centralized YAML loader.\n- All values are sourced from the YAML-backed loader (no env vars, no hardcoded paths).\n\nNotes:\n- Prefer importing from `v2.backend.core.configuration.loader` in new/updated code.\n- This module exposes a minimal, read-only surface to satisfy existing callers.\n","end_lineno":1,"lineno":1,"module":"v2.backend.core.configuration.config","owner":"v2.backend.core.configuration.config","owner_kind":"module","path":"v2/backend/core/configuration/config.py","record_type":"ast.docstring"}
{"classes":["v2.backend.core.configuration.loader.ConfigError","v2.backend.core.configuration.loader.SecretsConfig","v2.backend.core.configuration.loader.ConfigPaths"],"functions":["v2.backend.core.configuration.loader.v2.backend.core.configuration.loader.ConfigPaths.detect","v2.backend.core.configuration.loader.get_repo_root","v2.backend.core.configuration.loader._read_yaml","v2.backend.core.configuration.loader.get_packager","v2.backend.core.configuration.loader._validate_non_empty_string","v2.backend.core.configuration.loader.get_secrets"],"imports":["__future__","dataclasses","pathlib","types","typing","yaml"],"language":"python","module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"module_index"}
{"bases":["RuntimeError"],"decorators":[],"end_lineno":15,"kind":"class","lineno":14,"module":"v2.backend.core.configuration.loader","name":"v2.backend.core.configuration.loader.ConfigError","path":"v2/backend/core/configuration/loader.py","record_type":"ast.symbol"}
{"bases":[],"decorators":["dataclass"],"end_lineno":28,"kind":"class","lineno":22,"module":"v2.backend.core.configuration.loader","name":"v2.backend.core.configuration.loader.SecretsConfig","path":"v2/backend/core/configuration/loader.py","record_type":"ast.symbol"}
{"bases":[],"decorators":["dataclass"],"end_lineno":72,"kind":"class","lineno":35,"module":"v2.backend.core.configuration.loader","name":"v2.backend.core.configuration.loader.ConfigPaths","path":"v2/backend/core/configuration/loader.py","record_type":"ast.symbol"}
{"decorators":["staticmethod"],"end_lineno":72,"kind":"function","lineno":43,"module":"v2.backend.core.configuration.loader","name":"v2.backend.core.configuration.loader.v2.backend.core.configuration.loader.ConfigPaths.detect","path":"v2/backend/core/configuration/loader.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":76,"kind":"function","lineno":75,"module":"v2.backend.core.configuration.loader","name":"v2.backend.core.configuration.loader.get_repo_root","path":"v2/backend/core/configuration/loader.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":89,"kind":"function","lineno":82,"module":"v2.backend.core.configuration.loader","name":"v2.backend.core.configuration.loader._read_yaml","path":"v2/backend/core/configuration/loader.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":153,"kind":"function","lineno":95,"module":"v2.backend.core.configuration.loader","name":"v2.backend.core.configuration.loader.get_packager","path":"v2/backend/core/configuration/loader.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":162,"kind":"function","lineno":159,"module":"v2.backend.core.configuration.loader","name":"v2.backend.core.configuration.loader._validate_non_empty_string","path":"v2/backend/core/configuration/loader.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":216,"kind":"function","lineno":165,"module":"v2.backend.core.configuration.loader","name":"v2.backend.core.configuration.loader.get_secrets","path":"v2/backend/core/configuration/loader.py","record_type":"ast.symbol"}
{"asname":null,"end_lineno":1,"from_module":"__future__","kind":"import_from","level":0,"lineno":1,"module":"v2.backend.core.configuration.loader","name":"annotations","path":"v2/backend/core/configuration/loader.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":3,"from_module":"dataclasses","kind":"import_from","level":0,"lineno":3,"module":"v2.backend.core.configuration.loader","name":"dataclass","path":"v2/backend/core/configuration/loader.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":4,"from_module":"pathlib","kind":"import_from","level":0,"lineno":4,"module":"v2.backend.core.configuration.loader","name":"Path","path":"v2/backend/core/configuration/loader.py","record_type":"ast.xref"}
{"asname":"NS","end_lineno":5,"from_module":"types","kind":"import_from","level":0,"lineno":5,"module":"v2.backend.core.configuration.loader","name":"SimpleNamespace","path":"v2/backend/core/configuration/loader.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":6,"from_module":"typing","kind":"import_from","level":0,"lineno":6,"module":"v2.backend.core.configuration.loader","name":"Any","path":"v2/backend/core/configuration/loader.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":6,"from_module":"typing","kind":"import_from","level":0,"lineno":6,"module":"v2.backend.core.configuration.loader","name":"Dict","path":"v2/backend/core/configuration/loader.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":6,"from_module":"typing","kind":"import_from","level":0,"lineno":6,"module":"v2.backend.core.configuration.loader","name":"Optional","path":"v2/backend/core/configuration/loader.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":8,"kind":"import","lineno":8,"module":"v2.backend.core.configuration.loader","name":"yaml","path":"v2/backend/core/configuration/loader.py","record_type":"ast.xref"}
{"callee":"Path.resolve","caller_name":"v2.backend.core.configuration.loader.v2.backend.core.configuration.loader.ConfigPaths.detect","end_lineno":48,"lineno":48,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"Path","caller_name":"v2.backend.core.configuration.loader.v2.backend.core.configuration.loader.ConfigPaths.detect","end_lineno":48,"lineno":48,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"range","caller_name":"v2.backend.core.configuration.loader.v2.backend.core.configuration.loader.ConfigPaths.detect","end_lineno":51,"lineno":51,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"BinOp.exists","caller_name":"v2.backend.core.configuration.loader.v2.backend.core.configuration.loader.ConfigPaths.detect","end_lineno":52,"lineno":52,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"BinOp.exists","caller_name":"v2.backend.core.configuration.loader.v2.backend.core.configuration.loader.ConfigPaths.detect","end_lineno":52,"lineno":52,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"BoolOp.resolve","caller_name":"v2.backend.core.configuration.loader.v2.backend.core.configuration.loader.ConfigPaths.detect","end_lineno":58,"lineno":58,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"Path.cwd","caller_name":"v2.backend.core.configuration.loader.v2.backend.core.configuration.loader.ConfigPaths.detect","end_lineno":58,"lineno":58,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"BinOp.resolve","caller_name":"v2.backend.core.configuration.loader.v2.backend.core.configuration.loader.ConfigPaths.detect","end_lineno":60,"lineno":60,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"BinOp.resolve","caller_name":"v2.backend.core.configuration.loader.v2.backend.core.configuration.loader.ConfigPaths.detect","end_lineno":61,"lineno":61,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"BinOp.resolve","caller_name":"v2.backend.core.configuration.loader.v2.backend.core.configuration.loader.ConfigPaths.detect","end_lineno":62,"lineno":62,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"BinOp.resolve","caller_name":"v2.backend.core.configuration.loader.v2.backend.core.configuration.loader.ConfigPaths.detect","end_lineno":64,"lineno":64,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"ConfigPaths","caller_name":"v2.backend.core.configuration.loader.v2.backend.core.configuration.loader.ConfigPaths.detect","end_lineno":72,"lineno":66,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"ConfigPaths.detect","caller_name":"v2.backend.core.configuration.loader.get_repo_root","end_lineno":76,"lineno":76,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"path.exists","caller_name":"v2.backend.core.configuration.loader._read_yaml","end_lineno":83,"lineno":83,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"path.open","caller_name":"v2.backend.core.configuration.loader._read_yaml","end_lineno":85,"lineno":85,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"yaml.safe_load","caller_name":"v2.backend.core.configuration.loader._read_yaml","end_lineno":86,"lineno":86,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"isinstance","caller_name":"v2.backend.core.configuration.loader._read_yaml","end_lineno":87,"lineno":87,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"ConfigError","caller_name":"v2.backend.core.configuration.loader._read_yaml","end_lineno":88,"lineno":88,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"ConfigPaths.detect","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":102,"lineno":102,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"packager_yml.exists","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":104,"lineno":104,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"_read_yaml","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":104,"lineno":104,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"data.get","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":106,"lineno":106,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"isinstance","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":107,"lineno":107,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"data.get","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":112,"lineno":112,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"isinstance","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":113,"lineno":113,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"publish.get","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":117,"lineno":117,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"isinstance","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":118,"lineno":118,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"isinstance","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":121,"lineno":121,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"github.get","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":121,"lineno":121,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"github.get","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":121,"lineno":121,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"isinstance","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":122,"lineno":122,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"github.get","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":122,"lineno":122,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"github.get","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":122,"lineno":122,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"isinstance","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":123,"lineno":123,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"github.get","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":123,"lineno":123,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"github.get","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":123,"lineno":123,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"isinstance","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":124,"lineno":124,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"github.get","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":124,"lineno":124,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"github.get","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":124,"lineno":124,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"list","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":129,"lineno":129,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"data.get","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":129,"lineno":129,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"list","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":130,"lineno":130,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"data.get","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":130,"lineno":130,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"list","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":131,"lineno":131,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"data.get","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":131,"lineno":131,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"str","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":132,"lineno":132,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"data.get","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":132,"lineno":132,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"publish.get","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":135,"lineno":135,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"isinstance","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":136,"lineno":136,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"bool","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":138,"lineno":138,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"clean.get","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":138,"lineno":138,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"bool","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":139,"lineno":139,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"clean.get","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":139,"lineno":139,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"bool","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":140,"lineno":140,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"publish.get","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":140,"lineno":140,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"bool","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":143,"lineno":143,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"bool","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":144,"lineno":144,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"bool","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":145,"lineno":145,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"NS","caller_name":"v2.backend.core.configuration.loader.get_packager","end_lineno":153,"lineno":147,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"isinstance","caller_name":"v2.backend.core.configuration.loader._validate_non_empty_string","end_lineno":160,"lineno":160,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"val.strip","caller_name":"v2.backend.core.configuration.loader._validate_non_empty_string","end_lineno":160,"lineno":160,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"val.strip","caller_name":"v2.backend.core.configuration.loader._validate_non_empty_string","end_lineno":161,"lineno":161,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"ConfigPaths.detect","caller_name":"v2.backend.core.configuration.loader.get_secrets","end_lineno":175,"lineno":175,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"yml.exists","caller_name":"v2.backend.core.configuration.loader.get_secrets","end_lineno":180,"lineno":180,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"yaml_path.exists","caller_name":"v2.backend.core.configuration.loader.get_secrets","end_lineno":180,"lineno":180,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"secrets_path.exists","caller_name":"v2.backend.core.configuration.loader.get_secrets","end_lineno":183,"lineno":183,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"_read_yaml","caller_name":"v2.backend.core.configuration.loader.get_secrets","end_lineno":184,"lineno":184,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"isinstance","caller_name":"v2.backend.core.configuration.loader.get_secrets","end_lineno":188,"lineno":188,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"_validate_non_empty_string","caller_name":"v2.backend.core.configuration.loader.get_secrets","end_lineno":189,"lineno":189,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"data.get","caller_name":"v2.backend.core.configuration.loader.get_secrets","end_lineno":189,"lineno":189,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"ConfigError","caller_name":"v2.backend.core.configuration.loader.get_secrets","end_lineno":193,"lineno":191,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"_validate_non_empty_string","caller_name":"v2.backend.core.configuration.loader.get_secrets","end_lineno":196,"lineno":196,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"data.get","caller_name":"v2.backend.core.configuration.loader.get_secrets","end_lineno":196,"lineno":196,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"isinstance","caller_name":"v2.backend.core.configuration.loader.get_secrets","end_lineno":202,"lineno":202,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"_validate_non_empty_string","caller_name":"v2.backend.core.configuration.loader.get_secrets","end_lineno":203,"lineno":203,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"data.get","caller_name":"v2.backend.core.configuration.loader.get_secrets","end_lineno":203,"lineno":203,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"_validate_non_empty_string","caller_name":"v2.backend.core.configuration.loader.get_secrets","end_lineno":206,"lineno":206,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"data.get","caller_name":"v2.backend.core.configuration.loader.get_secrets","end_lineno":206,"lineno":206,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"ConfigError","caller_name":"v2.backend.core.configuration.loader.get_secrets","end_lineno":211,"lineno":208,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"callee":"SecretsConfig","caller_name":"v2.backend.core.configuration.loader.get_secrets","end_lineno":216,"lineno":213,"module":"v2.backend.core.configuration.loader","path":"v2/backend/core/configuration/loader.py","record_type":"ast.call"}
{"doc":"\n    Secrets surface used by multiple tools. Fields are optional so callers can\n    apply their own fail-fast policies.\n    ","end_lineno":28,"lineno":22,"module":"v2.backend.core.configuration.loader","owner":"v2.backend.core.configuration.loader.SecretsConfig","owner_kind":"class","path":"v2/backend/core/configuration/loader.py","record_type":"ast.docstring"}
{"doc":"\n        Detect repository root and standard config locations by walking upward.\n        ","end_lineno":72,"lineno":43,"module":"v2.backend.core.configuration.loader","owner":"v2.backend.core.configuration.loader.v2.backend.core.configuration.loader.ConfigPaths.detect","owner_kind":"function","path":"v2/backend/core/configuration/loader.py","record_type":"ast.docstring"}
{"doc":"\n    Load config/packager.yml and normalize into a stable shape:\n      - publish.* returned as-is\n      - If top-level `github:` or `mode:` exist, fold into publish.*\n      - Copy publish.clean.* convenience flags up to publish.* when present\n    ","end_lineno":153,"lineno":95,"module":"v2.backend.core.configuration.loader","owner":"v2.backend.core.configuration.loader.get_packager","owner_kind":"function","path":"v2/backend/core/configuration/loader.py","record_type":"ast.docstring"}
{"doc":"\n    Load secrets from secret_management/secrets.yml (or .yaml).\n\n    Mapping (authoritative):\n      github.api_key  -> SecretsConfig.github_token\n      openai.api_key  -> SecretsConfig.openai_api_key\n\n    If a 'github:' section exists but lacks a non-empty 'api_key', raise ConfigError.\n    ","end_lineno":216,"lineno":165,"module":"v2.backend.core.configuration.loader","owner":"v2.backend.core.configuration.loader.get_secrets","owner_kind":"function","path":"v2/backend/core/configuration/loader.py","record_type":"ast.docstring"}
{"arg_count":0,"is_async":false,"loc":30,"module":"v2.backend.core.configuration.loader","name":"v2.backend.core.configuration.loader.v2.backend.core.configuration.loader.ConfigPaths.detect","path":"v2/backend/core/configuration/loader.py","record_type":"ast.symbol_metrics"}
{"arg_count":0,"is_async":false,"loc":2,"module":"v2.backend.core.configuration.loader","name":"v2.backend.core.configuration.loader.get_repo_root","path":"v2/backend/core/configuration/loader.py","record_type":"ast.symbol_metrics"}
{"arg_count":1,"is_async":false,"loc":8,"module":"v2.backend.core.configuration.loader","name":"v2.backend.core.configuration.loader._read_yaml","path":"v2/backend/core/configuration/loader.py","record_type":"ast.symbol_metrics"}
{"arg_count":0,"is_async":false,"loc":59,"module":"v2.backend.core.configuration.loader","name":"v2.backend.core.configuration.loader.get_packager","path":"v2/backend/core/configuration/loader.py","record_type":"ast.symbol_metrics"}
{"arg_count":1,"is_async":false,"loc":4,"module":"v2.backend.core.configuration.loader","name":"v2.backend.core.configuration.loader._validate_non_empty_string","path":"v2/backend/core/configuration/loader.py","record_type":"ast.symbol_metrics"}
{"arg_count":1,"is_async":false,"loc":52,"module":"v2.backend.core.configuration.loader","name":"v2.backend.core.configuration.loader.get_secrets","path":"v2/backend/core/configuration/loader.py","record_type":"ast.symbol_metrics"}
{"classes":[],"functions":["v2.backend.core.configuration.spine_paths._compute_spine_dir","v2.backend.core.configuration.spine_paths.determine_spine_dir","v2.backend.core.configuration.spine_paths.sanity_check"],"imports":["__future__","pathlib","typing","v2.backend.core.configuration.loader"],"language":"python","module":"v2.backend.core.configuration.spine_paths","path":"v2/backend/core/configuration/spine_paths.py","record_type":"module_index"}
{"decorators":[],"end_lineno":36,"kind":"function","lineno":29,"module":"v2.backend.core.configuration.spine_paths","name":"v2.backend.core.configuration.spine_paths._compute_spine_dir","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":50,"kind":"function","lineno":48,"module":"v2.backend.core.configuration.spine_paths","name":"v2.backend.core.configuration.spine_paths.determine_spine_dir","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":66,"kind":"function","lineno":53,"module":"v2.backend.core.configuration.spine_paths","name":"v2.backend.core.configuration.spine_paths.sanity_check","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.symbol"}
{"asname":null,"end_lineno":21,"from_module":"__future__","kind":"import_from","level":0,"lineno":21,"module":"v2.backend.core.configuration.spine_paths","name":"annotations","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":23,"from_module":"pathlib","kind":"import_from","level":0,"lineno":23,"module":"v2.backend.core.configuration.spine_paths","name":"Path","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":24,"from_module":"typing","kind":"import_from","level":0,"lineno":24,"module":"v2.backend.core.configuration.spine_paths","name":"Tuple","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":24,"from_module":"typing","kind":"import_from","level":0,"lineno":24,"module":"v2.backend.core.configuration.spine_paths","name":"List","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":26,"from_module":"v2.backend.core.configuration.loader","kind":"import_from","level":0,"lineno":26,"module":"v2.backend.core.configuration.spine_paths","name":"get_spine","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":26,"from_module":"v2.backend.core.configuration.loader","kind":"import_from","level":0,"lineno":26,"module":"v2.backend.core.configuration.spine_paths","name":"ConfigError","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.xref"}
{"callee":"get_spine","caller_name":"v2.backend.core.configuration.spine_paths","end_lineno":40,"lineno":40,"module":"v2.backend.core.configuration.spine_paths","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.call"}
{"callee":"_compute_spine_dir","caller_name":"v2.backend.core.configuration.spine_paths","end_lineno":45,"lineno":45,"module":"v2.backend.core.configuration.spine_paths","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.call"}
{"callee":"SPINE_DIR.exists","caller_name":"v2.backend.core.configuration.spine_paths.sanity_check","end_lineno":59,"lineno":59,"module":"v2.backend.core.configuration.spine_paths","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.call"}
{"callee":"problems.append","caller_name":"v2.backend.core.configuration.spine_paths.sanity_check","end_lineno":60,"lineno":60,"module":"v2.backend.core.configuration.spine_paths","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.call"}
{"callee":"SPINE_CAPS_PATH.is_file","caller_name":"v2.backend.core.configuration.spine_paths.sanity_check","end_lineno":61,"lineno":61,"module":"v2.backend.core.configuration.spine_paths","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.call"}
{"callee":"problems.append","caller_name":"v2.backend.core.configuration.spine_paths.sanity_check","end_lineno":62,"lineno":62,"module":"v2.backend.core.configuration.spine_paths","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.call"}
{"callee":"SPINE_PIPELINES_ROOT.is_dir","caller_name":"v2.backend.core.configuration.spine_paths.sanity_check","end_lineno":63,"lineno":63,"module":"v2.backend.core.configuration.spine_paths","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.call"}
{"callee":"problems.append","caller_name":"v2.backend.core.configuration.spine_paths.sanity_check","end_lineno":64,"lineno":64,"module":"v2.backend.core.configuration.spine_paths","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.call"}
{"callee":"Constant.join","caller_name":"v2.backend.core.configuration.spine_paths.sanity_check","end_lineno":66,"lineno":66,"module":"v2.backend.core.configuration.spine_paths","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.call"}
{"callee":"print","caller_name":"v2.backend.core.configuration.spine_paths","end_lineno":80,"lineno":80,"module":"v2.backend.core.configuration.spine_paths","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.call"}
{"callee":"print","caller_name":"v2.backend.core.configuration.spine_paths","end_lineno":81,"lineno":81,"module":"v2.backend.core.configuration.spine_paths","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.call"}
{"callee":"print","caller_name":"v2.backend.core.configuration.spine_paths","end_lineno":82,"lineno":82,"module":"v2.backend.core.configuration.spine_paths","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.call"}
{"callee":"print","caller_name":"v2.backend.core.configuration.spine_paths","end_lineno":83,"lineno":83,"module":"v2.backend.core.configuration.spine_paths","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.call"}
{"callee":"print","caller_name":"v2.backend.core.configuration.spine_paths","end_lineno":84,"lineno":84,"module":"v2.backend.core.configuration.spine_paths","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.call"}
{"callee":"sanity_check","caller_name":"v2.backend.core.configuration.spine_paths","end_lineno":85,"lineno":85,"module":"v2.backend.core.configuration.spine_paths","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.call"}
{"callee":"print","caller_name":"v2.backend.core.configuration.spine_paths","end_lineno":86,"lineno":86,"module":"v2.backend.core.configuration.spine_paths","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.call"}
{"callee":"SystemExit","caller_name":"v2.backend.core.configuration.spine_paths","end_lineno":87,"lineno":87,"module":"v2.backend.core.configuration.spine_paths","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.call"}
{"doc":"\nSpine path resolution (YAML-driven).\n\nThis module exposes the classic Spine variables consumed by the rest of the\ncodebase, but sources them **only** from the centralized loader:\n\n- No environment variable reads.\n- No hardcoded defaults.\n- Fail-fast behavior lives in the loader; this module simply reflects values.\n\nExports (backward compatible):\n- SPINE_DIR               : Directory that conceptually contains caps & pipelines.\n- SPINE_CAPS_PATH         : Path to capabilities.yml.\n- SPINE_PIPELINES_ROOT    : Directory containing pipeline profiles (each with patch_loop.yml).\n- SPINE_PROFILE           : Active profile name (string).\n- determine_spine_dir()   : Returns SPINE_DIR.\n- sanity_check()          : Quick existence re-check (loader already validates).\n","end_lineno":1,"lineno":1,"module":"v2.backend.core.configuration.spine_paths","owner":"v2.backend.core.configuration.spine_paths","owner_kind":"module","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.docstring"}
{"doc":"\n    Compute a sensible SPINE_DIR. If caps and pipelines share a parent, use it.\n    Otherwise prefer the parent of pipelines_root (this is where profiles live).\n    ","end_lineno":36,"lineno":29,"module":"v2.backend.core.configuration.spine_paths","owner":"v2.backend.core.configuration.spine_paths._compute_spine_dir","owner_kind":"function","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.docstring"}
{"doc":"Compatibility wrapper; returns SPINE_DIR.","end_lineno":50,"lineno":48,"module":"v2.backend.core.configuration.spine_paths","owner":"v2.backend.core.configuration.spine_paths.determine_spine_dir","owner_kind":"function","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.docstring"}
{"doc":"\n    Return (ok, message). Loader already validates existence; this is a light\n    re-check that keeps the previous interface stable.\n    ","end_lineno":66,"lineno":53,"module":"v2.backend.core.configuration.spine_paths","owner":"v2.backend.core.configuration.spine_paths.sanity_check","owner_kind":"function","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.docstring"}
{"arg_count":2,"is_async":false,"loc":8,"module":"v2.backend.core.configuration.spine_paths","name":"v2.backend.core.configuration.spine_paths._compute_spine_dir","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.symbol_metrics"}
{"arg_count":0,"is_async":false,"loc":3,"module":"v2.backend.core.configuration.spine_paths","name":"v2.backend.core.configuration.spine_paths.determine_spine_dir","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.symbol_metrics"}
{"arg_count":0,"is_async":false,"loc":14,"module":"v2.backend.core.configuration.spine_paths","name":"v2.backend.core.configuration.spine_paths.sanity_check","path":"v2/backend/core/configuration/spine_paths.py","record_type":"ast.symbol_metrics"}
{"classes":[],"functions":[],"imports":[],"language":"python","module":"v2.backend.core.db","path":"v2/backend/core/db/__init__.py","record_type":"module_index"}
{"doc":"Core primitives: errors, types, budget, logs.","end_lineno":1,"lineno":1,"module":"v2.backend.core.db","owner":"v2.backend.core.db","owner_kind":"module","path":"v2/backend/core/db/__init__.py","record_type":"ast.docstring"}
{"classes":[],"functions":[],"imports":[],"language":"python","module":"v2.backend.core.db.access","path":"v2/backend/core/db/access/__init__.py","record_type":"module_index"}
{"classes":[],"functions":["v2.backend.core.db.access.db_init._make_engine","v2.backend.core.db.access.db_init.get_engine","v2.backend.core.db.access.db_init.get_session"],"imports":["__future__","pathlib","sqlalchemy","sqlalchemy.engine","sqlalchemy.orm","typing","v2.backend.core.configuration.loader"],"language":"python","module":"v2.backend.core.db.access.db_init","path":"v2/backend/core/db/access/db_init.py","record_type":"module_index"}
{"decorators":[],"end_lineno":33,"kind":"function","lineno":26,"module":"v2.backend.core.db.access.db_init","name":"v2.backend.core.db.access.db_init._make_engine","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":43,"kind":"function","lineno":36,"module":"v2.backend.core.db.access.db_init","name":"v2.backend.core.db.access.db_init.get_engine","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":52,"kind":"function","lineno":50,"module":"v2.backend.core.db.access.db_init","name":"v2.backend.core.db.access.db_init.get_session","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.symbol"}
{"asname":null,"end_lineno":11,"from_module":"__future__","kind":"import_from","level":0,"lineno":11,"module":"v2.backend.core.db.access.db_init","name":"annotations","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":13,"from_module":"pathlib","kind":"import_from","level":0,"lineno":13,"module":"v2.backend.core.db.access.db_init","name":"Path","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":14,"from_module":"typing","kind":"import_from","level":0,"lineno":14,"module":"v2.backend.core.db.access.db_init","name":"Any","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":14,"from_module":"typing","kind":"import_from","level":0,"lineno":14,"module":"v2.backend.core.db.access.db_init","name":"Optional","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":16,"from_module":"sqlalchemy","kind":"import_from","level":0,"lineno":16,"module":"v2.backend.core.db.access.db_init","name":"create_engine","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":17,"from_module":"sqlalchemy.engine","kind":"import_from","level":0,"lineno":17,"module":"v2.backend.core.db.access.db_init","name":"Engine","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":18,"from_module":"sqlalchemy.orm","kind":"import_from","level":0,"lineno":18,"module":"v2.backend.core.db.access.db_init","name":"sessionmaker","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":18,"from_module":"sqlalchemy.orm","kind":"import_from","level":0,"lineno":18,"module":"v2.backend.core.db.access.db_init","name":"Session","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":20,"from_module":"v2.backend.core.configuration.loader","kind":"import_from","level":0,"lineno":20,"module":"v2.backend.core.db.access.db_init","name":"get_db","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":20,"from_module":"v2.backend.core.configuration.loader","kind":"import_from","level":0,"lineno":20,"module":"v2.backend.core.db.access.db_init","name":"ConfigError","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.xref"}
{"callee":"url.startswith","caller_name":"v2.backend.core.db.access.db_init._make_engine","end_lineno":28,"lineno":28,"module":"v2.backend.core.db.access.db_init","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.call"}
{"callee":"len","caller_name":"v2.backend.core.db.access.db_init._make_engine","end_lineno":30,"lineno":30,"module":"v2.backend.core.db.access.db_init","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.call"}
{"callee":"Path.parent.mkdir","caller_name":"v2.backend.core.db.access.db_init._make_engine","end_lineno":31,"lineno":31,"module":"v2.backend.core.db.access.db_init","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.call"}
{"callee":"Path","caller_name":"v2.backend.core.db.access.db_init._make_engine","end_lineno":31,"lineno":31,"module":"v2.backend.core.db.access.db_init","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.call"}
{"callee":"create_engine","caller_name":"v2.backend.core.db.access.db_init._make_engine","end_lineno":33,"lineno":33,"module":"v2.backend.core.db.access.db_init","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.call"}
{"callee":"get_db","caller_name":"v2.backend.core.db.access.db_init.get_engine","end_lineno":39,"lineno":39,"module":"v2.backend.core.db.access.db_init","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.call"}
{"callee":"isinstance","caller_name":"v2.backend.core.db.access.db_init.get_engine","end_lineno":40,"lineno":40,"module":"v2.backend.core.db.access.db_init","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.call"}
{"callee":"url.strip","caller_name":"v2.backend.core.db.access.db_init.get_engine","end_lineno":40,"lineno":40,"module":"v2.backend.core.db.access.db_init","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.call"}
{"callee":"ConfigError","caller_name":"v2.backend.core.db.access.db_init.get_engine","end_lineno":41,"lineno":41,"module":"v2.backend.core.db.access.db_init","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.call"}
{"callee":"_make_engine","caller_name":"v2.backend.core.db.access.db_init.get_engine","end_lineno":42,"lineno":42,"module":"v2.backend.core.db.access.db_init","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.call"}
{"callee":"sessionmaker","caller_name":"v2.backend.core.db.access.db_init","end_lineno":47,"lineno":47,"module":"v2.backend.core.db.access.db_init","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.call"}
{"callee":"get_engine","caller_name":"v2.backend.core.db.access.db_init","end_lineno":47,"lineno":47,"module":"v2.backend.core.db.access.db_init","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.call"}
{"callee":"SessionLocal","caller_name":"v2.backend.core.db.access.db_init.get_session","end_lineno":52,"lineno":52,"module":"v2.backend.core.db.access.db_init","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.call"}
{"doc":"\nDatabase initialization for writers/readers (YAML-only; no environment use).\n\n- Source of truth for the SQLAlchemy engine/session comes from\n  v2.backend.core.configuration.loader.get_db().url\n- Platform agnostic; handles SQLite connect args.\n- Provides a shared SessionLocal factory for use by writers.\n","end_lineno":1,"lineno":1,"module":"v2.backend.core.db.access.db_init","owner":"v2.backend.core.db.access.db_init","owner_kind":"module","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.docstring"}
{"doc":"Convenience helper to create a new Session.","end_lineno":52,"lineno":50,"module":"v2.backend.core.db.access.db_init","owner":"v2.backend.core.db.access.db_init.get_session","owner_kind":"function","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.docstring"}
{"arg_count":1,"is_async":false,"loc":8,"module":"v2.backend.core.db.access.db_init","name":"v2.backend.core.db.access.db_init._make_engine","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.symbol_metrics"}
{"arg_count":0,"is_async":false,"loc":8,"module":"v2.backend.core.db.access.db_init","name":"v2.backend.core.db.access.db_init.get_engine","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.symbol_metrics"}
{"arg_count":0,"is_async":false,"loc":3,"module":"v2.backend.core.db.access.db_init","name":"v2.backend.core.db.access.db_init.get_session","path":"v2/backend/core/db/access/db_init.py","record_type":"ast.symbol_metrics"}
{"classes":[],"functions":["v2.backend.core.db.access.sqlite._log_info","v2.backend.core.db.access.sqlite._log_warn","v2.backend.core.db.access.sqlite._log_err","v2.backend.core.db.access.sqlite._log_info","v2.backend.core.db.access.sqlite._log_warn","v2.backend.core.db.access.sqlite._log_err","v2.backend.core.db.access.sqlite.get_connection","v2.backend.core.db.access.sqlite.close_connection","v2.backend.core.db.access.sqlite.connect_to","v2.backend.core.db.access.sqlite.close","v2.backend.core.db.access.sqlite._ensure_connection_config","v2.backend.core.db.access.sqlite.set_pragma","v2.backend.core.db.access.sqlite.execute","v2.backend.core.db.access.sqlite.executemany","v2.backend.core.db.access.sqlite.query_all","v2.backend.core.db.access.sqlite.query_one","v2.backend.core.db.access.sqlite.load_extension"],"imports":["__future__","logging","pathlib","sqlite3","typing","v1.backend.utils.logger","v2.backend.core.db.access.db_init"],"language":"python","module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"module_index"}
{"decorators":[],"end_lineno":29,"kind":"function","lineno":29,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite._log_info","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":30,"kind":"function","lineno":30,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite._log_warn","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":31,"kind":"function","lineno":31,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite._log_err","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":36,"kind":"function","lineno":36,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite._log_info","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":37,"kind":"function","lineno":37,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite._log_warn","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":38,"kind":"function","lineno":38,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite._log_err","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":58,"kind":"function","lineno":51,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite.get_connection","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":75,"kind":"function","lineno":61,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite.close_connection","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":95,"kind":"function","lineno":81,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite.connect_to","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":106,"kind":"function","lineno":98,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite.close","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":123,"kind":"function","lineno":112,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite._ensure_connection_config","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":135,"kind":"function","lineno":126,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite.set_pragma","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":145,"kind":"function","lineno":141,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite.execute","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":152,"kind":"function","lineno":148,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite.executemany","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":158,"kind":"function","lineno":155,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite.query_all","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":164,"kind":"function","lineno":161,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite.query_one","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":186,"kind":"function","lineno":170,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite.load_extension","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol"}
{"asname":null,"end_lineno":2,"from_module":"__future__","kind":"import_from","level":0,"lineno":2,"module":"v2.backend.core.db.access.sqlite","name":"annotations","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":21,"kind":"import","lineno":21,"module":"v2.backend.core.db.access.sqlite","name":"sqlite3","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":22,"from_module":"pathlib","kind":"import_from","level":0,"lineno":22,"module":"v2.backend.core.db.access.sqlite","name":"Path","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":23,"from_module":"typing","kind":"import_from","level":0,"lineno":23,"module":"v2.backend.core.db.access.sqlite","name":"Iterable","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":23,"from_module":"typing","kind":"import_from","level":0,"lineno":23,"module":"v2.backend.core.db.access.sqlite","name":"Optional","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":23,"from_module":"typing","kind":"import_from","level":0,"lineno":23,"module":"v2.backend.core.db.access.sqlite","name":"Sequence","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":23,"from_module":"typing","kind":"import_from","level":0,"lineno":23,"module":"v2.backend.core.db.access.sqlite","name":"Tuple","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":23,"from_module":"typing","kind":"import_from","level":0,"lineno":23,"module":"v2.backend.core.db.access.sqlite","name":"Any","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":27,"from_module":"v1.backend.utils.logger","kind":"import_from","level":0,"lineno":27,"module":"v2.backend.core.db.access.sqlite","name":"get_logger","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":33,"kind":"import","lineno":33,"module":"v2.backend.core.db.access.sqlite","name":"logging","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":45,"from_module":"v2.backend.core.db.access.db_init","kind":"import_from","level":0,"lineno":41,"module":"v2.backend.core.db.access.sqlite","name":"DB_PATH","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.xref"}
{"asname":"_get_shared_connection","end_lineno":45,"from_module":"v2.backend.core.db.access.db_init","kind":"import_from","level":0,"lineno":41,"module":"v2.backend.core.db.access.sqlite","name":"get_connection","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.xref"}
{"asname":"_close_shared_connection","end_lineno":45,"from_module":"v2.backend.core.db.access.db_init","kind":"import_from","level":0,"lineno":41,"module":"v2.backend.core.db.access.sqlite","name":"close_connection","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.xref"}
{"callee":"get_logger","caller_name":"v2.backend.core.db.access.sqlite","end_lineno":28,"lineno":28,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"_logger.info","caller_name":"v2.backend.core.db.access.sqlite._log_info","end_lineno":29,"lineno":29,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"_logger.warning","caller_name":"v2.backend.core.db.access.sqlite._log_warn","end_lineno":30,"lineno":30,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"_logger.error","caller_name":"v2.backend.core.db.access.sqlite._log_err","end_lineno":31,"lineno":31,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"logging.basicConfig","caller_name":"v2.backend.core.db.access.sqlite","end_lineno":34,"lineno":34,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"logging.getLogger","caller_name":"v2.backend.core.db.access.sqlite","end_lineno":35,"lineno":35,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"_lg.info","caller_name":"v2.backend.core.db.access.sqlite._log_info","end_lineno":36,"lineno":36,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"_lg.warning","caller_name":"v2.backend.core.db.access.sqlite._log_warn","end_lineno":37,"lineno":37,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"_lg.error","caller_name":"v2.backend.core.db.access.sqlite._log_err","end_lineno":38,"lineno":38,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"_get_shared_connection","caller_name":"v2.backend.core.db.access.sqlite.get_connection","end_lineno":56,"lineno":56,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"_ensure_connection_config","caller_name":"v2.backend.core.db.access.sqlite.get_connection","end_lineno":57,"lineno":57,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"_close_shared_connection","caller_name":"v2.backend.core.db.access.sqlite.close_connection","end_lineno":72,"lineno":72,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"_log_info","caller_name":"v2.backend.core.db.access.sqlite.close_connection","end_lineno":73,"lineno":73,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"_log_warn","caller_name":"v2.backend.core.db.access.sqlite.close_connection","end_lineno":75,"lineno":75,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"Path","caller_name":"v2.backend.core.db.access.sqlite.connect_to","end_lineno":89,"lineno":89,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"str","caller_name":"v2.backend.core.db.access.sqlite.connect_to","end_lineno":90,"lineno":90,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"p.parent.mkdir","caller_name":"v2.backend.core.db.access.sqlite.connect_to","end_lineno":91,"lineno":91,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"sqlite3.connect","caller_name":"v2.backend.core.db.access.sqlite.connect_to","end_lineno":92,"lineno":92,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"str","caller_name":"v2.backend.core.db.access.sqlite.connect_to","end_lineno":92,"lineno":92,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"_ensure_connection_config","caller_name":"v2.backend.core.db.access.sqlite.connect_to","end_lineno":93,"lineno":93,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"_log_info","caller_name":"v2.backend.core.db.access.sqlite.connect_to","end_lineno":94,"lineno":94,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"conn.close","caller_name":"v2.backend.core.db.access.sqlite.close","end_lineno":103,"lineno":103,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"_log_info","caller_name":"v2.backend.core.db.access.sqlite.close","end_lineno":104,"lineno":104,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"_log_warn","caller_name":"v2.backend.core.db.access.sqlite.close","end_lineno":106,"lineno":106,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"conn.execute","caller_name":"v2.backend.core.db.access.sqlite._ensure_connection_config","end_lineno":115,"lineno":115,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"conn.execute","caller_name":"v2.backend.core.db.access.sqlite._ensure_connection_config","end_lineno":116,"lineno":116,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"get_connection","caller_name":"v2.backend.core.db.access.sqlite.set_pragma","end_lineno":131,"lineno":131,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"conn.execute","caller_name":"v2.backend.core.db.access.sqlite.set_pragma","end_lineno":133,"lineno":133,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"_log_warn","caller_name":"v2.backend.core.db.access.sqlite.set_pragma","end_lineno":135,"lineno":135,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"get_connection.cursor","caller_name":"v2.backend.core.db.access.sqlite.execute","end_lineno":143,"lineno":143,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"get_connection","caller_name":"v2.backend.core.db.access.sqlite.execute","end_lineno":143,"lineno":143,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"cur.execute","caller_name":"v2.backend.core.db.access.sqlite.execute","end_lineno":144,"lineno":144,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"get_connection.cursor","caller_name":"v2.backend.core.db.access.sqlite.executemany","end_lineno":150,"lineno":150,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"get_connection","caller_name":"v2.backend.core.db.access.sqlite.executemany","end_lineno":150,"lineno":150,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"cur.executemany","caller_name":"v2.backend.core.db.access.sqlite.executemany","end_lineno":151,"lineno":151,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"execute","caller_name":"v2.backend.core.db.access.sqlite.query_all","end_lineno":157,"lineno":157,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"cur.fetchall","caller_name":"v2.backend.core.db.access.sqlite.query_all","end_lineno":158,"lineno":158,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"execute","caller_name":"v2.backend.core.db.access.sqlite.query_one","end_lineno":163,"lineno":163,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"cur.fetchone","caller_name":"v2.backend.core.db.access.sqlite.query_one","end_lineno":164,"lineno":164,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"get_connection","caller_name":"v2.backend.core.db.access.sqlite.load_extension","end_lineno":176,"lineno":176,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"hasattr","caller_name":"v2.backend.core.db.access.sqlite.load_extension","end_lineno":179,"lineno":179,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"conn.enable_load_extension","caller_name":"v2.backend.core.db.access.sqlite.load_extension","end_lineno":180,"lineno":180,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"conn.load_extension","caller_name":"v2.backend.core.db.access.sqlite.load_extension","end_lineno":181,"lineno":181,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"str","caller_name":"v2.backend.core.db.access.sqlite.load_extension","end_lineno":181,"lineno":181,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"_log_info","caller_name":"v2.backend.core.db.access.sqlite.load_extension","end_lineno":182,"lineno":182,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"callee":"_log_warn","caller_name":"v2.backend.core.db.access.sqlite.load_extension","end_lineno":185,"lineno":185,"module":"v2.backend.core.db.access.sqlite","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.call"}
{"doc":"\n    Return the **shared** project SQLite connection.\n    Delegates to db_init.get_connection() and ensures basic pragmas/row_factory.\n    ","end_lineno":58,"lineno":51,"module":"v2.backend.core.db.access.sqlite","owner":"v2.backend.core.db.access.sqlite.get_connection","owner_kind":"function","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.docstring"}
{"doc":"\n    Safely close the **shared** SQLite connection.\n\n    AG Coverage:\n    - AG-6: CLI shutdown\n    - AG-12: Diagnostics restart cleanup\n    - AG-21: Daemon thread disposal\n    - AG-35: Safe lifecycle finalization\n    ","end_lineno":75,"lineno":61,"module":"v2.backend.core.db.access.sqlite","owner":"v2.backend.core.db.access.sqlite.close_connection","owner_kind":"function","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.docstring"}
{"doc":"\n    Open a **new, caller-owned** sqlite3 connection to the given path.\n    The caller must close() it when done.\n\n    - Ensures parent directory exists.\n    - Applies WAL/NORMAL pragmas and Row factory.\n    ","end_lineno":95,"lineno":81,"module":"v2.backend.core.db.access.sqlite","owner":"v2.backend.core.db.access.sqlite.connect_to","owner_kind":"function","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.docstring"}
{"doc":"Close a caller-owned sqlite3 connection safely.","end_lineno":106,"lineno":98,"module":"v2.backend.core.db.access.sqlite","owner":"v2.backend.core.db.access.sqlite.close","owner_kind":"function","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.docstring"}
{"doc":"Apply standard configuration to a connection (idempotent).","end_lineno":123,"lineno":112,"module":"v2.backend.core.db.access.sqlite","owner":"v2.backend.core.db.access.sqlite._ensure_connection_config","owner_kind":"function","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.docstring"}
{"doc":"\n    Set a pragma on the given connection (or the shared connection if None).\n    Example: set_pragma(\"cache_size\", -20000)\n    ","end_lineno":135,"lineno":126,"module":"v2.backend.core.db.access.sqlite","owner":"v2.backend.core.db.access.sqlite.set_pragma","owner_kind":"function","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.docstring"}
{"doc":"Execute a statement on the **shared** connection and return the cursor.","end_lineno":145,"lineno":141,"module":"v2.backend.core.db.access.sqlite","owner":"v2.backend.core.db.access.sqlite.execute","owner_kind":"function","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.docstring"}
{"doc":"Execute many on the **shared** connection and return the cursor.","end_lineno":152,"lineno":148,"module":"v2.backend.core.db.access.sqlite","owner":"v2.backend.core.db.access.sqlite.executemany","owner_kind":"function","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.docstring"}
{"doc":"Run a SELECT and return all rows (sqlite3.Row mapping).","end_lineno":158,"lineno":155,"module":"v2.backend.core.db.access.sqlite","owner":"v2.backend.core.db.access.sqlite.query_all","owner_kind":"function","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.docstring"}
{"doc":"Run a SELECT and return a single row or None.","end_lineno":164,"lineno":161,"module":"v2.backend.core.db.access.sqlite","owner":"v2.backend.core.db.access.sqlite.query_one","owner_kind":"function","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.docstring"}
{"doc":"\n    Load a SQLite extension library (.dll/.so/.dylib).\n\n    Returns True on success, False if loading is unsupported or failed.\n    ","end_lineno":186,"lineno":170,"module":"v2.backend.core.db.access.sqlite","owner":"v2.backend.core.db.access.sqlite.load_extension","owner_kind":"function","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.docstring"}
{"arg_count":1,"is_async":false,"loc":1,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite._log_info","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol_metrics"}
{"arg_count":1,"is_async":false,"loc":1,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite._log_warn","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol_metrics"}
{"arg_count":1,"is_async":false,"loc":1,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite._log_err","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol_metrics"}
{"arg_count":1,"is_async":false,"loc":1,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite._log_info","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol_metrics"}
{"arg_count":1,"is_async":false,"loc":1,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite._log_warn","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol_metrics"}
{"arg_count":1,"is_async":false,"loc":1,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite._log_err","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol_metrics"}
{"arg_count":0,"is_async":false,"loc":8,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite.get_connection","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol_metrics"}
{"arg_count":0,"is_async":false,"loc":15,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite.close_connection","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol_metrics"}
{"arg_count":2,"is_async":false,"loc":15,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite.connect_to","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol_metrics"}
{"arg_count":1,"is_async":false,"loc":9,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite.close","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol_metrics"}
{"arg_count":1,"is_async":false,"loc":12,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite._ensure_connection_config","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol_metrics"}
{"arg_count":3,"is_async":false,"loc":10,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite.set_pragma","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol_metrics"}
{"arg_count":2,"is_async":false,"loc":5,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite.execute","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol_metrics"}
{"arg_count":2,"is_async":false,"loc":5,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite.executemany","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol_metrics"}
{"arg_count":2,"is_async":false,"loc":4,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite.query_all","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol_metrics"}
{"arg_count":2,"is_async":false,"loc":4,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite.query_one","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol_metrics"}
{"arg_count":2,"is_async":false,"loc":17,"module":"v2.backend.core.db.access.sqlite","name":"v2.backend.core.db.access.sqlite.load_extension","path":"v2/backend/core/db/access/sqlite.py","record_type":"ast.symbol_metrics"}
{"classes":[],"functions":[],"imports":[],"language":"python","module":"v2.backend.core.db.writers","path":"v2/backend/core/db/writers/__init__.py","record_type":"module_index"}
{"classes":["v2.backend.core.db.writers.docstring_writer.DocstringWriter"],"functions":["v2.backend.core.db.writers.docstring_writer._now_utc","v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.__init__","v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._extract_name","v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._update_existing"],"imports":["__future__","datetime","sqlalchemy.exc","sqlalchemy.orm","typing","v2.backend.core.db.access.db_init","v2.models.introspection_index"],"language":"python","module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"module_index"}
{"decorators":[],"end_lineno":46,"kind":"function","lineno":45,"module":"v2.backend.core.db.writers.docstring_writer","name":"v2.backend.core.db.writers.docstring_writer._now_utc","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.symbol"}
{"bases":[],"decorators":[],"end_lineno":178,"kind":"class","lineno":49,"module":"v2.backend.core.db.writers.docstring_writer","name":"v2.backend.core.db.writers.docstring_writer.DocstringWriter","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":57,"kind":"function","lineno":54,"module":"v2.backend.core.db.writers.docstring_writer","name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.__init__","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.symbol"}
{"decorators":["staticmethod"],"end_lineno":66,"kind":"function","lineno":60,"module":"v2.backend.core.db.writers.docstring_writer","name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._extract_name","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":114,"kind":"function","lineno":68,"module":"v2.backend.core.db.writers.docstring_writer","name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":178,"kind":"function","lineno":116,"module":"v2.backend.core.db.writers.docstring_writer","name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._update_existing","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.symbol"}
{"asname":null,"end_lineno":30,"from_module":"__future__","kind":"import_from","level":0,"lineno":30,"module":"v2.backend.core.db.writers.docstring_writer","name":"annotations","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":32,"from_module":"datetime","kind":"import_from","level":0,"lineno":32,"module":"v2.backend.core.db.writers.docstring_writer","name":"datetime","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":32,"from_module":"datetime","kind":"import_from","level":0,"lineno":32,"module":"v2.backend.core.db.writers.docstring_writer","name":"timezone","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":33,"from_module":"typing","kind":"import_from","level":0,"lineno":33,"module":"v2.backend.core.db.writers.docstring_writer","name":"Any","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":33,"from_module":"typing","kind":"import_from","level":0,"lineno":33,"module":"v2.backend.core.db.writers.docstring_writer","name":"Optional","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":35,"from_module":"sqlalchemy.exc","kind":"import_from","level":0,"lineno":35,"module":"v2.backend.core.db.writers.docstring_writer","name":"IntegrityError","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":36,"from_module":"sqlalchemy.orm","kind":"import_from","level":0,"lineno":36,"module":"v2.backend.core.db.writers.docstring_writer","name":"Session","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":38,"from_module":"v2.backend.core.db.access.db_init","kind":"import_from","level":0,"lineno":38,"module":"v2.backend.core.db.writers.docstring_writer","name":"get_session","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.xref"}
{"asname":"_Base","end_lineno":42,"from_module":"v2.models.introspection_index","kind":"import_from","level":0,"lineno":39,"module":"v2.backend.core.db.writers.docstring_writer","name":"Base","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":42,"from_module":"v2.models.introspection_index","kind":"import_from","level":0,"lineno":39,"module":"v2.backend.core.db.writers.docstring_writer","name":"IntrospectionIndex","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.xref"}
{"callee":"datetime.now","caller_name":"v2.backend.core.db.writers.docstring_writer._now_utc","end_lineno":46,"lineno":46,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"ValueError","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.__init__","end_lineno":56,"lineno":56,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"int","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.__init__","end_lineno":57,"lineno":57,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"row.get","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._extract_name","end_lineno":63,"lineno":63,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"isinstance","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._extract_name","end_lineno":64,"lineno":64,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"v.strip","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._extract_name","end_lineno":64,"lineno":64,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"v.strip","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._extract_name","end_lineno":65,"lineno":65,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"isinstance","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":72,"lineno":72,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"TypeError","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":73,"lineno":73,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"str.strip.replace","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":75,"lineno":75,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"str.strip","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":75,"lineno":75,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"str","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":75,"lineno":75,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"row.get","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":75,"lineno":75,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"str.strip","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":76,"lineno":76,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"str","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":76,"lineno":76,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"row.get","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":76,"lineno":76,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"self._extract_name","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":77,"lineno":77,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"int","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":78,"lineno":78,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"row.get","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":78,"lineno":78,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"BoolOp.strip","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":79,"lineno":79,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"row.get","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":79,"lineno":79,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"BoolOp.strip","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":80,"lineno":80,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"row.get","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":80,"lineno":80,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"BoolOp.strip","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":81,"lineno":81,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"row.get","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":81,"lineno":81,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"ValueError","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":84,"lineno":84,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"ValueError","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":87,"lineno":87,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"IntrospectionIndex","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":101,"lineno":89,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"_now_utc","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":97,"lineno":97,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"_now_utc","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":98,"lineno":98,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"get_session","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":104,"lineno":104,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"session.add","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":106,"lineno":106,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"session.commit","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":107,"lineno":107,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"session.rollback","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":110,"lineno":110,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"self._update_existing","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":111,"lineno":111,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"bool","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":111,"lineno":111,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"session.rollback","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","end_lineno":113,"lineno":113,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"session.query.filter.one_or_none","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._update_existing","end_lineno":132,"lineno":125,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"session.query.filter","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._update_existing","end_lineno":131,"lineno":125,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"session.query","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._update_existing","end_lineno":125,"lineno":125,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"session.query.filter.one_or_none","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._update_existing","end_lineno":143,"lineno":141,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"session.query.filter","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._update_existing","end_lineno":142,"lineno":141,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"session.query","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._update_existing","end_lineno":141,"lineno":141,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"session.add","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._update_existing","end_lineno":151,"lineno":151,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"session.commit","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._update_existing","end_lineno":152,"lineno":152,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"session.rollback","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._update_existing","end_lineno":155,"lineno":155,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"_now_utc","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._update_existing","end_lineno":160,"lineno":160,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"int","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._update_existing","end_lineno":162,"lineno":162,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"BoolOp.strip","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._update_existing","end_lineno":167,"lineno":167,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"BoolOp.strip","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._update_existing","end_lineno":168,"lineno":168,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"len","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._update_existing","end_lineno":169,"lineno":169,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"len","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._update_existing","end_lineno":169,"lineno":169,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"session.commit","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._update_existing","end_lineno":176,"lineno":176,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"callee":"session.rollback","caller_name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._update_existing","end_lineno":178,"lineno":178,"module":"v2.backend.core.db.writers.docstring_writer","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.call"}
{"doc":"\nDocstringWriter (YAML-backed DB; no env).\n\nMinimal writer used by the docstring scanner to persist entries into the\n'introspection_index' table via the project ORM.\n\n- Uses the shared SQLAlchemy engine/session from db.access.db_init (which is\n  sourced from YAML via the central loader).\n- No environment variables and no hardcoded paths.\n- Upsert semantics: insert by natural key; on conflict, update rolling fields.\n\nExpected input row keys (as produced by the analyzer adapter):\n  file            : repo-relative path (str)\n  filetype        : \"module\" | \"class\" | \"function\" (str)\n  line            : line number (int)\n  description     : summarized one-liner (str)\n  hash            : stable unique hash for this symbol (str)\n  status          : lifecycle status (e.g., \"todo\", \"active\") (str)\n  function/name   : symbol name (str), one of these keys will be present\n  route/route_*   : ignored (for compatibility), not used here\n  subdir          : optional (ignored by the ORM), kept for compatibility\n  analyzer        : optional (ignored)\n\nAPI:\n  w = DocstringWriter(agent_id=<int>, mode=\"introspection_index\")\n  w.write(row_dict)\n","end_lineno":1,"lineno":1,"module":"v2.backend.core.db.writers.docstring_writer","owner":"v2.backend.core.db.writers.docstring_writer","owner_kind":"module","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.docstring"}
{"doc":"\n    Thin wrapper around SQLAlchemy session for writing introspection records.\n    ","end_lineno":178,"lineno":49,"module":"v2.backend.core.db.writers.docstring_writer","owner":"v2.backend.core.db.writers.docstring_writer.DocstringWriter","owner_kind":"class","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.docstring"}
{"doc":"\n        Insert or update a single docstring record.\n        ","end_lineno":114,"lineno":68,"module":"v2.backend.core.db.writers.docstring_writer","owner":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","owner_kind":"function","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.docstring"}
{"doc":"\n        Update existing record matched on natural key or unique_key_hash.\n        ","end_lineno":178,"lineno":116,"module":"v2.backend.core.db.writers.docstring_writer","owner":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._update_existing","owner_kind":"function","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.docstring"}
{"arg_count":0,"is_async":false,"loc":2,"module":"v2.backend.core.db.writers.docstring_writer","name":"v2.backend.core.db.writers.docstring_writer._now_utc","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.symbol_metrics"}
{"arg_count":3,"is_async":false,"loc":4,"module":"v2.backend.core.db.writers.docstring_writer","name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.__init__","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.symbol_metrics"}
{"arg_count":1,"is_async":false,"loc":7,"module":"v2.backend.core.db.writers.docstring_writer","name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._extract_name","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.symbol_metrics"}
{"arg_count":2,"is_async":false,"loc":47,"module":"v2.backend.core.db.writers.docstring_writer","name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter.write","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.symbol_metrics"}
{"arg_count":4,"is_async":false,"loc":63,"module":"v2.backend.core.db.writers.docstring_writer","name":"v2.backend.core.db.writers.docstring_writer.v2.backend.core.db.writers.docstring_writer.DocstringWriter._update_existing","path":"v2/backend/core/db/writers/docstring_writer.py","record_type":"ast.symbol_metrics"}
{"classes":[],"functions":[],"imports":["__future__","sanitize"],"language":"python","module":"v2.backend.core.docstrings","path":"v2/backend/core/docstrings/__init__.py","record_type":"module_index"}
{"asname":null,"end_lineno":1,"from_module":"__future__","kind":"import_from","level":0,"lineno":1,"module":"v2.backend.core.docstrings","name":"annotations","path":"v2/backend/core/docstrings/__init__.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":13,"from_module":"sanitize","kind":"import_from","level":1,"lineno":13,"module":"v2.backend.core.docstrings","name":"sanitize_docstring","path":"v2/backend/core/docstrings/__init__.py","record_type":"ast.xref"}
{"classes":["v2.backend.core.docstrings.ast_utils.TargetInfo"],"functions":["v2.backend.core.docstrings.ast_utils.parse_source","v2.backend.core.docstrings.ast_utils._get_indent_of_line","v2.backend.core.docstrings.ast_utils._compute_body_indent_for_node","v2.backend.core.docstrings.ast_utils._class_signature","v2.backend.core.docstrings.ast_utils._func_signature","v2.backend.core.docstrings.ast_utils._first_statement_positions","v2.backend.core.docstrings.ast_utils._module_has_docstring","v2.backend.core.docstrings.ast_utils.find_target_by_lineno"],"imports":["__future__","ast","dataclasses","pathlib","re","typing"],"language":"python","module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"module_index"}
{"bases":[],"decorators":["dataclass"],"end_lineno":18,"kind":"class","lineno":11,"module":"v2.backend.core.docstrings.ast_utils","name":"v2.backend.core.docstrings.ast_utils.TargetInfo","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":22,"kind":"function","lineno":21,"module":"v2.backend.core.docstrings.ast_utils","name":"v2.backend.core.docstrings.ast_utils.parse_source","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":29,"kind":"function","lineno":25,"module":"v2.backend.core.docstrings.ast_utils","name":"v2.backend.core.docstrings.ast_utils._get_indent_of_line","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":45,"kind":"function","lineno":32,"module":"v2.backend.core.docstrings.ast_utils","name":"v2.backend.core.docstrings.ast_utils._compute_body_indent_for_node","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":52,"kind":"function","lineno":48,"module":"v2.backend.core.docstrings.ast_utils","name":"v2.backend.core.docstrings.ast_utils._class_signature","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":63,"kind":"function","lineno":55,"module":"v2.backend.core.docstrings.ast_utils","name":"v2.backend.core.docstrings.ast_utils._func_signature","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":73,"kind":"function","lineno":66,"module":"v2.backend.core.docstrings.ast_utils","name":"v2.backend.core.docstrings.ast_utils._first_statement_positions","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":78,"kind":"function","lineno":76,"module":"v2.backend.core.docstrings.ast_utils","name":"v2.backend.core.docstrings.ast_utils._module_has_docstring","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":178,"kind":"function","lineno":81,"module":"v2.backend.core.docstrings.ast_utils","name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.symbol"}
{"asname":null,"end_lineno":1,"from_module":"__future__","kind":"import_from","level":0,"lineno":1,"module":"v2.backend.core.docstrings.ast_utils","name":"annotations","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":3,"kind":"import","lineno":3,"module":"v2.backend.core.docstrings.ast_utils","name":"ast","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":4,"kind":"import","lineno":4,"module":"v2.backend.core.docstrings.ast_utils","name":"re","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":5,"from_module":"dataclasses","kind":"import_from","level":0,"lineno":5,"module":"v2.backend.core.docstrings.ast_utils","name":"dataclass","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":6,"from_module":"pathlib","kind":"import_from","level":0,"lineno":6,"module":"v2.backend.core.docstrings.ast_utils","name":"Path","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":7,"from_module":"typing","kind":"import_from","level":0,"lineno":7,"module":"v2.backend.core.docstrings.ast_utils","name":"Optional","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":7,"from_module":"typing","kind":"import_from","level":0,"lineno":7,"module":"v2.backend.core.docstrings.ast_utils","name":"Tuple","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.xref"}
{"callee":"ast.parse","caller_name":"v2.backend.core.docstrings.ast_utils.parse_source","end_lineno":22,"lineno":22,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"len","caller_name":"v2.backend.core.docstrings.ast_utils._get_indent_of_line","end_lineno":26,"lineno":26,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"re.match","caller_name":"v2.backend.core.docstrings.ast_utils._get_indent_of_line","end_lineno":28,"lineno":28,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"m.group","caller_name":"v2.backend.core.docstrings.ast_utils._get_indent_of_line","end_lineno":29,"lineno":29,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"_get_indent_of_line","caller_name":"v2.backend.core.docstrings.ast_utils._compute_body_indent_for_node","end_lineno":34,"lineno":34,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"range","caller_name":"v2.backend.core.docstrings.ast_utils._compute_body_indent_for_node","end_lineno":36,"lineno":36,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"min","caller_name":"v2.backend.core.docstrings.ast_utils._compute_body_indent_for_node","end_lineno":36,"lineno":36,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"len","caller_name":"v2.backend.core.docstrings.ast_utils._compute_body_indent_for_node","end_lineno":36,"lineno":36,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"line.strip","caller_name":"v2.backend.core.docstrings.ast_utils._compute_body_indent_for_node","end_lineno":38,"lineno":38,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"_get_indent_of_line","caller_name":"v2.backend.core.docstrings.ast_utils._compute_body_indent_for_node","end_lineno":40,"lineno":40,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"len","caller_name":"v2.backend.core.docstrings.ast_utils._compute_body_indent_for_node","end_lineno":41,"lineno":41,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"len","caller_name":"v2.backend.core.docstrings.ast_utils._compute_body_indent_for_node","end_lineno":41,"lineno":41,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"getattr","caller_name":"v2.backend.core.docstrings.ast_utils._class_signature","end_lineno":50,"lineno":50,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"ast.unparse","caller_name":"v2.backend.core.docstrings.ast_utils._class_signature","end_lineno":50,"lineno":50,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"Constant.join","caller_name":"v2.backend.core.docstrings.ast_utils._class_signature","end_lineno":51,"lineno":51,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"getattr","caller_name":"v2.backend.core.docstrings.ast_utils._func_signature","end_lineno":56,"lineno":56,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"ast.unparse","caller_name":"v2.backend.core.docstrings.ast_utils._func_signature","end_lineno":57,"lineno":57,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"ast.unparse","caller_name":"v2.backend.core.docstrings.ast_utils._func_signature","end_lineno":58,"lineno":58,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"isinstance","caller_name":"v2.backend.core.docstrings.ast_utils._func_signature","end_lineno":59,"lineno":59,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"isinstance","caller_name":"v2.backend.core.docstrings.ast_utils._func_signature","end_lineno":62,"lineno":62,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"hasattr","caller_name":"v2.backend.core.docstrings.ast_utils._first_statement_positions","end_lineno":71,"lineno":71,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"hasattr","caller_name":"v2.backend.core.docstrings.ast_utils._first_statement_positions","end_lineno":71,"lineno":71,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"ast.get_docstring","caller_name":"v2.backend.core.docstrings.ast_utils._module_has_docstring","end_lineno":77,"lineno":77,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"parse_source","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":88,"lineno":88,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"src.splitlines","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":89,"lineno":89,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"ast.walk","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":92,"lineno":92,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"isinstance","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":93,"lineno":93,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"isinstance","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":95,"lineno":95,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"ast.get_docstring","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":96,"lineno":96,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"TargetInfo","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":105,"lineno":97,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"ast.get_docstring","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":101,"lineno":101,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"_class_signature","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":102,"lineno":102,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"_compute_body_indent_for_node","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":103,"lineno":103,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"ast.get_docstring","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":107,"lineno":107,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"TargetInfo","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":116,"lineno":108,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"ast.get_docstring","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":112,"lineno":112,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"_func_signature","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":113,"lineno":113,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"_compute_body_indent_for_node","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":114,"lineno":114,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"_module_has_docstring","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":120,"lineno":120,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"TargetInfo","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":129,"lineno":121,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"ast.walk","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":134,"lineno":134,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"isinstance","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":135,"lineno":135,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"getattr","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":137,"lineno":137,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"getattr","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":138,"lineno":138,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"isinstance","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":141,"lineno":141,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"isinstance","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":145,"lineno":145,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"ast.get_docstring","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":146,"lineno":146,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"TargetInfo","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":155,"lineno":147,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"ast.get_docstring","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":151,"lineno":151,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"_class_signature","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":152,"lineno":152,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"_compute_body_indent_for_node","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":153,"lineno":153,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"ast.get_docstring","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":157,"lineno":157,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"TargetInfo","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":166,"lineno":158,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"ast.get_docstring","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":162,"lineno":162,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"_func_signature","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":163,"lineno":163,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"_compute_body_indent_for_node","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":164,"lineno":164,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"_module_has_docstring","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":169,"lineno":169,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"callee":"TargetInfo","caller_name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","end_lineno":178,"lineno":170,"module":"v2.backend.core.docstrings.ast_utils","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.call"}
{"doc":"Return (lineno, end_lineno) of the first statement in the module, or None if empty.","end_lineno":73,"lineno":66,"module":"v2.backend.core.docstrings.ast_utils","owner":"v2.backend.core.docstrings.ast_utils._first_statement_positions","owner_kind":"function","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.docstring"}
{"doc":"\n    Given a file's source and a lineno hint (DB), determine the real target node:\n    - exact match to a FunctionDef/ClassDef.lineno  that node\n    - lineno == 1 (or <= 1)  module\n    - otherwise: best-effort nearest enclosing def/class; fallback to module\n    ","end_lineno":178,"lineno":81,"module":"v2.backend.core.docstrings.ast_utils","owner":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","owner_kind":"function","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.docstring"}
{"arg_count":2,"is_async":false,"loc":2,"module":"v2.backend.core.docstrings.ast_utils","name":"v2.backend.core.docstrings.ast_utils.parse_source","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.symbol_metrics"}
{"arg_count":2,"is_async":false,"loc":5,"module":"v2.backend.core.docstrings.ast_utils","name":"v2.backend.core.docstrings.ast_utils._get_indent_of_line","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.symbol_metrics"}
{"arg_count":2,"is_async":false,"loc":14,"module":"v2.backend.core.docstrings.ast_utils","name":"v2.backend.core.docstrings.ast_utils._compute_body_indent_for_node","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.symbol_metrics"}
{"arg_count":1,"is_async":false,"loc":5,"module":"v2.backend.core.docstrings.ast_utils","name":"v2.backend.core.docstrings.ast_utils._class_signature","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.symbol_metrics"}
{"arg_count":1,"is_async":false,"loc":9,"module":"v2.backend.core.docstrings.ast_utils","name":"v2.backend.core.docstrings.ast_utils._func_signature","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.symbol_metrics"}
{"arg_count":1,"is_async":false,"loc":8,"module":"v2.backend.core.docstrings.ast_utils","name":"v2.backend.core.docstrings.ast_utils._first_statement_positions","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.symbol_metrics"}
{"arg_count":1,"is_async":false,"loc":3,"module":"v2.backend.core.docstrings.ast_utils","name":"v2.backend.core.docstrings.ast_utils._module_has_docstring","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.symbol_metrics"}
{"arg_count":3,"is_async":false,"loc":98,"module":"v2.backend.core.docstrings.ast_utils","name":"v2.backend.core.docstrings.ast_utils.find_target_by_lineno","path":"v2/backend/core/docstrings/ast_utils.py","record_type":"ast.symbol_metrics"}
{"classes":["v2.backend.core.docstrings.context.PythonContextOptions"],"functions":["v2.backend.core.docstrings.context._read_text","v2.backend.core.docstrings.context._split_lines","v2.backend.core.docstrings.context._clip_lines","v2.backend.core.docstrings.context._resolve_path","v2.backend.core.docstrings.context._node_signature","v2.backend.core.docstrings.context._lineno","v2.backend.core.docstrings.context._find_target_node","v2.backend.core.docstrings.context.v2.backend.core.docstrings.context._find_target_node._is_name_match","v2.backend.core.docstrings.context.analyze_python_context","v2.backend.core.docstrings.context.read_source_window","v2.backend.core.docstrings.context.build_context_for_items"],"imports":["__future__","ast","dataclasses","io","pathlib","typing"],"language":"python","module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"module_index"}
{"decorators":[],"end_lineno":37,"kind":"function","lineno":36,"module":"v2.backend.core.docstrings.context","name":"v2.backend.core.docstrings.context._read_text","path":"v2/backend/core/docstrings/context.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":41,"kind":"function","lineno":40,"module":"v2.backend.core.docstrings.context","name":"v2.backend.core.docstrings.context._split_lines","path":"v2/backend/core/docstrings/context.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":47,"kind":"function","lineno":44,"module":"v2.backend.core.docstrings.context","name":"v2.backend.core.docstrings.context._clip_lines","path":"v2/backend/core/docstrings/context.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":59,"kind":"function","lineno":50,"module":"v2.backend.core.docstrings.context","name":"v2.backend.core.docstrings.context._resolve_path","path":"v2/backend/core/docstrings/context.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":81,"kind":"function","lineno":65,"module":"v2.backend.core.docstrings.context","name":"v2.backend.core.docstrings.context._node_signature","path":"v2/backend/core/docstrings/context.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":88,"kind":"function","lineno":84,"module":"v2.backend.core.docstrings.context","name":"v2.backend.core.docstrings.context._lineno","path":"v2/backend/core/docstrings/context.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":130,"kind":"function","lineno":91,"module":"v2.backend.core.docstrings.context","name":"v2.backend.core.docstrings.context._find_target_node","path":"v2/backend/core/docstrings/context.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":111,"kind":"function","lineno":107,"module":"v2.backend.core.docstrings.context","name":"v2.backend.core.docstrings.context.v2.backend.core.docstrings.context._find_target_node._is_name_match","path":"v2/backend/core/docstrings/context.py","record_type":"ast.symbol"}
{"bases":[],"decorators":["dataclass"],"end_lineno":143,"kind":"class","lineno":134,"module":"v2.backend.core.docstrings.context","name":"v2.backend.core.docstrings.context.PythonContextOptions","path":"v2/backend/core/docstrings/context.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":196,"kind":"function","lineno":146,"module":"v2.backend.core.docstrings.context","name":"v2.backend.core.docstrings.context.analyze_python_context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":241,"kind":"function","lineno":202,"module":"v2.backend.core.docstrings.context","name":"v2.backend.core.docstrings.context.read_source_window","path":"v2/backend/core/docstrings/context.py","record_type":"ast.symbol"}
{"decorators":[],"end_lineno":306,"kind":"function","lineno":247,"module":"v2.backend.core.docstrings.context","name":"v2.backend.core.docstrings.context.build_context_for_items","path":"v2/backend/core/docstrings/context.py","record_type":"ast.symbol"}
{"asname":null,"end_lineno":23,"from_module":"__future__","kind":"import_from","level":0,"lineno":23,"module":"v2.backend.core.docstrings.context","name":"annotations","path":"v2/backend/core/docstrings/context.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":25,"from_module":"dataclasses","kind":"import_from","level":0,"lineno":25,"module":"v2.backend.core.docstrings.context","name":"dataclass","path":"v2/backend/core/docstrings/context.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":26,"from_module":"pathlib","kind":"import_from","level":0,"lineno":26,"module":"v2.backend.core.docstrings.context","name":"Path","path":"v2/backend/core/docstrings/context.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":27,"from_module":"typing","kind":"import_from","level":0,"lineno":27,"module":"v2.backend.core.docstrings.context","name":"Any","path":"v2/backend/core/docstrings/context.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":27,"from_module":"typing","kind":"import_from","level":0,"lineno":27,"module":"v2.backend.core.docstrings.context","name":"Dict","path":"v2/backend/core/docstrings/context.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":27,"from_module":"typing","kind":"import_from","level":0,"lineno":27,"module":"v2.backend.core.docstrings.context","name":"Iterable","path":"v2/backend/core/docstrings/context.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":27,"from_module":"typing","kind":"import_from","level":0,"lineno":27,"module":"v2.backend.core.docstrings.context","name":"List","path":"v2/backend/core/docstrings/context.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":27,"from_module":"typing","kind":"import_from","level":0,"lineno":27,"module":"v2.backend.core.docstrings.context","name":"Optional","path":"v2/backend/core/docstrings/context.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":27,"from_module":"typing","kind":"import_from","level":0,"lineno":27,"module":"v2.backend.core.docstrings.context","name":"Tuple","path":"v2/backend/core/docstrings/context.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":29,"kind":"import","lineno":29,"module":"v2.backend.core.docstrings.context","name":"ast","path":"v2/backend/core/docstrings/context.py","record_type":"ast.xref"}
{"asname":null,"end_lineno":30,"kind":"import","lineno":30,"module":"v2.backend.core.docstrings.context","name":"io","path":"v2/backend/core/docstrings/context.py","record_type":"ast.xref"}
{"callee":"p.read_text","caller_name":"v2.backend.core.docstrings.context._read_text","end_lineno":37,"lineno":37,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"src.splitlines","caller_name":"v2.backend.core.docstrings.context._split_lines","end_lineno":41,"lineno":41,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"max","caller_name":"v2.backend.core.docstrings.context._clip_lines","end_lineno":45,"lineno":45,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"max","caller_name":"v2.backend.core.docstrings.context._clip_lines","end_lineno":46,"lineno":46,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"min","caller_name":"v2.backend.core.docstrings.context._clip_lines","end_lineno":46,"lineno":46,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"len","caller_name":"v2.backend.core.docstrings.context._clip_lines","end_lineno":46,"lineno":46,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"Constant.join","caller_name":"v2.backend.core.docstrings.context._clip_lines","end_lineno":47,"lineno":47,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"Path","caller_name":"v2.backend.core.docstrings.context._resolve_path","end_lineno":53,"lineno":53,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"p.is_absolute","caller_name":"v2.backend.core.docstrings.context._resolve_path","end_lineno":54,"lineno":54,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"p.resolve","caller_name":"v2.backend.core.docstrings.context._resolve_path","end_lineno":57,"lineno":57,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"ast.get_source_segment","caller_name":"v2.backend.core.docstrings.context._node_signature","end_lineno":71,"lineno":71,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"isinstance","caller_name":"v2.backend.core.docstrings.context._node_signature","end_lineno":72,"lineno":72,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"io.StringIO","caller_name":"v2.backend.core.docstrings.context._node_signature","end_lineno":75,"lineno":75,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"buf.readline.rstrip","caller_name":"v2.backend.core.docstrings.context._node_signature","end_lineno":76,"lineno":76,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"buf.readline","caller_name":"v2.backend.core.docstrings.context._node_signature","end_lineno":76,"lineno":76,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"header.split","caller_name":"v2.backend.core.docstrings.context._node_signature","end_lineno":78,"lineno":78,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"header.strip","caller_name":"v2.backend.core.docstrings.context._node_signature","end_lineno":79,"lineno":79,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"int","caller_name":"v2.backend.core.docstrings.context._lineno","end_lineno":86,"lineno":86,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"getattr","caller_name":"v2.backend.core.docstrings.context._lineno","end_lineno":86,"lineno":86,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"getattr","caller_name":"v2.backend.core.docstrings.context.v2.backend.core.docstrings.context._find_target_node._is_name_match","end_lineno":110,"lineno":110,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"isinstance","caller_name":"v2.backend.core.docstrings.context.v2.backend.core.docstrings.context._find_target_node._is_name_match","end_lineno":111,"lineno":111,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"ast.walk","caller_name":"v2.backend.core.docstrings.context._find_target_node","end_lineno":113,"lineno":113,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"isinstance","caller_name":"v2.backend.core.docstrings.context._find_target_node","end_lineno":114,"lineno":114,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"_is_name_match","caller_name":"v2.backend.core.docstrings.context._find_target_node","end_lineno":115,"lineno":115,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"_lineno","caller_name":"v2.backend.core.docstrings.context._find_target_node","end_lineno":117,"lineno":117,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"max","caller_name":"v2.backend.core.docstrings.context._find_target_node","end_lineno":117,"lineno":117,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"isinstance","caller_name":"v2.backend.core.docstrings.context._find_target_node","end_lineno":120,"lineno":120,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"_is_name_match","caller_name":"v2.backend.core.docstrings.context._find_target_node","end_lineno":121,"lineno":121,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"_lineno","caller_name":"v2.backend.core.docstrings.context._find_target_node","end_lineno":123,"lineno":123,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"max","caller_name":"v2.backend.core.docstrings.context._find_target_node","end_lineno":123,"lineno":123,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"PythonContextOptions","caller_name":"v2.backend.core.docstrings.context.analyze_python_context","end_lineno":160,"lineno":160,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"_read_text","caller_name":"v2.backend.core.docstrings.context.analyze_python_context","end_lineno":162,"lineno":162,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
{"callee":"_split_lines","caller_name":"v2.backend.core.docstrings.context.analyze_python_context","end_lineno":166,"lineno":166,"module":"v2.backend.core.docstrings.context","path":"v2/backend/core/docstrings/context.py","record_type":"ast.call"}
