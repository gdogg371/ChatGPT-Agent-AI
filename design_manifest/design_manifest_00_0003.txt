{"avg_complexity":4.0,"by_function":[{"complexity":6,"lineno":17,"name":"select_schema_key","nested":false},{"complexity":2,"lineno":44,"name":"parse_with_schema","nested":false}],"functions":2,"kind":"quality.complexity","max_complexity":6,"p95_complexity":6.0,"path":"v2/backend/core/prompt_pipeline/llm/router.py","total_complexity":8}
{"avg_complexity":1.0,"by_function":[{"complexity":1,"lineno":61,"name":"known_schema_keys","nested":false},{"complexity":1,"lineno":66,"name":"get_schema","nested":false}],"functions":2,"kind":"quality.complexity","max_complexity":1,"p95_complexity":1.0,"path":"v2/backend/core/prompt_pipeline/llm/schema.py","total_complexity":2}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/backend/core/prompt_pipeline/preflight/__init__.py","total_complexity":0}
{"avg_complexity":3.5,"by_function":[{"complexity":8,"lineno":56,"name":"clamp_to_budget","nested":false},{"complexity":3,"lineno":32,"name":"_approx_tokens_for_messages","nested":false},{"complexity":2,"lineno":19,"name":"_approx_tokens_for_text","nested":false},{"complexity":1,"lineno":47,"name":"estimate_tokens","nested":false}],"functions":4,"kind":"quality.complexity","max_complexity":8,"p95_complexity":8.0,"path":"v2/backend/core/prompt_pipeline/preflight/budget.py","total_complexity":14}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/backend/core/run/__init__.py","total_complexity":0}
{"avg_complexity":4.474,"by_function":[{"complexity":22,"lineno":144,"name":"main","nested":false},{"complexity":11,"lineno":41,"name":"_bootstrap_spine","nested":false},{"complexity":7,"lineno":71,"name":"_arts_list","nested":false},{"complexity":7,"lineno":125,"name":"_normalize_record","nested":false},{"complexity":5,"lineno":135,"name":"_normalize_enriched_item","nested":false},{"complexity":4,"lineno":85,"name":"_unwrap_meta","nested":false},{"complexity":4,"lineno":96,"name":"_get","nested":false},{"complexity":4,"lineno":115,"name":"_spine_run","nested":false},{"complexity":3,"lineno":18,"name":"_project_root","nested":false},{"complexity":3,"lineno":92,"name":"_ensure_list_of_dicts","nested":false},{"complexity":3,"lineno":108,"name":"_get_messages_and_batch","nested":false},{"complexity":2,"lineno":11,"name":"_write_json","nested":false},{"complexity":2,"lineno":25,"name":"_load_vars","nested":false},{"complexity":2,"lineno":34,"name":"_import_callable","nested":false},{"complexity":2,"lineno":103,"name":"_get_items","nested":false},{"complexity":1,"lineno":10,"name":"_ensure_dir","nested":false},{"complexity":1,"lineno":30,"name":"_now_token","nested":false},{"complexity":1,"lineno":132,"name":"_normalize_records","nested":false},{"complexity":1,"lineno":141,"name":"_normalize_enriched","nested":false}],"functions":19,"kind":"quality.complexity","max_complexity":22,"p95_complexity":22.0,"path":"v2/backend/core/run/docstrings.py","total_complexity":85}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/backend/core/spine/__init__.py","total_complexity":0}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/backend/core/spine/adapters/__init__.py","total_complexity":0}
{"avg_complexity":1.0,"by_function":[{"complexity":1,"lineno":30,"name":"Adapter.to_native","nested":false},{"complexity":1,"lineno":33,"name":"Adapter.from_native","nested":false}],"functions":2,"kind":"quality.complexity","max_complexity":1,"p95_complexity":1.0,"path":"v2/backend/core/spine/adapters/base.py","total_complexity":2}
{"avg_complexity":4.4,"by_function":[{"complexity":18,"lineno":193,"name":"Spine.load_pipeline_and_run","nested":false},{"complexity":11,"lineno":282,"name":"Spine._eval_expr","nested":false},{"complexity":8,"lineno":250,"name":"Spine._resolve","nested":false},{"complexity":7,"lineno":352,"name":"Spine._top_level_char","nested":false},{"complexity":7,"lineno":370,"name":"Spine._resolve_path_or_var","nested":false},{"complexity":5,"lineno":69,"name":"load_middlewares_from_config","nested":false},{"complexity":5,"lineno":166,"name":"Spine.dispatch_capability","nested":false},{"complexity":4,"lineno":136,"name":"Spine.__post_init__","nested":false},{"complexity":4,"lineno":154,"name":"Spine.run","nested":false},{"complexity":3,"lineno":94,"name":"setup_registry","nested":false},{"complexity":2,"lineno":49,"name":"_split_target","nested":false},{"complexity":2,"lineno":56,"name":"_import_callable","nested":false},{"complexity":2,"lineno":325,"name":"Spine._parse_literal","nested":false},{"complexity":2,"lineno":336,"name":"Spine._stringify","nested":false},{"complexity":2,"lineno":342,"name":"Spine._truthy","nested":false},{"complexity":2,"lineno":415,"name":"_echo_provider","nested":false},{"complexity":1,"lineno":106,"name":"build_spine","nested":false},{"complexity":1,"lineno":143,"name":"Spine.from_registry","nested":false},{"complexity":1,"lineno":147,"name":"Spine.from_capabilities","nested":false},{"complexity":1,"lineno":348,"name":"Spine._coerce_bool","nested":false}],"functions":20,"kind":"quality.complexity","max_complexity":18,"p95_complexity":11.0,"path":"v2/backend/core/spine/bootstrap.py","total_complexity":88}
{"avg_complexity":1.333,"by_function":[{"complexity":2,"lineno":32,"name":"new_envelope","nested":false},{"complexity":1,"lineno":10,"name":"_uuid","nested":false},{"complexity":1,"lineno":95,"name":"to_dict","nested":false}],"functions":3,"kind":"quality.complexity","max_complexity":2,"p95_complexity":2.0,"path":"v2/backend/core/spine/contracts.py","total_complexity":4}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/backend/core/spine/errors.py","total_complexity":0}
{"avg_complexity":2.5,"by_function":[{"complexity":4,"lineno":37,"name":"CapabilitiesLoader._load_yaml","nested":false},{"complexity":4,"lineno":51,"name":"CapabilitiesLoader._resolve_target","nested":false},{"complexity":4,"lineno":62,"name":"CapabilitiesLoader.load","nested":false},{"complexity":1,"lineno":34,"name":"CapabilitiesLoader.__init__","nested":false},{"complexity":1,"lineno":83,"name":"capability_run","nested":false},{"complexity":1,"lineno":92,"name":"get_registry","nested":false}],"functions":6,"kind":"quality.complexity","max_complexity":4,"p95_complexity":4.0,"path":"v2/backend/core/spine/loader.py","total_complexity":15}
{"avg_complexity":3.4,"by_function":[{"complexity":10,"lineno":106,"name":"RetriesMiddleware.__call__","nested":false},{"complexity":3,"lineno":66,"name":"TimingMiddleware.__call__","nested":false},{"complexity":2,"lineno":31,"name":"GuardMiddleware.__call__","nested":false},{"complexity":1,"lineno":63,"name":"TimingMiddleware.__init__","nested":false},{"complexity":1,"lineno":102,"name":"RetriesMiddleware.__init__","nested":false}],"functions":5,"kind":"quality.complexity","max_complexity":10,"p95_complexity":10.0,"path":"v2/backend/core/spine/middleware.py","total_complexity":17}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/backend/core/spine/providers/__init__.py","total_complexity":0}
{"avg_complexity":8.0,"by_function":[{"complexity":15,"lineno":48,"name":"run_v1","nested":false},{"complexity":8,"lineno":16,"name":"_try_invoke_code_bundles","nested":false},{"complexity":1,"lineno":11,"name":"_write_json","nested":false}],"functions":3,"kind":"quality.complexity","max_complexity":15,"p95_complexity":15.0,"path":"v2/backend/core/spine/providers/packager_bundle_inject_prompt.py","total_complexity":24}
{"avg_complexity":5.5,"by_function":[{"complexity":24,"lineno":135,"name":"run_v1","nested":false},{"complexity":7,"lineno":37,"name":"_first_artifact","nested":false},{"complexity":6,"lineno":76,"name":"_write_manifest_chunked","nested":false},{"complexity":5,"lineno":29,"name":"_as_bool","nested":false},{"complexity":3,"lineno":49,"name":"_call_provider","nested":false},{"complexity":3,"lineno":60,"name":"_write_manifest_monolith","nested":false},{"complexity":3,"lineno":96,"name":"flush_part","nested":true},{"complexity":2,"lineno":24,"name":"_ng","nested":false},{"complexity":1,"lineno":21,"name":"_ok","nested":false},{"complexity":1,"lineno":51,"name":"_Shim.__init__","nested":true}],"functions":10,"kind":"quality.complexity","max_complexity":24,"p95_complexity":24.0,"path":"v2/backend/core/spine/providers/packager_bundle_make.py","total_complexity":55}
{"avg_complexity":8.75,"by_function":[{"complexity":26,"lineno":88,"name":"run_v1","nested":false},{"complexity":5,"lineno":72,"name":"_iter_jsonl","nested":false},{"complexity":3,"lineno":57,"name":"_safe_join","nested":false},{"complexity":1,"lineno":53,"name":"_sha256_bytes","nested":false}],"functions":4,"kind":"quality.complexity","max_complexity":26,"p95_complexity":26.0,"path":"v2/backend/core/spine/providers/packager_bundle_unpack.py","total_complexity":35}
{"avg_complexity":6.6,"by_function":[{"complexity":20,"lineno":96,"name":"run_v1","nested":false},{"complexity":4,"lineno":50,"name":"_project_root","nested":false},{"complexity":4,"lineno":85,"name":"_bool","nested":false},{"complexity":3,"lineno":61,"name":"_find_packager_src","nested":false},{"complexity":2,"lineno":79,"name":"_ensure_on_syspath","nested":false}],"functions":5,"kind":"quality.complexity","max_complexity":20,"p95_complexity":20.0,"path":"v2/backend/core/spine/providers/packager_pack_run.py","total_complexity":33}
{"avg_complexity":7.714,"by_function":[{"complexity":21,"lineno":167,"name":"run_v1","nested":false},{"complexity":9,"lineno":100,"name":"_normalize_rows","nested":false},{"complexity":9,"lineno":130,"name":"_write_rows","nested":false},{"complexity":6,"lineno":70,"name":"_detect_format","nested":false},{"complexity":4,"lineno":60,"name":"_as_bool","nested":false},{"complexity":3,"lineno":84,"name":"_choose_callable","nested":false},{"complexity":2,"lineno":94,"name":"_filter_kwargs","nested":false}],"functions":7,"kind":"quality.complexity","max_complexity":21,"p95_complexity":21.0,"path":"v2/backend/core/spine/providers/utils_code_index.py","total_complexity":54}
{"avg_complexity":4.667,"by_function":[{"complexity":14,"lineno":123,"name":"run_v1","nested":false},{"complexity":4,"lineno":56,"name":"_as_bool","nested":false},{"complexity":4,"lineno":86,"name":"_summarize_sqlite","nested":false},{"complexity":3,"lineno":70,"name":"_choose_callable","nested":false},{"complexity":2,"lineno":79,"name":"_filter_kwargs","nested":false},{"complexity":1,"lineno":66,"name":"_ensure_parent","nested":false}],"functions":6,"kind":"quality.complexity","max_complexity":14,"p95_complexity":14.0,"path":"v2/backend/core/spine/providers/utils_db_init_sqlite_dev.py","total_complexity":28}
{"avg_complexity":5.5,"by_function":[{"complexity":16,"lineno":108,"name":"run_v1","nested":false},{"complexity":6,"lineno":63,"name":"_summarize_db","nested":false},{"complexity":4,"lineno":49,"name":"_as_bool","nested":false},{"complexity":3,"lineno":86,"name":"_sqlite_version","nested":false},{"complexity":3,"lineno":96,"name":"_validate_plugin_file","nested":false},{"complexity":1,"lineno":59,"name":"_ensure_parent","nested":false}],"functions":6,"kind":"quality.complexity","max_complexity":16,"p95_complexity":16.0,"path":"v2/backend/core/spine/providers/utils_db_load_sqlite_vec.py","total_complexity":33}
{"avg_complexity":6.0,"by_function":[{"complexity":19,"lineno":108,"name":"run_v1","nested":false},{"complexity":4,"lineno":48,"name":"_as_bool","nested":false},{"complexity":4,"lineno":76,"name":"_iter_files","nested":false},{"complexity":4,"lineno":85,"name":"_summarize_dirs","nested":false},{"complexity":3,"lineno":58,"name":"_project_root","nested":false},{"complexity":2,"lineno":70,"name":"_ensure_on_syspath","nested":false}],"functions":6,"kind":"quality.complexity","max_complexity":19,"p95_complexity":19.0,"path":"v2/backend/core/spine/providers/utils_download_models.py","total_complexity":36}
{"avg_complexity":5.6,"by_function":[{"complexity":14,"lineno":88,"name":"run_v1","nested":false},{"complexity":5,"lineno":78,"name":"_summarize_zip","nested":false},{"complexity":4,"lineno":51,"name":"_as_bool","nested":false},{"complexity":3,"lineno":61,"name":"_choose_callable","nested":false},{"complexity":2,"lineno":72,"name":"_filter_kwargs","nested":false}],"functions":5,"kind":"quality.complexity","max_complexity":14,"p95_complexity":14.0,"path":"v2/backend/core/spine/providers/utils_io_zip.py","total_complexity":28}
{"avg_complexity":4.941,"by_function":[{"complexity":32,"lineno":222,"name":"CapabilityRegistry.run","nested":false},{"complexity":20,"lineno":154,"name":"CapabilityRegistry._normalize_to_artifacts","nested":false},{"complexity":6,"lineno":69,"name":"_make_problem","nested":false},{"complexity":6,"lineno":130,"name":"CapabilityRegistry._resolve","nested":false},{"complexity":4,"lineno":121,"name":"CapabilityRegistry.bulk_register","nested":false},{"complexity":3,"lineno":106,"name":"CapabilityRegistry.register","nested":false},{"complexity":2,"lineno":45,"name":"_sha256","nested":false},{"complexity":2,"lineno":47,"name":"_jsonable","nested":true},{"complexity":1,"lineno":41,"name":"Artifact.to_dict","nested":false},{"complexity":1,"lineno":64,"name":"_make_result","nested":false},{"complexity":1,"lineno":100,"name":"CapabilityRegistry.__init__","nested":false},{"complexity":1,"lineno":146,"name":"CapabilityRegistry.has","nested":false},{"complexity":1,"lineno":149,"name":"CapabilityRegistry.names","nested":false},{"complexity":1,"lineno":242,"name":"CapabilityRegistry._TaskLike.__init__","nested":true},{"complexity":1,"lineno":256,"name":"CapabilityRegistry._call_with","nested":true},{"complexity":1,"lineno":341,"name":"run","nested":false},{"complexity":1,"lineno":345,"name":"run_capability","nested":false}],"functions":17,"kind":"quality.complexity","max_complexity":32,"p95_complexity":32.0,"path":"v2/backend/core/spine/registry.py","total_complexity":84}
{"avg_complexity":2.706,"by_function":[{"complexity":12,"lineno":104,"name":"_validate","nested":true},{"complexity":6,"lineno":137,"name":"_validate","nested":true},{"complexity":5,"lineno":74,"name":"ValidatorRegistry._run_all","nested":false},{"complexity":3,"lineno":65,"name":"ValidatorRegistry._collect","nested":false},{"complexity":3,"lineno":126,"name":"optional_fields","nested":false},{"complexity":2,"lineno":40,"name":"ValidatorRegistry.register_input","nested":false},{"complexity":2,"lineno":46,"name":"ValidatorRegistry.register_output","nested":false},{"complexity":2,"lineno":151,"name":"_v","nested":true},{"complexity":2,"lineno":158,"name":"_v","nested":true},{"complexity":2,"lineno":165,"name":"_v","nested":true},{"complexity":1,"lineno":34,"name":"ValidatorRegistry.__init__","nested":false},{"complexity":1,"lineno":54,"name":"ValidatorRegistry.validate_input","nested":false},{"complexity":1,"lineno":58,"name":"ValidatorRegistry.validate_output","nested":false},{"complexity":1,"lineno":92,"name":"require_fields","nested":false},{"complexity":1,"lineno":150,"name":"is_dict","nested":false},{"complexity":1,"lineno":157,"name":"is_list","nested":false},{"complexity":1,"lineno":164,"name":"is_instance","nested":false}],"functions":17,"kind":"quality.complexity","max_complexity":12,"p95_complexity":12.0,"path":"v2/backend/core/spine/validation.py","total_complexity":46}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/backend/core/tasks/__init__.py","total_complexity":0}
{"avg_complexity":4.5,"by_function":[{"complexity":6,"lineno":17,"name":"_unwrap_meta","nested":false},{"complexity":3,"lineno":38,"name":"GenericSanitizerAdapter.sanitize","nested":false}],"functions":2,"kind":"quality.complexity","max_complexity":6,"p95_complexity":6.0,"path":"v2/backend/core/tasks/adapter.py","total_complexity":9}
{"avg_complexity":1.0,"by_function":[{"complexity":1,"lineno":24,"name":"TaskAdapter.sanitize","nested":false},{"complexity":1,"lineno":32,"name":"TaskAdapter.apply","nested":false},{"complexity":1,"lineno":39,"name":"TaskAdapter.verify","nested":false},{"complexity":1,"lineno":47,"name":"TaskAdapter.build_items","nested":false},{"complexity":1,"lineno":51,"name":"TaskAdapter.parse_response","nested":false}],"functions":5,"kind":"quality.complexity","max_complexity":1,"p95_complexity":1.0,"path":"v2/backend/core/tasks/base.py","total_complexity":5}
{"avg_complexity":5.0,"by_function":[{"complexity":12,"lineno":48,"name":"verify_v1","nested":false},{"complexity":2,"lineno":37,"name":"_err","nested":false},{"complexity":1,"lineno":33,"name":"_ok","nested":false}],"functions":3,"kind":"quality.complexity","max_complexity":12,"p95_complexity":12.0,"path":"v2/backend/core/tasks/providers.py","total_complexity":15}
{"avg_complexity":5.0,"by_function":[{"complexity":5,"lineno":8,"name":"select_task_adapter","nested":false}],"functions":1,"kind":"quality.complexity","max_complexity":5,"p95_complexity":5.0,"path":"v2/backend/core/tasks/registry.py","total_complexity":5}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/backend/core/types/__init__.py","total_complexity":0}
{"avg_complexity":2.333,"by_function":[{"complexity":5,"lineno":77,"name":"AskSpec.validate","nested":false},{"complexity":1,"lineno":88,"name":"AskSpec.for_docstrings","nested":false},{"complexity":1,"lineno":99,"name":"AskSpec.for_qa","nested":false}],"functions":3,"kind":"quality.complexity","max_complexity":5,"p95_complexity":5.0,"path":"v2/backend/core/types/types.py","total_complexity":7}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/backend/core/utils/__init__.py","total_complexity":0}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/backend/core/utils/code_bundles/__init__.py","total_complexity":0}
{"avg_complexity":6.25,"by_function":[{"complexity":22,"lineno":286,"name":"scan","nested":false},{"complexity":14,"lineno":252,"name":"categorize","nested":false},{"complexity":13,"lineno":158,"name":"_jpeg_size","nested":false},{"complexity":9,"lineno":212,"name":"_svg_size","nested":false},{"complexity":7,"lineno":196,"name":"_webp_size","nested":false},{"complexity":6,"lineno":235,"name":"sniff_image_info","nested":false},{"complexity":5,"lineno":87,"name":"_sha256_file","nested":false},{"complexity":4,"lineno":116,"name":"_count_lines","nested":false},{"complexity":4,"lineno":139,"name":"_png_size","nested":false},{"complexity":3,"lineno":107,"name":"_safe_read_text","nested":false},{"complexity":3,"lineno":145,"name":"_gif_size","nested":false},{"complexity":3,"lineno":151,"name":"_bmp_size","nested":false},{"complexity":3,"lineno":217,"name":"_num","nested":true},{"complexity":2,"lineno":132,"name":"_read_head","nested":false},{"complexity":1,"lineno":100,"name":"_guess_mime","nested":false},{"complexity":1,"lineno":104,"name":"_is_text_ext","nested":false}],"functions":16,"kind":"quality.complexity","max_complexity":22,"p95_complexity":22.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/assets_index.py","total_complexity":100}
{"avg_complexity":4.5,"by_function":[{"complexity":10,"lineno":182,"name":"rewrite_manifest_paths","nested":false},{"complexity":8,"lineno":52,"name":"ManifestAppender.ensure_header","nested":false},{"complexity":7,"lineno":114,"name":"emit_standard_artifacts","nested":false},{"complexity":6,"lineno":146,"name":"emit_transport_parts","nested":false},{"complexity":5,"lineno":237,"name":"write_sha256sums_for_file","nested":false},{"complexity":4,"lineno":197,"name":"to_local","nested":true},{"complexity":4,"lineno":203,"name":"to_github","nested":true},{"complexity":3,"lineno":40,"name":"ManifestAppender._read_lines","nested":false},{"complexity":3,"lineno":102,"name":"_artifact_record","nested":false},{"complexity":2,"lineno":32,"name":"ManifestAppender.__init__","nested":false},{"complexity":1,"lineno":48,"name":"ManifestAppender._write_lines","nested":false},{"complexity":1,"lineno":89,"name":"ManifestAppender.append_record","nested":false}],"functions":12,"kind":"quality.complexity","max_complexity":10,"p95_complexity":10.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/bundle_io.py","total_complexity":54}
{"avg_complexity":2.333,"by_function":[{"complexity":8,"lineno":306,"name":"scan","nested":false},{"complexity":7,"lineno":256,"name":"analyze_file","nested":false},{"complexity":3,"lineno":116,"name":"_FuncComplexityVisitor.visit_ListComp","nested":false},{"complexity":3,"lineno":121,"name":"_FuncComplexityVisitor.visit_SetComp","nested":false},{"complexity":3,"lineno":126,"name":"_FuncComplexityVisitor.visit_DictComp","nested":false},{"complexity":3,"lineno":131,"name":"_FuncComplexityVisitor.visit_GeneratorExp","nested":false},{"complexity":3,"lineno":148,"name":"_FuncComplexityVisitor.generic_visit_no_defs","nested":false},{"complexity":3,"lineno":195,"name":"_FunctionCollector.visit_FunctionDef","nested":false},{"complexity":3,"lineno":208,"name":"_FunctionCollector.visit_AsyncFunctionDef","nested":false},{"complexity":3,"lineno":226,"name":"_safe_parse","nested":false},{"complexity":3,"lineno":236,"name":"_percentile","nested":false},{"complexity":2,"lineno":111,"name":"_FuncComplexityVisitor.visit_Try","nested":false},{"complexity":2,"lineno":137,"name":"_FuncComplexityVisitor.visit_Match","nested":false},{"complexity":2,"lineno":173,"name":"_FunctionCollector._qualname","nested":false},{"complexity":2,"lineno":186,"name":"_FunctionCollector.visit_ClassDef","nested":false},{"complexity":2,"lineno":248,"name":"_round3","nested":false},{"complexity":1,"lineno":75,"name":"_FuncComplexityVisitor.__init__","nested":false},{"complexity":1,"lineno":79,"name":"_FuncComplexityVisitor.visit_If","nested":false},{"complexity":1,"lineno":83,"name":"_FuncComplexityVisitor.visit_For","nested":false},{"complexity":1,"lineno":87,"name":"_FuncComplexityVisitor.visit_AsyncFor","nested":false},{"complexity":1,"lineno":91,"name":"_FuncComplexityVisitor.visit_While","nested":false},{"complexity":1,"lineno":95,"name":"_FuncComplexityVisitor.visit_IfExp","nested":false},{"complexity":1,"lineno":99,"name":"_FuncComplexityVisitor.visit_Assert","nested":false},{"complexity":1,"lineno":104,"name":"_FuncComplexityVisitor.visit_BoolOp","nested":false},{"complexity":1,"lineno":143,"name":"_FuncComplexityVisitor.visit_Lambda","nested":false},{"complexity":1,"lineno":168,"name":"_FunctionCollector.__init__","nested":false},{"complexity":1,"lineno":180,"name":"_FunctionCollector._compute_complexity","nested":false}],"functions":27,"kind":"quality.complexity","max_complexity":8,"p95_complexity":7.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/complexity.py","total_complexity":63}
{"avg_complexity":1.333,"by_function":[{"complexity":2,"lineno":149,"name":"build_graph_edge","nested":false},{"complexity":2,"lineno":164,"name":"build_quality_metric","nested":false},{"complexity":1,"lineno":96,"name":"build_manifest_header","nested":false},{"complexity":1,"lineno":125,"name":"build_python_module","nested":false},{"complexity":1,"lineno":191,"name":"build_artifact","nested":false},{"complexity":1,"lineno":206,"name":"build_bundle_summary","nested":false}],"functions":6,"kind":"quality.complexity","max_complexity":2,"p95_complexity":2.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/contracts.py","total_complexity":8}
{"avg_complexity":8.864,"by_function":[{"complexity":28,"lineno":531,"name":"analyze_file","nested":false},{"complexity":18,"lineno":147,"name":"_pyproject_dependencies","nested":false},{"complexity":13,"lineno":219,"name":"_setup_cfg_deps","nested":false},{"complexity":13,"lineno":747,"name":"scan","nested":false},{"complexity":12,"lineno":396,"name":"_cargo_toml_pkgs","nested":false},{"complexity":11,"lineno":115,"name":"_parse_requirements_text","nested":false},{"complexity":10,"lineno":199,"name":"_poetry_dep_table_to_pkgs","nested":false},{"complexity":10,"lineno":431,"name":"_gomod_pkgs","nested":false},{"complexity":9,"lineno":303,"name":"_package_lock_pkgs","nested":false},{"complexity":8,"lineno":178,"name":"_pep_dep_to_pkg","nested":false},{"complexity":8,"lineno":332,"name":"_yarn_lock_pkgs","nested":false},{"complexity":8,"lineno":359,"name":"_csproj_pkgs","nested":false},{"complexity":6,"lineno":307,"name":"walk_deps","nested":true},{"complexity":6,"lineno":464,"name":"_pom_pkgs","nested":false},{"complexity":6,"lineno":508,"name":"_split_image","nested":false},{"complexity":5,"lineno":227,"name":"flush","nested":true},{"complexity":5,"lineno":281,"name":"_package_json_pkgs","nested":false},{"complexity":5,"lineno":377,"name":"_packages_config_pkgs","nested":false},{"complexity":4,"lineno":297,"name":"_normalize_npm_version","nested":false},{"complexity":4,"lineno":491,"name":"_dockerfile_bases","nested":false},{"complexity":3,"lineno":92,"name":"_read_text_limited","nested":false},{"complexity":3,"lineno":481,"name":"_xml_text","nested":false}],"functions":22,"kind":"quality.complexity","max_complexity":28,"p95_complexity":18.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/deps_index.py","total_complexity":195}
{"avg_complexity":4.5,"by_function":[{"complexity":13,"lineno":87,"name":"analyze_file","nested":false},{"complexity":5,"lineno":156,"name":"scan","nested":false},{"complexity":3,"lineno":72,"name":"_safe_parse","nested":false},{"complexity":2,"lineno":60,"name":"Counts.coverage","nested":false},{"complexity":2,"lineno":65,"name":"_has_doc","nested":false},{"complexity":2,"lineno":208,"name":"cov","nested":true}],"functions":6,"kind":"quality.complexity","max_complexity":13,"p95_complexity":13.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/doc_coverage.py","total_complexity":27}
{"avg_complexity":7.444,"by_function":[{"complexity":16,"lineno":85,"name":"_parse_pyproject","nested":false},{"complexity":15,"lineno":238,"name":"scan","nested":false},{"complexity":12,"lineno":129,"name":"_parse_setup_cfg","nested":false},{"complexity":7,"lineno":168,"name":"_parse_package_json","nested":false},{"complexity":4,"lineno":201,"name":"_is_shell_script","nested":false},{"complexity":4,"lineno":207,"name":"_python_entrypoint_record","nested":false},{"complexity":4,"lineno":221,"name":"_shell_entrypoint_record","nested":false},{"complexity":3,"lineno":68,"name":"_dotted_module","nested":false},{"complexity":2,"lineno":61,"name":"_read_text_head","nested":false}],"functions":9,"kind":"quality.complexity","max_complexity":16,"p95_complexity":16.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/entrypoints.py","total_complexity":67}
{"avg_complexity":4.909,"by_function":[{"complexity":14,"lineno":308,"name":"_PyEnvVisitor.visit_Call","nested":false},{"complexity":11,"lineno":376,"name":"scan","nested":false},{"complexity":7,"lineno":337,"name":"_scan_python_env_usage","nested":false},{"complexity":6,"lineno":112,"name":"_strip_inline_comment","nested":false},{"complexity":6,"lineno":201,"name":"walk","nested":true},{"complexity":6,"lineno":222,"name":"walk","nested":true},{"complexity":6,"lineno":259,"name":"_PyEnvVisitor.visit_ImportFrom","nested":false},{"complexity":5,"lineno":160,"name":"_parse_env_vars","nested":false},{"complexity":5,"lineno":275,"name":"_PyEnvVisitor._is_os_environ_attr","nested":false},{"complexity":5,"lineno":286,"name":"_PyEnvVisitor._is_os_getenv_attr","nested":false},{"complexity":5,"lineno":294,"name":"_PyEnvVisitor.visit_Subscript","nested":false},{"complexity":4,"lineno":143,"name":"_is_env_like","nested":false},{"complexity":4,"lineno":152,"name":"_is_template_env","nested":false},{"complexity":4,"lineno":254,"name":"_PyEnvVisitor.visit_Import","nested":false},{"complexity":3,"lineno":102,"name":"_read_text_limited","nested":false},{"complexity":3,"lineno":186,"name":"_extract_placeholders_from_text","nested":false},{"complexity":3,"lineno":213,"name":"_extract_placeholders_from_toml","nested":false},{"complexity":3,"lineno":270,"name":"_PyEnvVisitor._const_str","nested":false},{"complexity":3,"lineno":364,"name":"_scan_js_env_usage_text","nested":false},{"complexity":2,"lineno":194,"name":"_extract_placeholders_from_json","nested":false},{"complexity":2,"lineno":282,"name":"_PyEnvVisitor._is_environ_name","nested":false},{"complexity":1,"lineno":247,"name":"_PyEnvVisitor.__init__","nested":false}],"functions":22,"kind":"quality.complexity","max_complexity":14,"p95_complexity":11.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/env_index.py","total_complexity":108}
{"avg_complexity":7.143,"by_function":[{"complexity":25,"lineno":84,"name":"_collect_repo_info","nested":false},{"complexity":7,"lineno":186,"name":"_collect_gitignores","nested":false},{"complexity":6,"lineno":213,"name":"_collect_submodules","nested":false},{"complexity":5,"lineno":251,"name":"scan","nested":false},{"complexity":3,"lineno":49,"name":"_run_git","nested":false},{"complexity":2,"lineno":70,"name":"_has_git","nested":false},{"complexity":2,"lineno":75,"name":"_is_repo","nested":false}],"functions":7,"kind":"quality.complexity","max_complexity":25,"p95_complexity":25.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/git_info.py","total_complexity":50}
{"avg_complexity":3.5,"by_function":[{"complexity":4,"lineno":22,"name":"_edge_key","nested":false},{"complexity":3,"lineno":30,"name":"coalesce_edges","nested":false}],"functions":2,"kind":"quality.complexity","max_complexity":4,"p95_complexity":4.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/graphs.py","total_complexity":7}
{"avg_complexity":5.917,"by_function":[{"complexity":36,"lineno":105,"name":"_HTMLScanner.handle_starttag","nested":false},{"complexity":7,"lineno":208,"name":"scan","nested":false},{"complexity":5,"lineno":54,"name":"_sha256_file","nested":false},{"complexity":5,"lineno":177,"name":"_HTMLScanner.handle_data","nested":false},{"complexity":5,"lineno":193,"name":"_analyze_html_text","nested":false},{"complexity":3,"lineno":45,"name":"_read_text_limited","nested":false},{"complexity":2,"lineno":101,"name":"_HTMLScanner.handle_decl","nested":false},{"complexity":2,"lineno":173,"name":"_HTMLScanner.handle_endtag","nested":false},{"complexity":2,"lineno":185,"name":"_HTMLScanner._add_hint","nested":false},{"complexity":2,"lineno":259,"name":"_top","nested":true},{"complexity":1,"lineno":42,"name":"_is_html_path","nested":false},{"complexity":1,"lineno":94,"name":"_HTMLScanner.__init__","nested":false}],"functions":12,"kind":"quality.complexity","max_complexity":36,"p95_complexity":36.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/html_index.py","total_complexity":71}
{"avg_complexity":9.111,"by_function":[{"complexity":29,"lineno":82,"name":"_strip_js_comments","nested":false},{"complexity":15,"lineno":371,"name":"scan","nested":false},{"complexity":12,"lineno":269,"name":"_framework_hints","nested":false},{"complexity":7,"lineno":244,"name":"_collect_named_from_list","nested":false},{"complexity":7,"lineno":294,"name":"analyze_file","nested":false},{"complexity":4,"lineno":240,"name":"_is_package","nested":false},{"complexity":3,"lineno":67,"name":"_read_text_limited","nested":false},{"complexity":3,"lineno":191,"name":"_line_stats","nested":false},{"complexity":2,"lineno":419,"name":"_avg","nested":true}],"functions":9,"kind":"quality.complexity","max_complexity":29,"p95_complexity":29.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/js_ts_index.py","total_complexity":82}
{"avg_complexity":5.286,"by_function":[{"complexity":10,"lineno":181,"name":"scan","nested":false},{"complexity":8,"lineno":144,"name":"_scan_license_files","nested":false},{"complexity":5,"lineno":105,"name":"_scan_spdx_headers","nested":false},{"complexity":5,"lineno":133,"name":"_guess_id_from_text","nested":false},{"complexity":4,"lineno":77,"name":"_sha256_file","nested":false},{"complexity":3,"lineno":87,"name":"_read_text_limited","nested":false},{"complexity":2,"lineno":96,"name":"_is_text_like","nested":false}],"functions":7,"kind":"quality.complexity","max_complexity":10,"p95_complexity":10.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/license_scan.py","total_complexity":37}
{"avg_complexity":2.333,"by_function":[{"complexity":7,"lineno":45,"name":"Normalizer.apply","nested":false},{"complexity":3,"lineno":77,"name":"Normalizer._from_text","nested":false},{"complexity":1,"lineno":40,"name":"Normalizer.__init__","nested":false},{"complexity":1,"lineno":70,"name":"Normalizer._should_skip","nested":false},{"complexity":1,"lineno":74,"name":"Normalizer._to_text","nested":false},{"complexity":1,"lineno":88,"name":"apply_normalization","nested":false}],"functions":6,"kind":"quality.complexity","max_complexity":7,"p95_complexity":7.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/normalize.py","total_complexity":14}
{"avg_complexity":5.941,"by_function":[{"complexity":18,"lineno":148,"name":"PromptEmbedder.build","nested":false},{"complexity":18,"lineno":401,"name":"Packager._publish_code_to_github","nested":false},{"complexity":17,"lineno":223,"name":"Packager.run","nested":false},{"complexity":15,"lineno":375,"name":"Packager._roles_map","nested":false},{"complexity":8,"lineno":68,"name":"SourceIngestor.ingest","nested":false},{"complexity":7,"lineno":391,"name":"Packager._scan_entrypoints","nested":false},{"complexity":3,"lineno":419,"name":"Packager.is_binary_path","nested":true},{"complexity":3,"lineno":461,"name":"Packager._github_get_sha","nested":false},{"complexity":3,"lineno":483,"name":"Packager._github_put_file","nested":false},{"complexity":2,"lineno":133,"name":"NormalizerAdapter.normalize","nested":false},{"complexity":1,"lineno":51,"name":"_log","nested":false},{"complexity":1,"lineno":65,"name":"SourceIngestor.__init__","nested":false},{"complexity":1,"lineno":111,"name":"FileDiscovery.__init__","nested":false},{"complexity":1,"lineno":114,"name":"FileDiscovery.discover","nested":false},{"complexity":1,"lineno":130,"name":"NormalizerAdapter.__init__","nested":false},{"complexity":1,"lineno":145,"name":"PromptEmbedder.__init__","nested":false},{"complexity":1,"lineno":214,"name":"Packager.__init__","nested":false}],"functions":17,"kind":"quality.complexity","max_complexity":18,"p95_complexity":18.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/orchestrate.py","total_complexity":101}
{"avg_complexity":7.714,"by_function":[{"complexity":14,"lineno":139,"name":"_find_codeowners_files","nested":false},{"complexity":11,"lineno":246,"name":"scan","nested":false},{"complexity":10,"lineno":190,"name":"_matches","nested":false},{"complexity":8,"lineno":103,"name":"_parse_codeowners_file","nested":false},{"complexity":5,"lineno":80,"name":"_strip_inline_comment","nested":false},{"complexity":5,"lineno":227,"name":"_summarize_unassigned","nested":false},{"complexity":1,"lineno":181,"name":"_norm_pattern","nested":false}],"functions":7,"kind":"quality.complexity","max_complexity":14,"p95_complexity":14.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/owners_index.py","total_complexity":54}
{"avg_complexity":2.4,"by_function":[{"complexity":4,"lineno":72,"name":"PatchPack.build_rag_chunks","nested":false},{"complexity":3,"lineno":140,"name":"PatchPack._hash_to_vec","nested":false},{"complexity":2,"lineno":52,"name":"PatchPack.empty_patch_pack","nested":false},{"complexity":2,"lineno":120,"name":"PatchPack.build_embedding_index","nested":false},{"complexity":1,"lineno":23,"name":"_Chunk.as_dict","nested":false}],"functions":5,"kind":"quality.complexity","max_complexity":4,"p95_complexity":4.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/patch_pack.py","total_complexity":12}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/backend/core/utils/code_bundles/code_bundles/python_api.py","total_complexity":0}
{"avg_complexity":5.375,"by_function":[{"complexity":15,"lineno":56,"name":"_collect_defs_and_imports","nested":false},{"complexity":11,"lineno":160,"name":"_normalize_file_list","nested":false},{"complexity":4,"lineno":32,"name":"_safe_read_text","nested":false},{"complexity":4,"lineno":42,"name":"_module_name_from_rel","nested":false},{"complexity":4,"lineno":198,"name":"build_ldt","nested":false},{"complexity":3,"lineno":112,"name":"index_python_file","nested":false},{"complexity":1,"lineno":99,"name":"_edge_record","nested":false},{"complexity":1,"lineno":174,"name":"to_rel","nested":true}],"functions":8,"kind":"quality.complexity","max_complexity":15,"p95_complexity":15.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/python_index.py","total_complexity":43}
{"avg_complexity":6.5,"by_function":[{"complexity":11,"lineno":84,"name":"quality_for_python","nested":false},{"complexity":8,"lineno":70,"name":"_function_spans","nested":false},{"complexity":4,"lineno":27,"name":"_text_loc_sloc","nested":false},{"complexity":3,"lineno":59,"name":"_cyclomatic_complexity","nested":false}],"functions":4,"kind":"quality.complexity","max_complexity":11,"p95_complexity":11.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/quality.py","total_complexity":26}
{"avg_complexity":7.455,"by_function":[{"complexity":42,"lineno":955,"name":"main","nested":false},{"complexity":17,"lineno":616,"name":"_publish_to_github","nested":false},{"complexity":15,"lineno":805,"name":"augment_manifest","nested":false},{"complexity":14,"lineno":387,"name":"_merge_publish","nested":false},{"complexity":12,"lineno":109,"name":"discover_repo_paths","nested":false},{"complexity":11,"lineno":700,"name":"_prune_remote_code_delta","nested":false},{"complexity":11,"lineno":743,"name":"_prune_remote_artifacts_delta","nested":false},{"complexity":10,"lineno":272,"name":"build_cfg","nested":false},{"complexity":10,"lineno":424,"name":"_read_code_bundle_params","nested":false},{"complexity":9,"lineno":218,"name":"_gh_walk_files","nested":false},{"complexity":9,"lineno":237,"name":"github_clean_remote_repo","nested":false},{"complexity":8,"lineno":544,"name":"_maybe_chunk_manifest_and_update","nested":false},{"complexity":8,"lineno":794,"name":"_map_record_paths_inplace","nested":false},{"complexity":7,"lineno":149,"name":"_clear_dir_contents","nested":false},{"complexity":6,"lineno":82,"name":"_match_any","nested":false},{"complexity":6,"lineno":94,"name":"_seg_excluded","nested":false},{"complexity":6,"lineno":460,"name":"_write_parts_from_jsonl","nested":false},{"complexity":6,"lineno":683,"name":"_is_managed_path","nested":false},{"complexity":5,"lineno":362,"name":"_load_publish_overrides","nested":false},{"complexity":5,"lineno":882,"name":"run_scanner","nested":true},{"complexity":4,"lineno":203,"name":"_gh_list_dir","nested":false},{"complexity":4,"lineno":783,"name":"_tool_versions","nested":false},{"complexity":3,"lineno":164,"name":"copy_snapshot","nested":false},{"complexity":3,"lineno":259,"name":"_print_full_raw_links","nested":false},{"complexity":3,"lineno":452,"name":"_should_chunk","nested":false},{"complexity":3,"lineno":831,"name":"map_path","nested":true},{"complexity":2,"lineno":486,"name":"make_name","nested":true},{"complexity":2,"lineno":494,"name":"flush","nested":true},{"complexity":1,"lineno":180,"name":"_gh_headers","nested":false},{"complexity":1,"lineno":189,"name":"_gh_json","nested":false},{"complexity":1,"lineno":195,"name":"_gh_delete_file","nested":false},{"complexity":1,"lineno":525,"name":"_append_parts_artifacts_into_manifest","nested":false},{"complexity":1,"lineno":1069,"name":"_rewrite_to_mode","nested":true}],"functions":33,"kind":"quality.complexity","max_complexity":42,"p95_complexity":17.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/run_pack.py","total_complexity":246}
{"avg_complexity":4.6,"by_function":[{"complexity":17,"lineno":198,"name":"_gather_findings","nested":false},{"complexity":7,"lineno":267,"name":"scan","nested":false},{"complexity":5,"lineno":249,"name":"_scan_file","nested":false},{"complexity":4,"lineno":80,"name":"_is_probably_binary_bytes","nested":false},{"complexity":3,"lineno":91,"name":"_should_skip_file","nested":false},{"complexity":3,"lineno":103,"name":"_read_text_limited","nested":false},{"complexity":3,"lineno":119,"name":"_redact","nested":false},{"complexity":2,"lineno":112,"name":"_entropy_shannon","nested":false},{"complexity":1,"lineno":126,"name":"_line_col_from_offset","nested":false},{"complexity":1,"lineno":133,"name":"_line_has_ignore_marker","nested":false}],"functions":10,"kind":"quality.complexity","max_complexity":17,"p95_complexity":17.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/secrets_scan.py","total_complexity":46}
{"avg_complexity":4.667,"by_function":[{"complexity":11,"lineno":63,"name":"inject_prompts_v1","nested":false},{"complexity":2,"lineno":45,"name":"_err","nested":false},{"complexity":1,"lineno":34,"name":"_ok","nested":false}],"functions":3,"kind":"quality.complexity","max_complexity":11,"p95_complexity":11.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/spine_targets.py","total_complexity":14}
{"avg_complexity":9.923,"by_function":[{"complexity":37,"lineno":88,"name":"_strip_sql_comments","nested":false},{"complexity":22,"lineno":345,"name":"_classify_stmt","nested":false},{"complexity":20,"lineno":195,"name":"_split_sql_statements","nested":false},{"complexity":11,"lineno":564,"name":"scan","nested":false},{"complexity":8,"lineno":299,"name":"_clean_ident","nested":false},{"complexity":8,"lineno":312,"name":"_collect_tables_from_stmt","nested":false},{"complexity":6,"lineno":437,"name":"_danger_flags","nested":false},{"complexity":4,"lineno":382,"name":"_dialect_hints","nested":false},{"complexity":4,"lineno":412,"name":"_functions_in_stmt","nested":false},{"complexity":4,"lineno":451,"name":"analyze_file","nested":false},{"complexity":3,"lineno":73,"name":"_read_text_limited","nested":false},{"complexity":1,"lineno":392,"name":"_params_in_stmt","nested":false},{"complexity":1,"lineno":403,"name":"_constraints_in_stmt","nested":false}],"functions":13,"kind":"quality.complexity","max_complexity":37,"p95_complexity":37.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/sql_index.py","total_complexity":129}
{"avg_complexity":1.0,"by_function":[{"complexity":1,"lineno":91,"name":"Limits.__getattr__","nested":false},{"complexity":1,"lineno":115,"name":"SandboxConstraints.__getattr__","nested":false},{"complexity":1,"lineno":134,"name":"Policy.sandbox_constraints","nested":false},{"complexity":1,"lineno":138,"name":"Policy.secrets_policy","nested":false},{"complexity":1,"lineno":142,"name":"Policy.phases","nested":false}],"functions":5,"kind":"quality.complexity","max_complexity":1,"p95_complexity":1.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/src/packager/core/config.py","total_complexity":5}
{"avg_complexity":3.5,"by_function":[{"complexity":12,"lineno":65,"name":"DiscoveryEngine.discover","nested":false},{"complexity":3,"lineno":52,"name":"DiscoveryEngine._seg_excluded","nested":false},{"complexity":2,"lineno":14,"name":"_cf","nested":false},{"complexity":2,"lineno":24,"name":"_match_glob","nested":false},{"complexity":1,"lineno":19,"name":"_norm_glob","nested":false},{"complexity":1,"lineno":49,"name":"DiscoveryEngine.__init__","nested":false}],"functions":6,"kind":"quality.complexity","max_complexity":12,"p95_complexity":12.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/src/packager/core/discovery.py","total_complexity":21}
{"avg_complexity":3.5,"by_function":[{"complexity":5,"lineno":41,"name":"PackagerError.__str__","nested":false},{"complexity":2,"lineno":27,"name":"PackagerError.__init__","nested":false}],"functions":2,"kind":"quality.complexity","max_complexity":5,"p95_complexity":5.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/src/packager/core/errors.py","total_complexity":7}
{"avg_complexity":2.0,"by_function":[{"complexity":3,"lineno":12,"name":"Integrity.sha256_file","nested":false},{"complexity":1,"lineno":8,"name":"Integrity.sha256_bytes","nested":false}],"functions":2,"kind":"quality.complexity","max_complexity":3,"p95_complexity":3.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/src/packager/core/integrity.py","total_complexity":4}
{"avg_complexity":2.176,"by_function":[{"complexity":9,"lineno":139,"name":"Packager._plugin_artifacts","nested":false},{"complexity":4,"lineno":76,"name":"FileDiscovery._effective_globs","nested":false},{"complexity":4,"lineno":121,"name":"Packager._collect_sources","nested":false},{"complexity":3,"lineno":171,"name":"Packager._build_records","nested":false},{"complexity":3,"lineno":195,"name":"Packager._maybe_normalize","nested":false},{"complexity":2,"lineno":86,"name":"FileDiscovery.discover","nested":false},{"complexity":2,"lineno":113,"name":"Packager._load_plugins","nested":false},{"complexity":1,"lineno":34,"name":"_apply_normalization","nested":false},{"complexity":1,"lineno":38,"name":"_log","nested":false},{"complexity":1,"lineno":42,"name":"_read_bytes","nested":false},{"complexity":1,"lineno":46,"name":"_json_bytes","nested":false},{"complexity":1,"lineno":50,"name":"_as_posix_rel","nested":false},{"complexity":1,"lineno":54,"name":"_emitted","nested":false},{"complexity":1,"lineno":69,"name":"FileDiscovery.__init__","nested":false},{"complexity":1,"lineno":73,"name":"FileDiscovery._effective_case_insensitive","nested":false},{"complexity":1,"lineno":109,"name":"Packager.__init__","nested":false},{"complexity":1,"lineno":203,"name":"Packager.run","nested":false}],"functions":17,"kind":"quality.complexity","max_complexity":9,"p95_complexity":9.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/src/packager/core/orchestrator.py","total_complexity":37}
{"avg_complexity":1.667,"by_function":[{"complexity":3,"lineno":11,"name":"PathOps.emitted_path","nested":false},{"complexity":1,"lineno":7,"name":"PathOps.to_posix_rel","nested":false},{"complexity":1,"lineno":18,"name":"PathOps.ensure_dir","nested":false}],"functions":3,"kind":"quality.complexity","max_complexity":3,"p95_complexity":3.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/src/packager/core/paths.py","total_complexity":5}
{"avg_complexity":7.714,"by_function":[{"complexity":19,"lineno":82,"name":"GuideWriter.build","nested":false},{"complexity":14,"lineno":129,"name":"GuideWriter.write","nested":false},{"complexity":8,"lineno":17,"name":"GuideWriter._constraints","nested":false},{"complexity":6,"lineno":41,"name":"GuideWriter.add_num","nested":true},{"complexity":4,"lineno":61,"name":"GuideWriter._limits","nested":false},{"complexity":2,"lineno":30,"name":"GuideWriter._get","nested":true},{"complexity":1,"lineno":12,"name":"GuideWriter.__init__","nested":false}],"functions":7,"kind":"quality.complexity","max_complexity":19,"p95_complexity":19.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/src/packager/io/guide_writer.py","total_complexity":54}
{"avg_complexity":1.333,"by_function":[{"complexity":2,"lineno":17,"name":"BundleWriter.write","nested":false},{"complexity":1,"lineno":14,"name":"BundleWriter.__init__","nested":false},{"complexity":1,"lineno":25,"name":"BundleWriter.write_sums","nested":false}],"functions":3,"kind":"quality.complexity","max_complexity":2,"p95_complexity":2.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/src/packager/io/manifest_writer.py","total_complexity":4}
{"avg_complexity":2.222,"by_function":[{"complexity":5,"lineno":35,"name":"_get_sha","nested":false},{"complexity":4,"lineno":96,"name":"GitHubPublisher.publish_many_files","nested":false},{"complexity":3,"lineno":61,"name":"_join_paths","nested":false},{"complexity":2,"lineno":51,"name":"_put_file","nested":false},{"complexity":2,"lineno":74,"name":"GitHubPublisher.__init__","nested":false},{"complexity":1,"lineno":21,"name":"_headers","nested":false},{"complexity":1,"lineno":30,"name":"_api_url","nested":false},{"complexity":1,"lineno":80,"name":"GitHubPublisher.publish_bytes","nested":false},{"complexity":1,"lineno":89,"name":"GitHubPublisher.publish_file","nested":false}],"functions":9,"kind":"quality.complexity","max_complexity":5,"p95_complexity":5.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/src/packager/io/publisher.py","total_complexity":20}
{"avg_complexity":5.667,"by_function":[{"complexity":25,"lineno":50,"name":"RunSpecWriter.build_snapshot","nested":false},{"complexity":4,"lineno":16,"name":"_serialize_transport","nested":false},{"complexity":2,"lineno":12,"name":"_as_path","nested":false},{"complexity":1,"lineno":8,"name":"_log","nested":false},{"complexity":1,"lineno":40,"name":"RunSpecWriter.__init__","nested":false},{"complexity":1,"lineno":43,"name":"RunSpecWriter.write","nested":false}],"functions":6,"kind":"quality.complexity","max_complexity":25,"p95_complexity":25.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/src/packager/io/runspec_writer.py","total_complexity":34}
{"avg_complexity":5.667,"by_function":[{"complexity":9,"lineno":50,"name":"_module_for_language","nested":false},{"complexity":8,"lineno":112,"name":"discover_language_plugins","nested":false},{"complexity":6,"lineno":33,"name":"_find_languages_dir","nested":false},{"complexity":5,"lineno":81,"name":"_wrap_legacy","nested":false},{"complexity":5,"lineno":100,"name":"_load_from_module","nested":false},{"complexity":1,"lineno":93,"name":"analyze","nested":true}],"functions":6,"kind":"quality.complexity","max_complexity":9,"p95_complexity":9.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/src/packager/languages/base.py","total_complexity":34}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/backend/core/utils/code_bundles/code_bundles/src/packager/languages/cpp.py","total_complexity":0}
{"avg_complexity":5.0,"by_function":[{"complexity":5,"lineno":28,"name":"_CsPlugin.analyze","nested":false}],"functions":1,"kind":"quality.complexity","max_complexity":5,"p95_complexity":5.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/src/packager/languages/csharp/plugin.py","total_complexity":5}
{"avg_complexity":4.0,"by_function":[{"complexity":7,"lineno":25,"name":"_Collector.handle_starttag","nested":false},{"complexity":4,"lineno":45,"name":"_HtmlPlugin.analyze","nested":false},{"complexity":1,"lineno":19,"name":"_Collector.__init__","nested":false}],"functions":3,"kind":"quality.complexity","max_complexity":7,"p95_complexity":7.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/src/packager/languages/html/plugin.py","total_complexity":12}
{"avg_complexity":5.0,"by_function":[{"complexity":5,"lineno":43,"name":"_JsPlugin.analyze","nested":false}],"functions":1,"kind":"quality.complexity","max_complexity":5,"p95_complexity":5.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/src/packager/languages/javascript/plugin.py","total_complexity":5}
{"avg_complexity":5.0,"by_function":[{"complexity":5,"lineno":34,"name":"_CppPlugin.analyze","nested":false}],"functions":1,"kind":"quality.complexity","max_complexity":5,"p95_complexity":5.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/src/packager/languages/plugin.py","total_complexity":5}
{"avg_complexity":7.0,"by_function":[{"complexity":12,"lineno":60,"name":"analyze","nested":false},{"complexity":6,"lineno":24,"name":"_as_file_list","nested":false},{"complexity":3,"lineno":48,"name":"_resolve_rel","nested":false}],"functions":3,"kind":"quality.complexity","max_complexity":12,"p95_complexity":12.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/src/packager/languages/python/plugin.py","total_complexity":21}
{"avg_complexity":5.5,"by_function":[{"complexity":12,"lineno":34,"name":"_dialect_hint","nested":false},{"complexity":5,"lineno":59,"name":"_SqlPlugin.analyze","nested":false},{"complexity":3,"lineno":48,"name":"_extract_refs","nested":false},{"complexity":2,"lineno":43,"name":"_split_statements","nested":false}],"functions":4,"kind":"quality.complexity","max_complexity":12,"p95_complexity":12.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/src/packager/languages/sql/plugin.py","total_complexity":22}
{"avg_complexity":5.0,"by_function":[{"complexity":5,"lineno":44,"name":"_TsPlugin.analyze","nested":false}],"functions":1,"kind":"quality.complexity","max_complexity":5,"p95_complexity":5.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/src/packager/languages/typescript/plugin.py","total_complexity":5}
{"avg_complexity":1.8,"by_function":[{"complexity":3,"lineno":20,"name":"SuperbundlePack.write_artifacts_bundle","nested":false},{"complexity":3,"lineno":47,"name":"SuperbundlePack.write_sha256sums","nested":false},{"complexity":1,"lineno":66,"name":"SuperbundlePack._ensure_parent","nested":false},{"complexity":1,"lineno":72,"name":"write_artifacts_bundle","nested":false},{"complexity":1,"lineno":75,"name":"write_sha256sums","nested":false}],"functions":5,"kind":"quality.complexity","max_complexity":3,"p95_complexity":3.0,"path":"v2/backend/core/utils/code_bundles/code_bundles/superbundle_pack.py","total_complexity":9}
{"avg_complexity":3.0,"by_function":[{"complexity":9,"lineno":48,"name":"BundleIO.read_folder","nested":false},{"complexity":1,"lineno":40,"name":"BundleIO.normalize_path","nested":false},{"complexity":1,"lineno":110,"name":"_normalize_path","nested":false},{"complexity":1,"lineno":114,"name":"read_folder","nested":false}],"functions":4,"kind":"quality.complexity","max_complexity":9,"p95_complexity":9.0,"path":"v2/backend/core/utils/code_bundles/code_bundles_OLD/bundle_io.py","total_complexity":12}
{"avg_complexity":1.5,"by_function":[{"complexity":4,"lineno":56,"name":"Contracts.build_run_manifest","nested":false},{"complexity":1,"lineno":23,"name":"Contracts.get_schemas","nested":false},{"complexity":1,"lineno":89,"name":"Contracts.build_provenance","nested":false},{"complexity":1,"lineno":96,"name":"get_schemas","nested":false},{"complexity":1,"lineno":99,"name":"build_run_manifest","nested":false},{"complexity":1,"lineno":102,"name":"build_provenance","nested":false}],"functions":6,"kind":"quality.complexity","max_complexity":4,"p95_complexity":4.0,"path":"v2/backend/core/utils/code_bundles/code_bundles_OLD/contracts.py","total_complexity":9}
{"avg_complexity":3.357,"by_function":[{"complexity":16,"lineno":87,"name":"Graphs.build_import_graph","nested":false},{"complexity":12,"lineno":126,"name":"Graphs.build_call_graph","nested":false},{"complexity":5,"lineno":40,"name":"Graphs.build_symbol_table","nested":false},{"complexity":3,"lineno":77,"name":"Graphs.V.visit_Assign","nested":true},{"complexity":2,"lineno":167,"name":"Graphs._safe_text","nested":false},{"complexity":1,"lineno":19,"name":"_Sym.as_dict","nested":false},{"complexity":1,"lineno":53,"name":"Graphs.add_sym","nested":true},{"complexity":1,"lineno":59,"name":"Graphs.V.visit_FunctionDef","nested":true},{"complexity":1,"lineno":65,"name":"Graphs.V.visit_AsyncFunctionDef","nested":true},{"complexity":1,"lineno":71,"name":"Graphs.V.visit_ClassDef","nested":true},{"complexity":1,"lineno":163,"name":"Graphs._is_python","nested":false},{"complexity":1,"lineno":178,"name":"build_symbol_table","nested":false},{"complexity":1,"lineno":181,"name":"build_import_graph","nested":false},{"complexity":1,"lineno":184,"name":"build_call_graph","nested":false}],"functions":14,"kind":"quality.complexity","max_complexity":16,"p95_complexity":16.0,"path":"v2/backend/core/utils/code_bundles/code_bundles_OLD/graphs.py","total_complexity":47}
{"avg_complexity":2.333,"by_function":[{"complexity":7,"lineno":45,"name":"Normalizer.apply","nested":false},{"complexity":3,"lineno":77,"name":"Normalizer._from_text","nested":false},{"complexity":1,"lineno":40,"name":"Normalizer.__init__","nested":false},{"complexity":1,"lineno":70,"name":"Normalizer._should_skip","nested":false},{"complexity":1,"lineno":74,"name":"Normalizer._to_text","nested":false},{"complexity":1,"lineno":88,"name":"apply_normalization","nested":false}],"functions":6,"kind":"quality.complexity","max_complexity":7,"p95_complexity":7.0,"path":"v2/backend/core/utils/code_bundles/code_bundles_OLD/normalize.py","total_complexity":14}
{"avg_complexity":5.941,"by_function":[{"complexity":18,"lineno":148,"name":"PromptEmbedder.build","nested":false},{"complexity":18,"lineno":401,"name":"Packager._publish_code_to_github","nested":false},{"complexity":17,"lineno":223,"name":"Packager.run","nested":false},{"complexity":15,"lineno":375,"name":"Packager._roles_map","nested":false},{"complexity":8,"lineno":68,"name":"SourceIngestor.ingest","nested":false},{"complexity":7,"lineno":391,"name":"Packager._scan_entrypoints","nested":false},{"complexity":3,"lineno":419,"name":"Packager.is_binary_path","nested":true},{"complexity":3,"lineno":461,"name":"Packager._github_get_sha","nested":false},{"complexity":3,"lineno":483,"name":"Packager._github_put_file","nested":false},{"complexity":2,"lineno":133,"name":"NormalizerAdapter.normalize","nested":false},{"complexity":1,"lineno":51,"name":"_log","nested":false},{"complexity":1,"lineno":65,"name":"SourceIngestor.__init__","nested":false},{"complexity":1,"lineno":111,"name":"FileDiscovery.__init__","nested":false},{"complexity":1,"lineno":114,"name":"FileDiscovery.discover","nested":false},{"complexity":1,"lineno":130,"name":"NormalizerAdapter.__init__","nested":false},{"complexity":1,"lineno":145,"name":"PromptEmbedder.__init__","nested":false},{"complexity":1,"lineno":214,"name":"Packager.__init__","nested":false}],"functions":17,"kind":"quality.complexity","max_complexity":18,"p95_complexity":18.0,"path":"v2/backend/core/utils/code_bundles/code_bundles_OLD/orchestrate.py","total_complexity":101}
{"avg_complexity":2.4,"by_function":[{"complexity":4,"lineno":72,"name":"PatchPack.build_rag_chunks","nested":false},{"complexity":3,"lineno":140,"name":"PatchPack._hash_to_vec","nested":false},{"complexity":2,"lineno":52,"name":"PatchPack.empty_patch_pack","nested":false},{"complexity":2,"lineno":120,"name":"PatchPack.build_embedding_index","nested":false},{"complexity":1,"lineno":23,"name":"_Chunk.as_dict","nested":false}],"functions":5,"kind":"quality.complexity","max_complexity":4,"p95_complexity":4.0,"path":"v2/backend/core/utils/code_bundles/code_bundles_OLD/patch_pack.py","total_complexity":12}
{"avg_complexity":3.417,"by_function":[{"complexity":12,"lineno":35,"name":"_BlockVisitor.generic_visit","nested":false},{"complexity":6,"lineno":149,"name":"PythonIndexer.dump_typed_ast","nested":false},{"complexity":6,"lineno":176,"name":"PythonIndexer.dump_tokens","nested":false},{"complexity":5,"lineno":134,"name":"PythonIndexer.build_block_index","nested":false},{"complexity":4,"lineno":107,"name":"PythonIndexer.build_ldt","nested":false},{"complexity":2,"lineno":209,"name":"PythonIndexer._safe_text","nested":false},{"complexity":1,"lineno":30,"name":"_BlockVisitor.__init__","nested":false},{"complexity":1,"lineno":205,"name":"PythonIndexer._is_python","nested":false},{"complexity":1,"lineno":219,"name":"build_ldt","nested":false},{"complexity":1,"lineno":222,"name":"build_block_index","nested":false},{"complexity":1,"lineno":225,"name":"dump_typed_ast","nested":false},{"complexity":1,"lineno":228,"name":"dump_tokens","nested":false}],"functions":12,"kind":"quality.complexity","max_complexity":12,"p95_complexity":12.0,"path":"v2/backend/core/utils/code_bundles/code_bundles_OLD/python_index.py","total_complexity":41}
{"avg_complexity":9.188,"by_function":[{"complexity":43,"lineno":96,"name":"QualityParser.parse_lint","nested":false},{"complexity":22,"lineno":336,"name":"QualityParser._iter_json_objects","nested":false},{"complexity":17,"lineno":212,"name":"QualityParser.parse_coverage","nested":false},{"complexity":12,"lineno":258,"name":"QualityParser.parse_traces","nested":false},{"complexity":10,"lineno":393,"name":"QualityParser._guess_lint_tool","nested":false},{"complexity":8,"lineno":188,"name":"QualityParser.parse_type_map","nested":false},{"complexity":6,"lineno":413,"name":"QualityParser._map_severity","nested":false},{"complexity":5,"lineno":470,"name":"_weighted_lines_pct","nested":false},{"complexity":4,"lineno":295,"name":"QualityParser.snapshot_config","nested":false},{"complexity":4,"lineno":405,"name":"QualityParser._guess_type_tool","nested":false},{"complexity":4,"lineno":446,"name":"_as_str","nested":false},{"complexity":4,"lineno":455,"name":"_as_int_list","nested":false},{"complexity":3,"lineno":430,"name":"_as_int","nested":false},{"complexity":3,"lineno":438,"name":"_as_float","nested":false},{"complexity":1,"lineno":72,"name":"QualityReport.to_dict","nested":false},{"complexity":1,"lineno":462,"name":"_coverage_session_to_dict","nested":false}],"functions":16,"kind":"quality.complexity","max_complexity":43,"p95_complexity":43.0,"path":"v2/backend/core/utils/code_bundles/code_bundles_OLD/quality.py","total_complexity":147}
{"avg_complexity":7.0,"by_function":[{"complexity":38,"lineno":310,"name":"main","nested":false},{"complexity":9,"lineno":64,"name":"build_cfg","nested":false},{"complexity":8,"lineno":173,"name":"_is_excluded","nested":false},{"complexity":8,"lineno":193,"name":"gather_emitted_paths","nested":false},{"complexity":8,"lineno":267,"name":"_gh_walk_files","nested":false},{"complexity":8,"lineno":282,"name":"github_clean_remote_repo","nested":false},{"complexity":4,"lineno":37,"name":"_bool","nested":false},{"complexity":4,"lineno":253,"name":"_gh_list_dir","nested":false},{"complexity":3,"lineno":47,"name":"_load_secrets","nested":false},{"complexity":3,"lineno":218,"name":"print_github_raw_urls","nested":false},{"complexity":2,"lineno":56,"name":"_under_allowed_mirror","nested":false},{"complexity":1,"lineno":233,"name":"_gh_headers","nested":false},{"complexity":1,"lineno":241,"name":"_gh_json","nested":false},{"complexity":1,"lineno":246,"name":"_gh_delete_file","nested":false}],"functions":14,"kind":"quality.complexity","max_complexity":38,"p95_complexity":38.0,"path":"v2/backend/core/utils/code_bundles/code_bundles_OLD/run_pack.py","total_complexity":98}
{"avg_complexity":1.0,"by_function":[{"complexity":1,"lineno":76,"name":"Limits.__getattr__","nested":false},{"complexity":1,"lineno":98,"name":"SandboxConstraints.__getattr__","nested":false},{"complexity":1,"lineno":117,"name":"Policy.sandbox_constraints","nested":false},{"complexity":1,"lineno":121,"name":"Policy.secrets_policy","nested":false},{"complexity":1,"lineno":125,"name":"Policy.phases","nested":false}],"functions":5,"kind":"quality.complexity","max_complexity":1,"p95_complexity":1.0,"path":"v2/backend/core/utils/code_bundles/code_bundles_OLD/src/packager/core/config.py","total_complexity":5}
{"avg_complexity":3.571,"by_function":[{"complexity":12,"lineno":87,"name":"DiscoveryEngine.discover","nested":false},{"complexity":5,"lineno":69,"name":"DiscoveryEngine._seg_excluded","nested":false},{"complexity":2,"lineno":14,"name":"_cf","nested":false},{"complexity":2,"lineno":24,"name":"_match_glob","nested":false},{"complexity":2,"lineno":60,"name":"DiscoveryEngine._is_allowed_prefix","nested":false},{"complexity":1,"lineno":19,"name":"_norm_glob","nested":false},{"complexity":1,"lineno":57,"name":"DiscoveryEngine.__init__","nested":false}],"functions":7,"kind":"quality.complexity","max_complexity":12,"p95_complexity":12.0,"path":"v2/backend/core/utils/code_bundles/code_bundles_OLD/src/packager/core/discovery.py","total_complexity":25}
{"avg_complexity":3.5,"by_function":[{"complexity":5,"lineno":41,"name":"PackagerError.__str__","nested":false},{"complexity":2,"lineno":27,"name":"PackagerError.__init__","nested":false}],"functions":2,"kind":"quality.complexity","max_complexity":5,"p95_complexity":5.0,"path":"v2/backend/core/utils/code_bundles/code_bundles_OLD/src/packager/core/errors.py","total_complexity":7}
{"avg_complexity":2.0,"by_function":[{"complexity":3,"lineno":12,"name":"Integrity.sha256_file","nested":false},{"complexity":1,"lineno":8,"name":"Integrity.sha256_bytes","nested":false}],"functions":2,"kind":"quality.complexity","max_complexity":3,"p95_complexity":3.0,"path":"v2/backend/core/utils/code_bundles/code_bundles_OLD/src/packager/core/integrity.py","total_complexity":4}
{"avg_complexity":5.12,"by_function":[{"complexity":20,"lineno":331,"name":"Packager.run","nested":false},{"complexity":18,"lineno":222,"name":"PromptEmbedder.build","nested":false},{"complexity":16,"lineno":525,"name":"Packager._publish","nested":false},{"complexity":15,"lineno":498,"name":"Packager._roles_map","nested":false},{"complexity":11,"lineno":133,"name":"SourceIngestor.ingest","nested":false},{"complexity":7,"lineno":315,"name":"Packager._clean_output_dir","nested":false},{"complexity":7,"lineno":514,"name":"Packager._scan_entrypoints","nested":false},{"complexity":5,"lineno":80,"name":"_GitHubClient._get_sha_if_exists","nested":false},{"complexity":4,"lineno":94,"name":"_GitHubClient.put_file","nested":false},{"complexity":4,"lineno":182,"name":"FileDiscovery.discover","nested":false},{"complexity":4,"lineno":301,"name":"Packager._maybe_remove_monolith","nested":false},{"complexity":3,"lineno":201,"name":"NormalizerAdapter.normalize","nested":false},{"complexity":2,"lineno":62,"name":"_GitHubClient.__init__","nested":false},{"complexity":1,"lineno":32,"name":"_apply_normalization","nested":false},{"complexity":1,"lineno":47,"name":"_log","nested":false},{"complexity":1,"lineno":69,"name":"_GitHubClient._api_url","nested":false},{"complexity":1,"lineno":73,"name":"_GitHubClient._headers","nested":false},{"complexity":1,"lineno":127,"name":"SourceIngestor.__init__","nested":false},{"complexity":1,"lineno":130,"name":"SourceIngestor._effective_case_insensitive","nested":false},{"complexity":1,"lineno":176,"name":"FileDiscovery.__init__","nested":false},{"complexity":1,"lineno":179,"name":"FileDiscovery._effective_case_insensitive","nested":false},{"complexity":1,"lineno":198,"name":"NormalizerAdapter.__init__","nested":false},{"complexity":1,"lineno":219,"name":"PromptEmbedder.__init__","nested":false},{"complexity":1,"lineno":291,"name":"Packager.__init__","nested":false},{"complexity":1,"lineno":311,"name":"Packager._should_clean_output_dir","nested":false}],"functions":25,"kind":"quality.complexity","max_complexity":20,"p95_complexity":18.0,"path":"v2/backend/core/utils/code_bundles/code_bundles_OLD/src/packager/core/orchestrator.py","total_complexity":128}
{"avg_complexity":1.667,"by_function":[{"complexity":3,"lineno":11,"name":"PathOps.emitted_path","nested":false},{"complexity":1,"lineno":7,"name":"PathOps.to_posix_rel","nested":false},{"complexity":1,"lineno":18,"name":"PathOps.ensure_dir","nested":false}],"functions":3,"kind":"quality.complexity","max_complexity":3,"p95_complexity":3.0,"path":"v2/backend/core/utils/code_bundles/code_bundles_OLD/src/packager/core/paths.py","total_complexity":5}
{"avg_complexity":7.714,"by_function":[{"complexity":19,"lineno":82,"name":"GuideWriter.build","nested":false},{"complexity":14,"lineno":129,"name":"GuideWriter.write","nested":false},{"complexity":8,"lineno":17,"name":"GuideWriter._constraints","nested":false},{"complexity":6,"lineno":41,"name":"GuideWriter.add_num","nested":true},{"complexity":4,"lineno":61,"name":"GuideWriter._limits","nested":false},{"complexity":2,"lineno":30,"name":"GuideWriter._get","nested":true},{"complexity":1,"lineno":12,"name":"GuideWriter.__init__","nested":false}],"functions":7,"kind":"quality.complexity","max_complexity":19,"p95_complexity":19.0,"path":"v2/backend/core/utils/code_bundles/code_bundles_OLD/src/packager/io/guide_writer.py","total_complexity":54}
{"avg_complexity":1.333,"by_function":[{"complexity":2,"lineno":17,"name":"BundleWriter.write","nested":false},{"complexity":1,"lineno":14,"name":"BundleWriter.__init__","nested":false},{"complexity":1,"lineno":25,"name":"BundleWriter.write_sums","nested":false}],"functions":3,"kind":"quality.complexity","max_complexity":2,"p95_complexity":2.0,"path":"v2/backend/core/utils/code_bundles/code_bundles_OLD/src/packager/io/manifest_writer.py","total_complexity":4}
{"avg_complexity":5.375,"by_function":[{"complexity":23,"lineno":91,"name":"publish","nested":false},{"complexity":6,"lineno":36,"name":"_http_json","nested":false},{"complexity":4,"lineno":71,"name":"_put_file","nested":false},{"complexity":3,"lineno":14,"name":"_join_path","nested":false},{"complexity":3,"lineno":62,"name":"_get_current_sha","nested":false},{"complexity":2,"lineno":26,"name":"_gh_headers","nested":false},{"complexity":1,"lineno":10,"name":"_log","nested":false},{"complexity":1,"lineno":19,"name":"_gh_contents_url","nested":false}],"functions":8,"kind":"quality.complexity","max_complexity":23,"p95_complexity":23.0,"path":"v2/backend/core/utils/code_bundles/code_bundles_OLD/src/packager/io/publisher.py","total_complexity":43}
{"avg_complexity":5.667,"by_function":[{"complexity":25,"lineno":50,"name":"RunSpecWriter.build_snapshot","nested":false},{"complexity":4,"lineno":16,"name":"_serialize_transport","nested":false},{"complexity":2,"lineno":12,"name":"_as_path","nested":false},{"complexity":1,"lineno":8,"name":"_log","nested":false},{"complexity":1,"lineno":40,"name":"RunSpecWriter.__init__","nested":false},{"complexity":1,"lineno":43,"name":"RunSpecWriter.write","nested":false}],"functions":6,"kind":"quality.complexity","max_complexity":25,"p95_complexity":25.0,"path":"v2/backend/core/utils/code_bundles/code_bundles_OLD/src/packager/io/runspec_writer.py","total_complexity":34}
{"avg_complexity":4.0,"by_function":[{"complexity":5,"lineno":9,"name":"_add_repo_root_to_syspath","nested":false},{"complexity":3,"lineno":47,"name":"PythonAnalyzer.analyze","nested":false}],"functions":2,"kind":"quality.complexity","max_complexity":5,"p95_complexity":5.0,"path":"v2/backend/core/utils/code_bundles/code_bundles_OLD/src/packager/languages/python/plugin.py","total_complexity":8}
{"avg_complexity":1.8,"by_function":[{"complexity":3,"lineno":20,"name":"SuperbundlePack.write_artifacts_bundle","nested":false},{"complexity":3,"lineno":47,"name":"SuperbundlePack.write_sha256sums","nested":false},{"complexity":1,"lineno":66,"name":"SuperbundlePack._ensure_parent","nested":false},{"complexity":1,"lineno":72,"name":"write_artifacts_bundle","nested":false},{"complexity":1,"lineno":75,"name":"write_sha256sums","nested":false}],"functions":5,"kind":"quality.complexity","max_complexity":3,"p95_complexity":3.0,"path":"v2/backend/core/utils/code_bundles/code_bundles_OLD/superbundle_pack.py","total_complexity":9}
{"avg_complexity":6.917,"by_function":[{"complexity":38,"lineno":150,"name":"_Indexer.handle_starttag","nested":false},{"complexity":16,"lineno":319,"name":"scan","nested":false},{"complexity":7,"lineno":235,"name":"_Indexer.handle_endtag","nested":false},{"complexity":5,"lineno":226,"name":"_Indexer.handle_data","nested":false},{"complexity":3,"lineno":76,"name":"_read_text_limited","nested":false},{"complexity":3,"lineno":96,"name":"_trim","nested":false},{"complexity":3,"lineno":102,"name":"_add_cap","nested":false},{"complexity":3,"lineno":257,"name":"analyze_file","nested":false},{"complexity":2,"lineno":86,"name":"_is_external_href","nested":false},{"complexity":1,"lineno":90,"name":"_is_mailto","nested":false},{"complexity":1,"lineno":93,"name":"_is_tel","nested":false},{"complexity":1,"lineno":142,"name":"_Indexer.__init__","nested":false}],"functions":12,"kind":"quality.complexity","max_complexity":38,"p95_complexity":38.0,"path":"v2/backend/core/utils/code_bundles/html_index.py","total_complexity":83}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/backend/core/utils/code_bundles/packers/__init__.py","total_complexity":0}
{"avg_complexity":4.5,"by_function":[{"complexity":8,"lineno":19,"name":"main","nested":false},{"complexity":1,"lineno":16,"name":"sha256_bytes","nested":false}],"functions":2,"kind":"quality.complexity","max_complexity":8,"p95_complexity":8.0,"path":"v2/backend/core/utils/code_bundles/packers/make_code_bundle.py","total_complexity":9}
{"avg_complexity":7.667,"by_function":[{"complexity":21,"lineno":63,"name":"unpack","nested":false},{"complexity":13,"lineno":32,"name":"iter_json_objects","nested":false},{"complexity":5,"lineno":15,"name":"ensure_relative_safe","nested":false},{"complexity":4,"lineno":22,"name":"detect_bundle_type","nested":false},{"complexity":2,"lineno":144,"name":"main","nested":false},{"complexity":1,"lineno":12,"name":"sha256_bytes","nested":false}],"functions":6,"kind":"quality.complexity","max_complexity":21,"p95_complexity":21.0,"path":"v2/backend/core/utils/code_bundles/packers/unpack_code_bundle.py","total_complexity":46}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/backend/core/utils/code_fixers/__init__.py","total_complexity":0}
{"avg_complexity":4.125,"by_function":[{"complexity":17,"lineno":136,"name":"ImportRefactor._refactor_file","nested":false},{"complexity":15,"lineno":212,"name":"ImportRefactor._rewrite_importfrom","nested":false},{"complexity":7,"lineno":184,"name":"ImportRefactor._rewrite_import","nested":false},{"complexity":5,"lineno":123,"name":"ImportRefactor._iter_files","nested":false},{"complexity":5,"lineno":269,"name":"ImportRefactor._map_qualname","nested":false},{"complexity":4,"lineno":110,"name":"ImportRefactor.run","nested":false},{"complexity":3,"lineno":75,"name":"ImportRefactor.__init__","nested":false},{"complexity":2,"lineno":284,"name":"ImportRefactor._line_offsets","nested":false},{"complexity":1,"lineno":48,"name":"Change.__str__","nested":false},{"complexity":1,"lineno":58,"name":"Report.add_change","nested":false},{"complexity":1,"lineno":61,"name":"Report.add_error","nested":false},{"complexity":1,"lineno":64,"name":"Report.add_skipped","nested":false},{"complexity":1,"lineno":67,"name":"Report.summary","nested":false},{"complexity":1,"lineno":128,"name":"ImportRefactor.is_excluded","nested":true},{"complexity":1,"lineno":293,"name":"ImportRefactor._abs_span","nested":false},{"complexity":1,"lineno":299,"name":"ImportRefactor._slice","nested":false}],"functions":16,"kind":"quality.complexity","max_complexity":17,"p95_complexity":17.0,"path":"v2/backend/core/utils/code_fixers/change_imports.py","total_complexity":66}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/backend/core/utils/db/__init__.py","total_complexity":0}
{"avg_complexity":2.3,"by_function":[{"complexity":11,"lineno":88,"name":"init_database","nested":false},{"complexity":2,"lineno":27,"name":"_is_sqlite_url","nested":false},{"complexity":2,"lineno":41,"name":"_list_sql_files","nested":false},{"complexity":2,"lineno":46,"name":"_parse_primary_table_name","nested":false},{"complexity":1,"lineno":31,"name":"_sqlite_path_from_url","nested":false},{"complexity":1,"lineno":37,"name":"_ensure_parent","nested":false},{"complexity":1,"lineno":64,"name":"_strip_manual_tx","nested":false},{"complexity":1,"lineno":71,"name":"_db_exists","nested":false},{"complexity":1,"lineno":75,"name":"_table_exists","nested":false},{"complexity":1,"lineno":82,"name":"_apply_sql_file","nested":false}],"functions":10,"kind":"quality.complexity","max_complexity":11,"p95_complexity":11.0,"path":"v2/backend/core/utils/db/init_sqlite_dev.py","total_complexity":23}
{"avg_complexity":5.824,"by_function":[{"complexity":19,"lineno":229,"name":"install","nested":false},{"complexity":17,"lineno":70,"name":"_score_win_asset","nested":false},{"complexity":14,"lineno":89,"name":"_extract_dll_from_archive","nested":false},{"complexity":7,"lineno":17,"name":"_abs_repo","nested":false},{"complexity":7,"lineno":113,"name":"_download_extension","nested":false},{"complexity":5,"lineno":173,"name":"_connect_sqlite","nested":false},{"complexity":4,"lineno":83,"name":"_pick_win_asset","nested":false},{"complexity":4,"lineno":146,"name":"_get_sqlite3","nested":false},{"complexity":4,"lineno":190,"name":"_check_vec","nested":false},{"complexity":4,"lineno":202,"name":"_check_vss","nested":false},{"complexity":4,"lineno":215,"name":"_apply_migrations","nested":false},{"complexity":3,"lineno":63,"name":"_latest_assets","nested":false},{"complexity":2,"lineno":140,"name":"_pip_install","nested":false},{"complexity":2,"lineno":183,"name":"_pragma_modules","nested":false},{"complexity":1,"lineno":50,"name":"_ensure_dir","nested":false},{"complexity":1,"lineno":53,"name":"_http_json","nested":false},{"complexity":1,"lineno":58,"name":"_http_bytes","nested":false}],"functions":17,"kind":"quality.complexity","max_complexity":19,"p95_complexity":19.0,"path":"v2/backend/core/utils/db/load_sqlite_vector_plugin.py","total_complexity":99}
{"avg_complexity":2.167,"by_function":[{"complexity":3,"lineno":61,"name":"SQLiteWebWrapperGUI.launch_sqlite_web","nested":false},{"complexity":2,"lineno":10,"name":"SQLiteWebWrapperGUI.__init__","nested":false},{"complexity":2,"lineno":20,"name":"SQLiteWebWrapperGUI.list_tables","nested":false},{"complexity":2,"lineno":33,"name":"SQLiteWebWrapperGUI.prompt_table_selection","nested":false},{"complexity":2,"lineno":37,"name":"SQLiteWebWrapperGUI.on_submit","nested":true},{"complexity":2,"lineno":73,"name":"SQLiteWebWrapperGUI.run","nested":false}],"functions":6,"kind":"quality.complexity","max_complexity":3,"p95_complexity":3.0,"path":"v2/backend/core/utils/db/sqlite_viewer.py","total_complexity":13}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/backend/core/utils/downloaders/__init__.py","total_complexity":0}
{"avg_complexity":3.333,"by_function":[{"complexity":4,"lineno":183,"name":"main","nested":false},{"complexity":3,"lineno":150,"name":"ensure_dir_with_gitignore","nested":false},{"complexity":3,"lineno":162,"name":"download_file","nested":false}],"functions":3,"kind":"quality.complexity","max_complexity":4,"p95_complexity":4.0,"path":"v2/backend/core/utils/downloaders/download_ai_models.py","total_complexity":10}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/backend/core/utils/io/__init__.py","total_complexity":0}
{"avg_complexity":2.25,"by_function":[{"complexity":4,"lineno":18,"name":"FileOps.write_text","nested":false},{"complexity":2,"lineno":11,"name":"FileOps.__init__","nested":false},{"complexity":2,"lineno":33,"name":"FileOps._norm","nested":false},{"complexity":1,"lineno":14,"name":"FileOps.read_text","nested":false}],"functions":4,"kind":"quality.complexity","max_complexity":4,"p95_complexity":4.0,"path":"v2/backend/core/utils/io/file_ops.py","total_complexity":9}
{"avg_complexity":1.75,"by_function":[{"complexity":2,"lineno":11,"name":"OutputWriter.__post_init__","nested":false},{"complexity":2,"lineno":24,"name":"OutputWriter.append_batch","nested":false},{"complexity":2,"lineno":30,"name":"OutputWriter.append_summary","nested":false},{"complexity":1,"lineno":20,"name":"OutputWriter.write_item","nested":false}],"functions":4,"kind":"quality.complexity","max_complexity":2,"p95_complexity":2.0,"path":"v2/backend/core/utils/io/output_writer.py","total_complexity":7}
{"avg_complexity":3.0,"by_function":[{"complexity":3,"lineno":10,"name":"zip_directory","nested":false}],"functions":1,"kind":"quality.complexity","max_complexity":3,"p95_complexity":3.0,"path":"v2/backend/core/utils/io/recursively_zip_directory.py","total_complexity":3}
{"avg_complexity":2.0,"by_function":[{"complexity":2,"lineno":14,"name":"RunDirs.make_run_id","nested":false},{"complexity":2,"lineno":18,"name":"RunDirs.ensure","nested":false}],"functions":2,"kind":"quality.complexity","max_complexity":2,"p95_complexity":2.0,"path":"v2/backend/core/utils/io/run_dir.py","total_complexity":4}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/backend/core/utils/logging/__init__.py","total_complexity":0}
{"avg_complexity":1.333,"by_function":[{"complexity":3,"lineno":3,"name":"_one_line","nested":false},{"complexity":1,"lineno":8,"name":"ConsoleLog.__init__","nested":false},{"complexity":1,"lineno":11,"name":"ConsoleLog.info","nested":false},{"complexity":1,"lineno":14,"name":"ConsoleLog.warn","nested":false},{"complexity":1,"lineno":17,"name":"ConsoleLog.error","nested":false},{"complexity":1,"lineno":20,"name":"ConsoleLog.stage","nested":false}],"functions":6,"kind":"quality.complexity","max_complexity":3,"p95_complexity":3.0,"path":"v2/backend/core/utils/logging/logging.py","total_complexity":8}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/backend/core/utils/scanners/__init__.py","total_complexity":0}
{"avg_complexity":4.607,"by_function":[{"complexity":25,"lineno":436,"name":"index_sh_file","nested":false},{"complexity":12,"lineno":262,"name":"PyModuleVisitor._resolve_call_target","nested":false},{"complexity":12,"lineno":535,"name":"build_index","nested":false},{"complexity":8,"lineno":307,"name":"_canon_sql_name","nested":false},{"complexity":8,"lineno":347,"name":"index_sql_file","nested":false},{"complexity":7,"lineno":73,"name":"fmt_signature","nested":false},{"complexity":7,"lineno":99,"name":"scan_files","nested":false},{"complexity":6,"lineno":419,"name":"_tokenize_sh_commands","nested":false},{"complexity":5,"lineno":60,"name":"get_attr_name","nested":false},{"complexity":4,"lineno":182,"name":"PyModuleVisitor.visit_ImportFrom","nested":false},{"complexity":4,"lineno":614,"name":"write_chunks_single_file","nested":false},{"complexity":3,"lineno":43,"name":"sha256_file","nested":false},{"complexity":3,"lineno":176,"name":"PyModuleVisitor.visit_Import","nested":false},{"complexity":3,"lineno":189,"name":"PyModuleVisitor.visit_ClassDef","nested":false},{"complexity":3,"lineno":211,"name":"PyModuleVisitor._make_func","nested":false},{"complexity":2,"lineno":55,"name":"first_line","nested":false},{"complexity":2,"lineno":92,"name":"count_loc","nested":false},{"complexity":2,"lineno":233,"name":"PyModuleVisitor._handle_function_like","nested":false},{"complexity":2,"lineno":251,"name":"PyModuleVisitor.visit_Call","nested":false},{"complexity":2,"lineno":514,"name":"index_python_file","nested":false},{"complexity":2,"lineno":645,"name":"run","nested":false},{"complexity":1,"lineno":40,"name":"sha256_bytes","nested":false},{"complexity":1,"lineno":50,"name":"rel_module_name","nested":false},{"complexity":1,"lineno":164,"name":"PyModuleVisitor.__init__","nested":false},{"complexity":1,"lineno":227,"name":"PyModuleVisitor.visit_FunctionDef","nested":false},{"complexity":1,"lineno":230,"name":"PyModuleVisitor.visit_AsyncFunctionDef","nested":false},{"complexity":1,"lineno":264,"name":"PyModuleVisitor.Resolved.__init__","nested":true},{"complexity":1,"lineno":302,"name":"_strip_sql_comments","nested":false}],"functions":28,"kind":"quality.complexity","max_complexity":25,"p95_complexity":12.0,"path":"v2/backend/core/utils/scanners/code_indexer.py","total_complexity":129}
{"avg_complexity":1.0,"by_function":[{"complexity":1,"lineno":15,"name":"is_script_file","nested":false}],"functions":1,"kind":"quality.complexity","max_complexity":1,"p95_complexity":1.0,"path":"v2/backend/core/utils/scanners/code_length.py","total_complexity":1}
{"avg_complexity":4.5,"by_function":[{"complexity":5,"lineno":7,"name":"crawl_directory","nested":false},{"complexity":4,"lineno":21,"name":"print_yaml_like","nested":false}],"functions":2,"kind":"quality.complexity","max_complexity":5,"p95_complexity":5.0,"path":"v2/backend/core/utils/scanners/dir_crawler.py","total_complexity":9}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/cli/__init__.py","total_complexity":0}
{"avg_complexity":3.571,"by_function":[{"complexity":12,"lineno":78,"name":"main","nested":false},{"complexity":5,"lineno":59,"name":"_artifact_problem_summary","nested":false},{"complexity":4,"lineno":68,"name":"_extract_result","nested":false},{"complexity":1,"lineno":22,"name":"_init_db_at_writer_path","nested":false},{"complexity":1,"lineno":41,"name":"_ensure_env_for_scanner","nested":false},{"complexity":1,"lineno":45,"name":"_sqlite_url_from_dbpath","nested":false},{"complexity":1,"lineno":54,"name":"_default_caps_path","nested":false}],"functions":7,"kind":"quality.complexity","max_complexity":12,"p95_complexity":12.0,"path":"v2/cli/docstring.py","total_complexity":25}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/models/__init__.py","total_complexity":0}
{"avg_complexity":3.0,"by_function":[{"complexity":4,"lineno":141,"name":"AgentInsightIn._coerce_mdata","nested":false},{"complexity":3,"lineno":98,"name":"AgentInsight.mdata_obj","nested":false},{"complexity":2,"lineno":105,"name":"AgentInsight.mdata_obj","nested":false}],"functions":3,"kind":"quality.complexity","max_complexity":4,"p95_complexity":4.0,"path":"v2/models/agent_insights.py","total_complexity":9}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/models/introspection_embeddings.py","total_complexity":0}
{"avg_complexity":3.0,"by_function":[{"complexity":4,"lineno":140,"name":"IntrospectionIndexIn._coerce_mdata","nested":false},{"complexity":3,"lineno":95,"name":"IntrospectionIndex.mdata_obj","nested":false},{"complexity":2,"lineno":102,"name":"IntrospectionIndex.mdata_obj","nested":false}],"functions":3,"kind":"quality.complexity","max_complexity":4,"p95_complexity":4.0,"path":"v2/models/introspection_index.py","total_complexity":9}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/models/introspection_index_OLD.py","total_complexity":0}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/patches/__init__.py","total_complexity":0}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/patches/core/__init__.py","total_complexity":0}
{"avg_complexity":2.0,"by_function":[{"complexity":3,"lineno":57,"name":"PatchOps.write_patch","nested":false},{"complexity":2,"lineno":17,"name":"PatchOps._patch_path","nested":false},{"complexity":2,"lineno":27,"name":"PatchOps._unified_diff","nested":false},{"complexity":1,"lineno":88,"name":"PatchOps.apply_to_sandbox","nested":false}],"functions":4,"kind":"quality.complexity","max_complexity":3,"p95_complexity":3.0,"path":"v2/patches/core/patch_ops.py","total_complexity":8}
{"avg_complexity":5.3,"by_function":[{"complexity":17,"lineno":117,"name":"_find_orphan_module_string_span","nested":false},{"complexity":10,"lineno":154,"name":"apply_docstring_update","nested":false},{"complexity":7,"lineno":74,"name":"_find_existing_docstring_span","nested":false},{"complexity":6,"lineno":94,"name":"_insert_module_docstring","nested":false},{"complexity":5,"lineno":38,"name":"_render_docstring_block","nested":false},{"complexity":4,"lineno":24,"name":"_guess_body_indent","nested":false},{"complexity":1,"lineno":12,"name":"_split_lines","nested":false},{"complexity":1,"lineno":20,"name":"_indent_of","nested":false},{"complexity":1,"lineno":107,"name":"_replace_span","nested":false},{"complexity":1,"lineno":111,"name":"_insert_after_line","nested":false}],"functions":10,"kind":"quality.complexity","max_complexity":17,"p95_complexity":17.0,"path":"v2/patches/core/rewrite.py","total_complexity":53}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/patches/executor/__init__.py","total_complexity":0}
{"avg_complexity":10.625,"by_function":[{"complexity":19,"lineno":232,"name":"main","nested":false},{"complexity":14,"lineno":60,"name":"_extract_openai_key","nested":false},{"complexity":14,"lineno":92,"name":"_load_openai_api_key_from_loader","nested":false},{"complexity":14,"lineno":133,"name":"_load_openai_api_key_from_yaml","nested":false},{"complexity":9,"lineno":199,"name":"_build_ask_spec","nested":false},{"complexity":7,"lineno":177,"name":"_resolve_openai_api_key","nested":false},{"complexity":5,"lineno":46,"name":"_default_project_root","nested":false},{"complexity":3,"lineno":37,"name":"_find_repo_root","nested":false}],"functions":8,"kind":"quality.complexity","max_complexity":19,"p95_complexity":19.0,"path":"v2/patches/executor/run_patch_loop.py","total_complexity":85}
{"avg_complexity":6.867,"by_function":[{"complexity":14,"lineno":59,"name":"_extract_openai_key","nested":false},{"complexity":14,"lineno":84,"name":"_load_openai_api_key_from_loader","nested":false},{"complexity":14,"lineno":124,"name":"_load_openai_api_key_from_yaml","nested":false},{"complexity":9,"lineno":184,"name":"_build_ask_spec","nested":false},{"complexity":9,"lineno":312,"name":"PatchLoopLocalController.apply_patches","nested":false},{"complexity":7,"lineno":168,"name":"_resolve_openai_api_key","nested":false},{"complexity":6,"lineno":213,"name":"_detect_seed_dir","nested":false},{"complexity":6,"lineno":287,"name":"PatchLoopLocalController.run_engine","nested":false},{"complexity":5,"lineno":46,"name":"_default_project_root","nested":false},{"complexity":5,"lineno":244,"name":"PatchLoopLocalController.build_engine_payload","nested":false},{"complexity":4,"lineno":376,"name":"main","nested":false},{"complexity":3,"lineno":36,"name":"_find_repo_root","nested":false},{"complexity":3,"lineno":306,"name":"PatchLoopLocalController.gather_patches","nested":false},{"complexity":2,"lineno":232,"name":"PatchLoopLocalController.__init__","nested":false},{"complexity":2,"lineno":359,"name":"PatchLoopLocalController.run","nested":false}],"functions":15,"kind":"quality.complexity","max_complexity":14,"p95_complexity":14.0,"path":"v2/patches/executor/run_patch_loop_local.py","total_complexity":103}
{"avg_complexity":null,"by_function":[],"functions":0,"kind":"quality.complexity","max_complexity":null,"p95_complexity":null,"path":"v2/routes/__init__.py","total_complexity":0}
{"avg_complexity":5.141,"files":196,"functions":1120,"heavy_files_top":[{"functions":33,"path":"v2/backend/core/utils/code_bundles/code_bundles/run_pack.py","total_complexity":246},{"functions":22,"path":"v2/backend/core/utils/code_bundles/code_bundles/deps_index.py","total_complexity":195},{"functions":16,"path":"v2/backend/core/utils/code_bundles/code_bundles_OLD/quality.py","total_complexity":147},{"functions":9,"path":"v2/backend/core/prompt_pipeline/executor/engine.py","total_complexity":140},{"functions":25,"path":"v2/backend/core/introspect/read_docstrings.py","total_complexity":138},{"functions":13,"path":"v2/backend/core/utils/code_bundles/code_bundles/sql_index.py","total_complexity":129},{"functions":28,"path":"v2/backend/core/utils/scanners/code_indexer.py","total_complexity":129},{"functions":25,"path":"v2/backend/core/utils/code_bundles/code_bundles_OLD/src/packager/core/orchestrator.py","total_complexity":128},{"functions":9,"path":"v2/backend/core/patch_engine/providers.py","total_complexity":110},{"functions":22,"path":"v2/backend/core/utils/code_bundles/code_bundles/env_index.py","total_complexity":108},{"functions":14,"path":"v2/backend/core/docstrings/providers.py","total_complexity":106},{"functions":15,"path":"v2/patches/executor/run_patch_loop_local.py","total_complexity":103},{"functions":17,"path":"v2/backend/core/utils/code_bundles/code_bundles/orchestrate.py","total_complexity":101},{"functions":17,"path":"v2/backend/core/utils/code_bundles/code_bundles_OLD/orchestrate.py","total_complexity":101},{"functions":16,"path":"v2/backend/core/utils/code_bundles/code_bundles/assets_index.py","total_complexity":100},{"functions":17,"path":"v2/backend/core/utils/db/load_sqlite_vector_plugin.py","total_complexity":99},{"functions":14,"path":"v2/backend/core/utils/code_bundles/code_bundles_OLD/run_pack.py","total_complexity":98},{"functions":20,"path":"v2/backend/core/spine/bootstrap.py","total_complexity":88},{"functions":19,"path":"v2/backend/core/run/docstrings.py","total_complexity":85},{"functions":8,"path":"v2/patches/executor/run_patch_loop.py","total_complexity":85}],"kind":"quality.complexity.summary","max_function_complexity":76,"p95_function_complexity":17.0,"total_complexity":5758}
{"assigned":0,"files":303,"kind":"codeowners.summary","owners":{},"sources":[],"top_unassigned_dirs":[{"count":179,"dir":"v2/backend"},{"count":45,"dir":"scripts/sqlite_sql_schemas"},{"count":43,"dir":"scripts/postgres_sql_schemas"},{"count":7,"dir":"v2/patches"},{"count":5,"dir":"v2/models"},{"count":4,"dir":"config/spine"},{"count":2,"dir":"v2/cli"},{"count":1,"dir":"cold_start/__init__.py"},{"count":1,"dir":"cold_start/bootstrap.sh"},{"count":1,"dir":"cold_start/bootstrap_check.py"}],"unassigned":303}
{"calls":{"environ_get":1,"environ_index":0,"getenv":0},"count":1,"kind":"env.usage","language":"python","path":"v2/backend/core/docstrings/sanitize.py","vars":["DOCSTRING_WIDTH"]}
{"calls":{"environ_get":2,"environ_index":0,"getenv":0},"count":2,"kind":"env.usage","language":"python","path":"v2/backend/core/docstrings/verify.py","vars":["DOCSTRING_VERIFY_POLICY","DOCSTRING_WIDTH"]}
{"calls":{"environ_get":0,"environ_index":1,"getenv":0},"count":1,"kind":"env.usage","language":"python","path":"v2/backend/core/introspect/read_docstrings.py","vars":["LLAMA_LOG_LEVEL"]}
{"calls":{"environ_get":3,"environ_index":0,"getenv":0},"count":3,"kind":"env.usage","language":"python","path":"v2/backend/core/patch_engine/config.py","vars":["PE_DENYLIST_GLOBS","PE_FORBID_REPO_RECURSION","PE_SAFE_GUARD_SYMLINKS"]}
{"calls":{"environ_get":0,"environ_index":0,"getenv":1},"count":1,"kind":"env.usage","language":"python","path":"v2/backend/core/spine/providers/packager_pack_run.py","vars":["GITHUB_TOKEN"]}
{"calls":{"environ_get":0,"environ_index":0,"getenv":4},"count":4,"kind":"env.usage","language":"python","path":"v2/backend/core/utils/db/load_sqlite_vector_plugin.py","vars":["REPO_ROOT","SQLITE_DB_URL","SQLITE_PLUGINS_DIR","SQLITE_SCHEMAS_DIR"]}
{"calls":{"environ_get":0,"environ_index":1,"getenv":3},"count":4,"kind":"env.usage","language":"python","path":"v2/cli/docstring.py","vars":["DOCSTRING_ROOT","LLM_MODEL","LLM_PROVIDER","OPENAI_API_KEY"]}
{"calls":{"environ_get":0,"environ_index":0,"getenv":8},"count":7,"kind":"env.usage","language":"python","path":"v2/patches/executor/run_patch_loop.py","vars":["INTROSPECTION_DB_URL","INTROSPECTION_TABLE","LLM_MODEL","LLM_PROVIDER","LLM_RESPONSE_FORMAT_NAME","OPENAI_API_KEY","SCAN_ROOT"]}
{"calls":{"environ_get":0,"environ_index":0,"getenv":8},"count":7,"kind":"env.usage","language":"python","path":"v2/patches/executor/run_patch_loop_local.py","vars":["INTROSPECTION_DB_URL","INTROSPECTION_TABLE","LLM_MODEL","LLM_PROVIDER","LLM_RESPONSE_FORMAT_NAME","OPENAI_API_KEY","SCAN_ROOT"]}
{"counts":{"all":19,"configs":0,"env_files":0,"javascript":0,"python":19},"files_scanned":303,"kind":"env.summary","sources":{"configs":0,"env_files":0,"javascript":0,"python":9},"unique_vars":{"all":["DOCSTRING_ROOT","DOCSTRING_VERIFY_POLICY","DOCSTRING_WIDTH","GITHUB_TOKEN","INTROSPECTION_DB_URL","INTROSPECTION_TABLE","LLAMA_LOG_LEVEL","LLM_MODEL","LLM_PROVIDER","LLM_RESPONSE_FORMAT_NAME","OPENAI_API_KEY","PE_DENYLIST_GLOBS","PE_FORBID_REPO_RECURSION","PE_SAFE_GUARD_SYMLINKS","REPO_ROOT","SCAN_ROOT","SQLITE_DB_URL","SQLITE_PLUGINS_DIR","SQLITE_SCHEMAS_DIR"],"configs":[],"env_files":[],"javascript":[],"python":["DOCSTRING_ROOT","DOCSTRING_VERIFY_POLICY","DOCSTRING_WIDTH","GITHUB_TOKEN","INTROSPECTION_DB_URL","INTROSPECTION_TABLE","LLAMA_LOG_LEVEL","LLM_MODEL","LLM_PROVIDER","LLM_RESPONSE_FORMAT_NAME","OPENAI_API_KEY","PE_DENYLIST_GLOBS","PE_FORBID_REPO_RECURSION","PE_SAFE_GUARD_SYMLINKS","REPO_ROOT","SCAN_ROOT","SQLITE_DB_URL","SQLITE_PLUGINS_DIR","SQLITE_SCHEMAS_DIR"]}}
{"interpreter":"/bin/bash","kind":"entrypoint.shell","path":"cold_start/bootstrap.sh"}
{"has_main_fn":true,"kind":"entrypoint.python","module":"cold_start.bootstrap_check","path":"cold_start/bootstrap_check.py"}
{"has_main_fn":false,"kind":"entrypoint.python","module":"cold_start.cleanup_locks","path":"cold_start/cleanup_locks.py"}
{"interpreter":"/bin/bash","kind":"entrypoint.shell","path":"cold_start/verify_services.sh"}
{"interpreter":"/bin/bash","kind":"entrypoint.shell","path":"scripts/sandbox_validate.sh"}
{"has_main_fn":false,"kind":"entrypoint.python","module":"v2.backend.core.configuration.spine_paths","path":"v2/backend/core/configuration/spine_paths.py"}
{"has_main_fn":false,"kind":"entrypoint.python","module":"v2.backend.core.patch_engine.interactive_run","path":"v2/backend/core/patch_engine/interactive_run.py"}
{"has_main_fn":true,"kind":"entrypoint.python","module":"v2.backend.core.run.docstrings","path":"v2/backend/core/run/docstrings.py"}
{"has_main_fn":false,"kind":"entrypoint.python","module":"v2.backend.core.spine.bootstrap","path":"v2/backend/core/spine/bootstrap.py"}
{"has_main_fn":false,"kind":"entrypoint.python","module":"v2.backend.core.spine.validation","path":"v2/backend/core/spine/validation.py"}
{"has_main_fn":true,"kind":"entrypoint.python","module":"v2.backend.core.utils.code_bundles.code_bundles.run_pack","path":"v2/backend/core/utils/code_bundles/code_bundles/run_pack.py"}
{"has_main_fn":true,"kind":"entrypoint.python","module":"v2.backend.core.utils.code_bundles.code_bundles_OLD.run_pack","path":"v2/backend/core/utils/code_bundles/code_bundles_OLD/run_pack.py"}
{"has_main_fn":true,"kind":"entrypoint.python","module":"v2.backend.core.utils.code_bundles.packers.make_code_bundle","path":"v2/backend/core/utils/code_bundles/packers/make_code_bundle.py"}
{"has_main_fn":true,"kind":"entrypoint.python","module":"v2.backend.core.utils.code_bundles.packers.unpack_code_bundle","path":"v2/backend/core/utils/code_bundles/packers/unpack_code_bundle.py"}
{"interpreter":"/usr/bin/env","kind":"entrypoint.shell","path":"v2/backend/core/utils/code_bundles/packers/unpack_code_bundle.py"}
{"has_main_fn":false,"kind":"entrypoint.python","module":"v2.backend.core.utils.code_fixers.change_imports","path":"v2/backend/core/utils/code_fixers/change_imports.py"}
{"interpreter":"/usr/bin/env","kind":"entrypoint.shell","path":"v2/backend/core/utils/code_fixers/change_imports.py"}
{"has_main_fn":false,"kind":"entrypoint.python","module":"v2.backend.core.utils.db.init_sqlite_dev","path":"v2/backend/core/utils/db/init_sqlite_dev.py"}
{"has_main_fn":false,"kind":"entrypoint.python","module":"v2.backend.core.utils.db.load_sqlite_vector_plugin","path":"v2/backend/core/utils/db/load_sqlite_vector_plugin.py"}
{"has_main_fn":false,"kind":"entrypoint.python","module":"v2.backend.core.utils.db.sqlite_viewer","path":"v2/backend/core/utils/db/sqlite_viewer.py"}
{"has_main_fn":true,"kind":"entrypoint.python","module":"v2.backend.core.utils.downloaders.download_ai_models","path":"v2/backend/core/utils/downloaders/download_ai_models.py"}
{"has_main_fn":false,"kind":"entrypoint.python","module":"v2.backend.core.utils.io.recursively_zip_directory","path":"v2/backend/core/utils/io/recursively_zip_directory.py"}
{"interpreter":"/usr/bin/env","kind":"entrypoint.shell","path":"v2/backend/core/utils/io/recursively_zip_directory.py"}
{"has_main_fn":false,"kind":"entrypoint.python","module":"v2.backend.core.utils.scanners.code_indexer","path":"v2/backend/core/utils/scanners/code_indexer.py"}
{"interpreter":"/usr/bin/env","kind":"entrypoint.shell","path":"v2/backend/core/utils/scanners/code_indexer.py"}
{"has_main_fn":false,"kind":"entrypoint.python","module":"v2.backend.core.utils.scanners.dir_crawler","path":"v2/backend/core/utils/scanners/dir_crawler.py"}
{"has_main_fn":true,"kind":"entrypoint.python","module":"v2.cli.docstring","path":"v2/cli/docstring.py"}
{"has_main_fn":true,"kind":"entrypoint.python","module":"v2.patches.executor.run_patch_loop","path":"v2/patches/executor/run_patch_loop.py"}
{"has_main_fn":true,"kind":"entrypoint.python","module":"v2.patches.executor.run_patch_loop_local","path":"v2/patches/executor/run_patch_loop_local.py"}
{"counts":{"entrypoint.python":22,"entrypoint.shell":7},"examples":{"config":[],"python":["output/patch_code_bundles/cold_start/bootstrap_check.py","output/patch_code_bundles/cold_start/cleanup_locks.py","output/patch_code_bundles/v2/backend/core/configuration/spine_paths.py","output/patch_code_bundles/v2/backend/core/patch_engine/interactive_run.py","output/patch_code_bundles/v2/backend/core/run/docstrings.py","output/patch_code_bundles/v2/backend/core/spine/bootstrap.py","output/patch_code_bundles/v2/backend/core/spine/validation.py","output/patch_code_bundles/v2/backend/core/utils/code_bundles/code_bundles/run_pack.py","output/patch_code_bundles/v2/backend/core/utils/code_bundles/code_bundles_OLD/run_pack.py","output/patch_code_bundles/v2/backend/core/utils/code_bundles/packers/make_code_bundle.py"],"shell":["output/patch_code_bundles/cold_start/bootstrap.sh","output/patch_code_bundles/cold_start/verify_services.sh","output/patch_code_bundles/scripts/sandbox_validate.sh","output/patch_code_bundles/v2/backend/core/utils/code_bundles/packers/unpack_code_bundle.py","output/patch_code_bundles/v2/backend/core/utils/code_fixers/change_imports.py","output/patch_code_bundles/v2/backend/core/utils/io/recursively_zip_directory.py","output/patch_code_bundles/v2/backend/core/utils/scanners/code_indexer.py"]},"kind":"entrypoints.summary"}
{"files":0,"kind":"html.summary","top":{"by_images":[],"by_links":[],"by_scripts":[]},"totals":{"forms":0,"h1":0,"h2":0,"h3":0,"images":0,"links":0,"links_external":0,"links_internal":0,"scripts":0,"scripts_external":0,"scripts_inline":0,"stylesheets":0}}
{"constraints":{"checks":1,"foreign_keys":0,"primary_keys":2,"unique":1},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":15},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/001_create_agent_self_review.sql","size":4151,"statements":19,"tables":{"altered":[],"created":["public.agent_self_review"],"dropped":[],"indexes_on":["public.agent_self_review"],"referenced":["public.agent_self_review"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":2,"unique":4},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":1},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":17},"params":{"named":[":true"],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/002_create_agent_registry.sql","size":4257,"statements":21,"tables":{"altered":[],"created":["public.agent_registry"],"dropped":[],"indexes_on":["public.agent_registry"],"referenced":["public.agent_registry","trigger"],"views":[]}}
{"constraints":{"checks":1,"foreign_keys":0,"primary_keys":2,"unique":1},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["mysql","postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":4,"create_table":1,"insert":1,"other":26},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/003_create_agent_insights.sql","size":6214,"statements":32,"tables":{"altered":[],"created":["public.agent_insights"],"dropped":[],"indexes_on":["public.agent_insights"],"referenced":["public.agent_insights"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":2,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":5,"create_table":1,"insert":1,"other":25},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/004_create_diagnostics.sql","size":6055,"statements":32,"tables":{"altered":[],"created":["public.diagnostics"],"dropped":[],"indexes_on":["public.diagnostics"],"referenced":["public.diagnostics","scan","timestamp"],"views":[]}}
{"constraints":{"checks":1,"foreign_keys":0,"primary_keys":2,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["mssql","postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":4,"create_table":1,"insert":1,"other":16},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/005_create_agent_memory.sql","size":4259,"statements":22,"tables":{"altered":[],"created":["public.agent_memory"],"dropped":[],"indexes_on":["public.agent_memory"],"referenced":["creation","public.agent_memory"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":2,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":4,"create_table":1,"insert":1,"other":16},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/006_create_patch_failures.sql","size":4343,"statements":22,"tables":{"altered":[],"created":["public.patch_failures"],"dropped":[],"indexes_on":["public.patch_failures"],"referenced":["public.patch_failures","timestamp"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":2,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":3,"create_table":1,"insert":1,"other":14},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/007_create_agent_skills.sql","size":3740,"statements":19,"tables":{"altered":[],"created":["public.agent_skills"],"dropped":[],"indexes_on":["public.agent_skills"],"referenced":["public.agent_skills","web"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":2,"unique":2},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":13},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/008_create_agent_skill_inventory.sql","size":3718,"statements":17,"tables":{"altered":[],"created":["public.agent_skill_inventory"],"dropped":[],"indexes_on":["public.agent_skill_inventory"],"referenced":["public.agent_skill_inventory","timestamp"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":2,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":11},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/009_create_agent_skill_prerequisites.sql","size":3696,"statements":15,"tables":{"altered":[],"created":["public.agent_skill_prerequisites"],"dropped":[],"indexes_on":["public.agent_skill_prerequisites"],"referenced":["public.agent_skill_prerequisites","timestamp"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":1,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":[],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":12},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/010_create_patch_state.sql","size":3246,"statements":16,"tables":{"altered":[],"created":["public.patch_state"],"dropped":[],"indexes_on":["public.patch_state"],"referenced":["public.patch_state"],"views":[]}}
{"constraints":{"checks":1,"foreign_keys":0,"primary_keys":1,"unique":1},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":3,"create_table":1,"insert":1,"other":11},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/011_create_patch_history.sql","size":2823,"statements":16,"tables":{"altered":[],"created":["public.patch_history"],"dropped":[],"indexes_on":["public.patch_history"],"referenced":["public.patch_history"],"views":[]}}
{"constraints":{"checks":2,"foreign_keys":0,"primary_keys":1,"unique":1},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":14},"params":{"named":[":N"],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/012_create_patch_actions.sql","size":3354,"statements":18,"tables":{"altered":[],"created":["public.patch_actions"],"dropped":[],"indexes_on":["public.patch_actions"],"referenced":["public.patch_actions","the"],"views":[]}}
{"constraints":{"checks":1,"foreign_keys":1,"primary_keys":2,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":1,"create_table":1,"insert":1,"other":10},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/013_create_patch_simulation_results.sql","size":2498,"statements":13,"tables":{"altered":[],"created":["public.patch_simulation_results"],"dropped":[],"indexes_on":["public.patch_simulation_results"],"referenced":["public.patch_simulation_results"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":1,"primary_keys":2,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":1,"create_table":1,"insert":1,"other":9},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/014_create_patch_rejections.sql","size":2141,"statements":12,"tables":{"altered":[],"created":["public.patch_rejections"],"dropped":[],"indexes_on":["public.patch_rejections"],"referenced":["public.patch_rejections"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":2,"unique":1},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":11},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/015_create_lock_state.sql","size":2941,"statements":15,"tables":{"altered":[],"created":["public.lock_state"],"dropped":[],"indexes_on":["public.lock_state"],"referenced":["on","public.lock_state"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":2,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":5,"create_table":1,"other":20},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/016_create_patch_plan.sql","size":4010,"statements":26,"tables":{"altered":[],"created":["public.patch_plan"],"dropped":[],"indexes_on":["public.patch_plan"],"referenced":[],"views":[]}}
{"constraints":{"checks":1,"foreign_keys":0,"primary_keys":1,"unique":1},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":13},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/017_create_lock_state.sql","size":3375,"statements":17,"tables":{"altered":[],"created":["public.lock_state"],"dropped":[],"indexes_on":["public.lock_state"],"referenced":["on","public.lock_state","time"],"views":[]}}
{"constraints":{"checks":1,"foreign_keys":0,"primary_keys":1,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"other":8},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/018_create_lock_events.sql","size":1110,"statements":11,"tables":{"altered":[],"created":["public.lock_events"],"dropped":[],"indexes_on":["public.lock_events"],"referenced":[],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":0,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":[],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"alter_table":1,"other":4},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/019_create_enable_rls_on_lock_state.sql","size":387,"statements":5,"tables":{"altered":["public.lock_state"],"created":[],"dropped":[],"indexes_on":[],"referenced":[],"views":[]}}
{"constraints":{"checks":1,"foreign_keys":0,"primary_keys":2,"unique":2},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":12},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/020_create_capabilities.sql","size":3137,"statements":16,"tables":{"altered":[],"created":["public.capabilities"],"dropped":[],"indexes_on":["public.capabilities"],"referenced":["public.capabilities"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":2,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":13},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/021_create_agent_messages.sql","size":3745,"statements":17,"tables":{"altered":[],"created":["public.agent_messages"],"dropped":[],"indexes_on":["public.agent_messages"],"referenced":["public.agent_messages"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":1,"unique":1},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":12},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/022_create_patch_metadata.sql","size":3101,"statements":16,"tables":{"altered":[],"created":["public.patch_metadata"],"dropped":[],"indexes_on":["public.patch_metadata"],"referenced":["public.patch_metadata"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":2,"unique":1},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":1,"create_table":1,"insert":1,"other":14},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/023_create_patch_state.sql","size":3234,"statements":17,"tables":{"altered":[],"created":["public.patch_state"],"dropped":[],"indexes_on":["public.patch_state"],"referenced":["public.patch_state"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":0,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":[],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/024_create_module_events.sql","size":2,"statements":0,"tables":{"altered":[],"created":[],"dropped":[],"indexes_on":[],"referenced":[],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":0,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":[],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/025_create_script_exec.sql","size":2,"statements":0,"tables":{"altered":[],"created":[],"dropped":[],"indexes_on":[],"referenced":[],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":0,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":[],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/026_create_router_events.sql","size":2,"statements":0,"tables":{"altered":[],"created":[],"dropped":[],"indexes_on":[],"referenced":[],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":0,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":[],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/027_create_service_events.sql","size":2,"statements":0,"tables":{"altered":[],"created":[],"dropped":[],"indexes_on":[],"referenced":[],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":2,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":3,"create_table":1,"insert":1,"other":11},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/028_create_system_events.sql","size":3051,"statements":16,"tables":{"altered":[],"created":["public.system_events"],"dropped":[],"indexes_on":["public.system_events"],"referenced":["public.system_events"],"views":[]}}
{"constraints":{"checks":1,"foreign_keys":0,"primary_keys":2,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":3,"create_table":1,"insert":1,"other":16},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/029_create_patch_feedback.sql","size":3649,"statements":21,"tables":{"altered":[],"created":["public.patch_feedback"],"dropped":[],"indexes_on":["public.patch_feedback"],"referenced":["LLM","public.patch_feedback"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":2,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":1,"create_table":1,"insert":1,"other":10},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/039_create_patch_diffs.sql","size":2304,"statements":13,"tables":{"altered":[],"created":["public.patch_diffs"],"dropped":[],"indexes_on":["public.patch_diffs"],"referenced":["public.patch_diffs"],"views":[]}}
{"constraints":{"checks":1,"foreign_keys":0,"primary_keys":2,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":14},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/040_create_patch_risk_evaluations.sql","size":3746,"statements":18,"tables":{"altered":[],"created":["public.patch_risk_evaluations"],"dropped":[],"indexes_on":["public.patch_risk_evaluations"],"referenced":["public.patch_risk_evaluations","timestamp"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":2,"unique":1},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":16},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/041_create_patch_test_results.sql","size":3483,"statements":20,"tables":{"altered":[],"created":["public.patch_test_results"],"dropped":[],"indexes_on":["public.patch_test_results"],"referenced":["public.patch_test_results","syntax","the"],"views":[]}}
{"constraints":{"checks":1,"foreign_keys":0,"primary_keys":2,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":1},"dialect_hints":["mssql","postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":15},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/042_create_patch_trust_assessments.sql","size":3620,"statements":19,"tables":{"altered":[],"created":["public.patch_trust_assessments"],"dropped":[],"indexes_on":["public.patch_trust_assessments"],"referenced":["public.patch_trust_assessments","timestamp"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":2,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":4,"create_table":1,"insert":1,"other":24},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/043_create_introspection_index.sql","size":5270,"statements":30,"tables":{"altered":[],"created":["public.introspection_index"],"dropped":[],"indexes_on":["public.introspection_index"],"referenced":["public.introspection_index","timestamp"],"views":[]}}
{"constraints":{"checks":1,"foreign_keys":0,"primary_keys":2,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":3,"create_table":1,"insert":1,"other":12},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/044_create_file_snapshots.sql","size":3360,"statements":17,"tables":{"altered":[],"created":["public.file_snapshots"],"dropped":[],"indexes_on":["public.file_snapshots"],"referenced":["public.file_snapshots"],"views":[]}}
{"constraints":{"checks":1,"foreign_keys":0,"primary_keys":2,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":3,"create_table":1,"insert":1,"other":13},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/045_create_patch_action_log.sql","size":2798,"statements":18,"tables":{"altered":[],"created":["public.patch_action_log"],"dropped":[],"indexes_on":["public.patch_action_log"],"referenced":["public.patch_action_log"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":2,"primary_keys":2,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"alter_table":1,"create_index":2,"create_table":1,"insert":1,"other":11},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/046_create_patch_plan_files.sql","size":3236,"statements":16,"tables":{"altered":["public.patch_plan_files"],"created":["public.patch_plan_files"],"dropped":[],"indexes_on":["public.patch_plan_files"],"referenced":["public.patch_plan_files"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":1,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["sqlite"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":2},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/047_create_reflection_log.sql","size":1599,"statements":6,"tables":{"altered":[],"created":["reflection_log"],"dropped":[],"indexes_on":["reflection_log"],"referenced":["reflection_log"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":1,"unique":1},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["mssql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":3,"create_table":1,"insert":1,"other":13},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/048_create_patch_requests.sql","size":3608,"statements":18,"tables":{"altered":[],"created":["public.patch_requests"],"dropped":[],"indexes_on":["public.patch_requests"],"referenced":["public.patch_requests"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":1,"primary_keys":2,"unique":1},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":9},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/049_create_patch_file_versions.sql","size":2271,"statements":13,"tables":{"altered":[],"created":["public.patch_file_versions"],"dropped":[],"indexes_on":["public.patch_file_versions"],"referenced":["public.patch_file_versions"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":0,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":[],"functions":{"created":["UPDATE_PATCH_FILE_VERSIONS_UPDATED_AT"],"procedures":[],"triggers":["TRG_UPDATE_PATCH_FILE_VERSIONS_UPDATED_AT"]},"kind":"sql.index","kinds":{"alter_table":1,"create_function":1,"create_trigger":1,"other":8},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/050_create_patch_file_versions_trigger.sql","size":1210,"statements":11,"tables":{"altered":["public.patch_file_versions"],"created":[],"dropped":[],"indexes_on":[],"referenced":["ON"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":2,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":11},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/051_create_capability_dependencies.sql","size":3186,"statements":15,"tables":{"altered":[],"created":["public.capability_dependencies"],"dropped":[],"indexes_on":["public.capability_dependencies"],"referenced":["public.capability_dependencies"],"views":[]}}
{"constraints":{"checks":1,"foreign_keys":0,"primary_keys":2,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["mssql","postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":1,"create_table":1,"insert":1,"other":10},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/postgres_sql_schemas/052_create_agent_timeline_forecast.sql","size":2606,"statements":13,"tables":{"altered":[],"created":["public.agent_timeline_forecast"],"dropped":[],"indexes_on":["public.agent_timeline_forecast"],"referenced":["public.agent_timeline_forecast"],"views":[]}}
{"constraints":{"checks":1,"foreign_keys":2,"primary_keys":1,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["sqlite"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_table":1,"other":2},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/001_create_agent_self_review.sql","size":1875,"statements":3,"tables":{"altered":["agent_self_review"],"created":["agent_self_review"],"dropped":[],"indexes_on":["agent_self_review"],"referenced":["agent_self_review"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":1,"unique":1},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["sqlite"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":4},"params":{"named":[":true"],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/002_create_agent_registry.sql","size":1890,"statements":8,"tables":{"altered":[],"created":["agent_registry"],"dropped":[],"indexes_on":["agent_registry"],"referenced":["agent_registry"],"views":[]}}
{"constraints":{"checks":2,"foreign_keys":0,"primary_keys":1,"unique":1},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["sqlite"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":4,"create_table":1,"other":3},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/003_create_agent_insights.sql","size":1768,"statements":8,"tables":{"altered":[],"created":["agent_insights"],"dropped":[],"indexes_on":["agent_insights"],"referenced":[],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":1,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["sqlite"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":5,"create_table":1,"insert":1,"other":3},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/004_create_diagnostics.sql","size":2762,"statements":10,"tables":{"altered":[],"created":["diagnostics"],"dropped":[],"indexes_on":["diagnostics"],"referenced":["diagnostics"],"views":[]}}
{"constraints":{"checks":1,"foreign_keys":0,"primary_keys":1,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["mssql","sqlite"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":4,"create_table":1,"insert":1,"other":3},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/005_create_agent_memory.sql","size":2016,"statements":9,"tables":{"altered":[],"created":["agent_memory"],"dropped":[],"indexes_on":["agent_memory"],"referenced":["agent_memory"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":1,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["sqlite"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":4,"create_table":1,"insert":1,"other":3},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/006_create_patch_failures.sql","size":2049,"statements":9,"tables":{"altered":[],"created":["patch_failures"],"dropped":[],"indexes_on":["patch_failures"],"referenced":["patch_failures"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":1,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["sqlite"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":3,"create_table":1,"insert":1,"other":3},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/007_create_agent_skills.sql","size":1770,"statements":8,"tables":{"altered":[],"created":["agent_skills"],"dropped":[],"indexes_on":["agent_skills"],"referenced":["agent_skills","web"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":1,"unique":1},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["sqlite"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":3},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/008_create_agent_skill_inventory.sql","size":1753,"statements":7,"tables":{"altered":[],"created":["agent_skill_inventory"],"dropped":[],"indexes_on":["agent_skill_inventory"],"referenced":["agent_skill_inventory"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":1,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["sqlite"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":3},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/009_create_agent_skill_prerequisites.sql","size":1930,"statements":7,"tables":{"altered":[],"created":["agent_skill_prerequisites"],"dropped":[],"indexes_on":["agent_skill_prerequisites"],"referenced":["agent_skill_prerequisites"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":1,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":[],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":3},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/010_create_patch_state.sql","size":1235,"statements":7,"tables":{"altered":[],"created":["patch_state"],"dropped":[],"indexes_on":["patch_state"],"referenced":["patch_state"],"views":[]}}
{"constraints":{"checks":1,"foreign_keys":0,"primary_keys":1,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["sqlite"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":3,"create_table":1,"insert":1,"other":2},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/011_create_patch_history.sql","size":1266,"statements":7,"tables":{"altered":[],"created":["patch_history"],"dropped":[],"indexes_on":["patch_history"],"referenced":["patch_history"],"views":[]}}
{"constraints":{"checks":2,"foreign_keys":0,"primary_keys":1,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["sqlite"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":2},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/012_create_patch_actions.sql","size":1529,"statements":6,"tables":{"altered":[],"created":["patch_actions"],"dropped":[],"indexes_on":["patch_actions"],"referenced":["patch_actions"],"views":[]}}
{"constraints":{"checks":1,"foreign_keys":0,"primary_keys":1,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["sqlite"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":1,"create_table":1,"insert":1,"other":2},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/013_create_patch_simulation_results.sql","size":1306,"statements":5,"tables":{"altered":[],"created":["patch_simulation_results"],"dropped":[],"indexes_on":["patch_simulation_results"],"referenced":["patch_simulation_results"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":1,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["sqlite"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":1,"create_table":1,"insert":1,"other":2},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/014_create_patch_rejections.sql","size":1134,"statements":5,"tables":{"altered":[],"created":["patch_rejections"],"dropped":[],"indexes_on":["patch_rejections"],"referenced":["patch_rejections"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":1,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":3},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/015_create_lock_state.sql","size":1212,"statements":7,"tables":{"altered":[],"created":["lock_state"],"dropped":[],"indexes_on":["lock_state"],"referenced":["lock_state"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":1,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["sqlite"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":5,"create_table":1,"other":2},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/016_create_patch_plan.sql","size":1638,"statements":8,"tables":{"altered":[],"created":["patch_plan"],"dropped":[],"indexes_on":["patch_plan"],"referenced":[],"views":[]}}
{"constraints":{"checks":1,"foreign_keys":0,"primary_keys":1,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":3},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/017_create_lock_state.sql","size":1539,"statements":7,"tables":{"altered":[],"created":["lock_state"],"dropped":[],"indexes_on":["lock_state"],"referenced":["lock_state"],"views":[]}}
{"constraints":{"checks":1,"foreign_keys":0,"primary_keys":1,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["sqlite"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"other":2},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/018_create_lock_events.sql","size":508,"statements":5,"tables":{"altered":[],"created":["lock_events"],"dropped":[],"indexes_on":["lock_events"],"referenced":[],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":0,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":[],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"other":2},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/019_create_enable_rls_on_lock_state.sql","size":73,"statements":2,"tables":{"altered":[],"created":[],"dropped":[],"indexes_on":[],"referenced":[],"views":[]}}
{"constraints":{"checks":1,"foreign_keys":0,"primary_keys":1,"unique":1},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["sqlite"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":3},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/020_create_capabilities.sql","size":1319,"statements":7,"tables":{"altered":[],"created":["capabilities"],"dropped":[],"indexes_on":["capabilities"],"referenced":["capabilities"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":1,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["sqlite"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":3},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/021_create_agent_messages.sql","size":1770,"statements":7,"tables":{"altered":[],"created":["agent_messages"],"dropped":[],"indexes_on":["agent_messages"],"referenced":["agent_messages"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":1,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["postgresql"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":3},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/022_create_patch_metadata.sql","size":1398,"statements":7,"tables":{"altered":[],"created":["patch_metadata"],"dropped":[],"indexes_on":["patch_metadata"],"referenced":["patch_metadata"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":1,"unique":1},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["sqlite"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":1,"create_table":1,"insert":1,"other":4},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/023_create_patch_state.sql","size":1310,"statements":7,"tables":{"altered":[],"created":["patch_state"],"dropped":[],"indexes_on":["patch_state"],"referenced":["patch_state"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":0,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":[],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/024_create_module_events.sql","size":2,"statements":0,"tables":{"altered":[],"created":[],"dropped":[],"indexes_on":[],"referenced":[],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":0,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":[],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/025_create_script_exec.sql","size":2,"statements":0,"tables":{"altered":[],"created":[],"dropped":[],"indexes_on":[],"referenced":[],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":0,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":[],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/026_create_router_events.sql","size":2,"statements":0,"tables":{"altered":[],"created":[],"dropped":[],"indexes_on":[],"referenced":[],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":0,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":[],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/027_create_service_events.sql","size":2,"statements":0,"tables":{"altered":[],"created":[],"dropped":[],"indexes_on":[],"referenced":[],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":1,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["sqlite"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":3,"create_table":1,"insert":1,"other":3},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/028_create_system_events.sql","size":1408,"statements":8,"tables":{"altered":[],"created":["system_events"],"dropped":[],"indexes_on":["system_events"],"referenced":["system_events"],"views":[]}}
{"constraints":{"checks":1,"foreign_keys":0,"primary_keys":1,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["sqlite"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":3,"create_table":1,"insert":1,"other":3},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/029_create_patch_feedback.sql","size":1545,"statements":8,"tables":{"altered":[],"created":["patch_feedback"],"dropped":[],"indexes_on":["patch_feedback"],"referenced":["patch_feedback"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":1,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["sqlite"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":1,"create_table":1,"insert":1,"other":3},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/039_create_patch_diffs.sql","size":1085,"statements":6,"tables":{"altered":[],"created":["patch_diffs"],"dropped":[],"indexes_on":["patch_diffs"],"referenced":["patch_diffs"],"views":[]}}
{"constraints":{"checks":1,"foreign_keys":0,"primary_keys":1,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["sqlite"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":3},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/040_create_patch_risk_evaluations.sql","size":1587,"statements":7,"tables":{"altered":[],"created":["patch_risk_evaluations"],"dropped":[],"indexes_on":["patch_risk_evaluations"],"referenced":["patch_risk_evaluations"],"views":[]}}
{"constraints":{"checks":0,"foreign_keys":0,"primary_keys":1,"unique":0},"danger":{"delete_no_where":0,"drop_database":0,"drop_table":0,"truncate":0,"update_no_where":0},"dialect_hints":["sqlite"],"functions":{"created":[],"procedures":[],"triggers":[]},"kind":"sql.index","kinds":{"create_index":2,"create_table":1,"insert":1,"other":3},"params":{"named":[],"positional":[],"qmark":0},"path":"scripts/sqlite_sql_schemas/041_create_patch_test_results.sql","size":1505,"statements":7,"tables":{"altered":[],"created":["patch_test_results"],"dropped":[],"indexes_on":["patch_test_results"],"referenced":["patch_test_results"],"views":[]}}
